"use strict";(self.webpackChunkrlp_playtest=self.webpackChunkrlp_playtest||[]).push([[179],{173:()=>{function _e(n){return"function"==typeof n}function as(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const La=as(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function zr(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ue{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(_e(i))try{i()}catch(o){t=o instanceof La?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{pm(o)}catch(s){t=t??[],s instanceof La?t=[...t,...s.errors]:t.push(s)}}if(t)throw new La(t)}}add(t){var e;if(t&&t!==this)if(this.closed)pm(t);else{if(t instanceof Ue){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&zr(e,t)}remove(t){const{_finalizers:e}=this;e&&zr(e,t),t instanceof Ue&&t._removeParent(this)}}Ue.EMPTY=(()=>{const n=new Ue;return n.closed=!0,n})();const hm=Ue.EMPTY;function fm(n){return n instanceof Ue||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function pm(n){_e(n)?n():n.unsubscribe()}const cr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Va={setTimeout(n,t,...e){const{delegate:i}=Va;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Va;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gm(n){Va.setTimeout(()=>{const{onUnhandledError:t}=cr;if(!t)throw n;t(n)})}function Bu(){}const mT=Hu("C",void 0,void 0);function Hu(n,t,e){return{kind:n,value:t,error:e}}let ur=null;function Ba(n){if(cr.useDeprecatedSynchronousErrorHandling){const t=!ur;if(t&&(ur={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=ur;if(ur=null,e)throw i}}else n()}class ju extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fm(t)&&t.add(this)):this.destination=DT}static create(t,e,i){return new ls(t,e,i)}next(t){this.isStopped?$u(function yT(n){return Hu("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$u(function _T(n){return Hu("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$u(mT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bT=Function.prototype.bind;function Uu(n,t){return bT.call(n,t)}class CT{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ha(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ha(i)}else Ha(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ha(e)}}}class ls extends ju{constructor(t,e,i){let r;if(super(),_e(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&cr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Uu(t.next,o),error:t.error&&Uu(t.error,o),complete:t.complete&&Uu(t.complete,o)}):r=t}this.destination=new CT(r)}}function Ha(n){cr.useDeprecatedSynchronousErrorHandling?function vT(n){cr.useDeprecatedSynchronousErrorHandling&&ur&&(ur.errorThrown=!0,ur.error=n)}(n):gm(n)}function $u(n,t){const{onStoppedNotification:e}=cr;e&&Va.setTimeout(()=>e(n,t))}const DT={closed:!0,next:Bu,error:function wT(n){throw n},complete:Bu},zu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Li(n){return n}function mm(n){return 0===n.length?Li:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Oe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function MT(n){return n&&n instanceof ju||function ST(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}(n)&&fm(n)}(e)?e:new ls(e,i,r);return Ba(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=_m(i))((r,o)=>{const s=new ls({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[zu](){return this}pipe(...e){return mm(e)(this)}toPromise(e){return new(e=_m(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function _m(n){var t;return null!==(t=n??cr.Promise)&&void 0!==t?t:Promise}const TT=as(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let U=(()=>{class n extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new ym(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new TT}next(e){Ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?hm:(this.currentObservers=null,o.push(e),new Ue(()=>{this.currentObservers=null,zr(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Oe;return e.source=this,e}}return n.create=(t,e)=>new ym(t,e),n})();class ym extends U{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:hm}}function vm(n){return _e(n?.lift)}function Ye(n){return t=>{if(vm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(n,t,e,i,r){return new AT(n,t,e,i,r)}class AT extends ju{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function K(n,t){return Ye((e,i)=>{let r=0;e.subscribe(Be(i,o=>{i.next(n.call(t,o,r++))}))})}function dr(n){return this instanceof dr?(this.v=n,this):new dr(n)}function kT(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(m,v){o.push([h,f,m,v])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof dr?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](f))}catch(m){d(o[0][3],m)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function PT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function wm(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Wu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Dm(n){return _e(n?.then)}function Em(n){return _e(n[zu])}function Sm(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Mm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Tm=function OT(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Am(n){return _e(n?.[Tm])}function Im(n){return kT(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield dr(e.read());if(r)return yield dr(void 0);yield yield dr(i)}}finally{e.releaseLock()}})}function xm(n){return _e(n?.getReader)}function Gt(n){if(n instanceof Oe)return n;if(null!=n){if(Em(n))return function FT(n){return new Oe(t=>{const e=n[zu]();if(_e(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Wu(n))return function NT(n){return new Oe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Dm(n))return function LT(n){return new Oe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,gm)})}(n);if(Sm(n))return km(n);if(Am(n))return function VT(n){return new Oe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(xm(n))return function BT(n){return km(Im(n))}(n)}throw Mm(n)}function km(n){return new Oe(t=>{(function HT(n,t){var e,i,r,o;return function IT(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=PT(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function fi(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function gt(n,t,e=1/0){return _e(t)?gt((i,r)=>K((o,s)=>t(i,o,r,s))(Gt(n(i,r))),e):("number"==typeof t&&(e=t),Ye((i,r)=>function jT(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=v=>c<i?m(v):l.push(v),m=v=>{o&&t.next(v),c++;let C=!1;Gt(e(v,u++)).subscribe(Be(t,E=>{r?.(E),o?f(E):t.next(E)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){const E=l.shift();s?fi(t,s,()=>m(E)):m(E)}h()}catch(E){t.error(E)}}))};return n.subscribe(Be(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function Gr(n=1/0){return gt(Li,n)}const Zn=new Oe(n=>n.complete());function Pm(n){return n&&_e(n.schedule)}function qu(n){return n[n.length-1]}function Rm(n){return _e(qu(n))?n.pop():void 0}function cs(n){return Pm(qu(n))?n.pop():void 0}function Om(n,t=0){return Ye((e,i)=>{e.subscribe(Be(i,r=>fi(i,n,()=>i.next(r),t),()=>fi(i,n,()=>i.complete(),t),r=>fi(i,n,()=>i.error(r),t)))})}function Fm(n,t=0){return Ye((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Nm(n,t){if(!n)throw new Error("Iterable cannot be null");return new Oe(e=>{fi(e,t,()=>{const i=n[Symbol.asyncIterator]();fi(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function it(n,t){return t?function YT(n,t){if(null!=n){if(Em(n))return function zT(n,t){return Gt(n).pipe(Fm(t),Om(t))}(n,t);if(Wu(n))return function WT(n,t){return new Oe(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Dm(n))return function GT(n,t){return Gt(n).pipe(Fm(t),Om(t))}(n,t);if(Sm(n))return Nm(n,t);if(Am(n))return function qT(n,t){return new Oe(e=>{let i;return fi(e,t,()=>{i=n[Tm](),fi(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>_e(i?.return)&&i.return()})}(n,t);if(xm(n))return function XT(n,t){return Nm(Im(n),t)}(n,t)}throw Mm(n)}(n,t):Gt(n)}function us(...n){const t=cs(n),e=function $T(n,t){return"number"==typeof qu(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Gt(i[0]):Gr(e)(it(i,t)):Zn}function Xu(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new ls({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function ke(n){for(let t in n)if(n[t]===ke)return t;throw Error("Could not find renamed property on target object.")}function Yu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ku(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const KT=ke({__forward_ref__:ke});function Fe(n){return n.__forward_ref__=Fe,n.toString=function(){return Pe(this())},n}function Y(n){return Zu(n)?n():n}function Zu(n){return"function"==typeof n&&n.hasOwnProperty(KT)&&n.__forward_ref__===Fe}class M extends Error{constructor(t,e){super(function ja(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function Ua(n,t){throw new M(-201,!1)}function en(n,t){null==n&&function De(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Se(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qu(n){return Vm(n,$a)||Vm(n,Hm)}function Vm(n,t){return n.hasOwnProperty(t)?n[t]:null}function Bm(n){return n&&(n.hasOwnProperty(Ju)||n.hasOwnProperty(rA))?n[Ju]:null}const $a=ke({\u0275prov:ke}),Ju=ke({\u0275inj:ke}),Hm=ke({ngInjectableDef:ke}),rA=ke({ngInjectorDef:ke});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let ed;function yn(n){const t=ed;return ed=n,t}function jm(n,t,e){const i=Qu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&z.Optional?null:void 0!==t?t:void Ua(Pe(n))}function Vi(n){return{toString:n}.toString()}var kn=(()=>((kn=kn||{})[kn.OnPush=0]="OnPush",kn[kn.Default=1]="Default",kn))(),Pn=(()=>{return(n=Pn||(Pn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Pn;var n})();const Me=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wr={},be=[],za=ke({\u0275cmp:ke}),td=ke({\u0275dir:ke}),nd=ke({\u0275pipe:ke}),Um=ke({\u0275mod:ke}),gi=ke({\u0275fac:ke}),ds=ke({__NG_ELEMENT_ID__:ke});let sA=0;function $e(n){return Vi(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||be,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Pn.Emulated,id:"c"+sA++,styles:n.styles||be,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=Gm(n.inputs,i),r.outputs=Gm(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map($m).filter(zm):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ot).filter(zm):null,r})}function $m(n){return Ee(n)||Rt(n)}function zm(n){return null!==n}function Re(n){return Vi(()=>({type:n.type,bootstrap:n.bootstrap||be,declarations:n.declarations||be,imports:n.imports||be,exports:n.exports||be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Gm(n,t){if(null==n)return Wr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const N=$e;function Wt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ee(n){return n[za]||null}function Rt(n){return n[td]||null}function Ot(n){return n[nd]||null}function tn(n,t){const e=n[Um]||null;if(!e&&!0===t)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return e}function qt(n){return Array.isArray(n)&&"object"==typeof n[1]}function On(n){return Array.isArray(n)&&!0===n[1]}function od(n){return 0!=(8&n.flags)}function Xa(n){return 2==(2&n.flags)}function Ya(n){return 1==(1&n.flags)}function Fn(n){return null!==n.template}function hA(n){return 0!=(256&n[2])}function mr(n,t){return n.hasOwnProperty(gi)?n[gi]:null}class gA{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Xt(){return Xm}function Xm(n){return n.type.prototype.ngOnChanges&&(n.setInput=_A),mA}function mA(){const n=Km(this),t=n?.current;if(t){const e=n.previous;if(e===Wr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function _A(n,t,e,i){const r=Km(n)||function yA(n,t){return n[Ym]=t}(n,{previous:Wr,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new gA(l&&l.currentValue,t,s===Wr),n[i]=t}Xt.ngInherit=!0;const Ym="__ngSimpleChanges__";function Km(n){return n[Ym]||null}function rt(n){for(;Array.isArray(n);)n=n[0];return n}function Ka(n,t){return rt(t[n])}function Cn(n,t){return rt(t[n.index])}function ud(n,t){return n.data[t]}function Zr(n,t){return n[t]}function rn(n,t){const e=t[n];return qt(e)?e:e[0]}function Zm(n){return 4==(4&n[2])}function Za(n){return 64==(64&n[2])}function Bi(n,t){return null==t?null:n[t]}function Qm(n){n[18]=0}function dd(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const ee={lFrame:a_(null),bindingsEnabled:!0};function e_(){return ee.bindingsEnabled}function T(){return ee.lFrame.lView}function ge(){return ee.lFrame.tView}function Te(n){return ee.lFrame.contextLView=n,n[8]}function Ae(n){return ee.lFrame.contextLView=null,n}function ct(){let n=t_();for(;null!==n&&64===n.type;)n=n.parent;return n}function t_(){return ee.lFrame.currentTNode}function Qn(n,t){const e=ee.lFrame;e.currentTNode=n,e.isParent=t}function hd(){return ee.lFrame.isParent}function fd(){ee.lFrame.isParent=!1}function mi(){return ee.lFrame.bindingIndex}function Qr(){return ee.lFrame.bindingIndex++}function _i(n){const t=ee.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function PA(n,t){const e=ee.lFrame;e.bindingIndex=e.bindingRootIndex=n,pd(t)}function pd(n){ee.lFrame.currentDirectiveIndex=n}function gd(n){const t=ee.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function r_(){return ee.lFrame.currentQueryIndex}function md(n){ee.lFrame.currentQueryIndex=n}function OA(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function o_(n,t,e){if(e&z.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&z.Host||(r=OA(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ee.lFrame=s_();return i.currentTNode=t,i.lView=n,!0}function _d(n){const t=s_(),e=n[1];ee.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function s_(){const n=ee.lFrame,t=null===n?null:n.child;return null===t?a_(n):t}function a_(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function l_(){const n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const c_=l_;function yd(){const n=l_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nt(){return ee.lFrame.selectedIndex}function Hi(n){ee.lFrame.selectedIndex=n}function Ze(){const n=ee.lFrame;return ud(n.tView,n.selectedIndex)}function Ja(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function el(n,t,e){u_(n,t,3,e)}function tl(n,t,e,i){(3&n[2])===e&&u_(n,t,e,i)}function vd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function u_(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&($A(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function $A(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ms{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function nl(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];h_(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function d_(n){return 3===n||4===n||6===n}function h_(n){return 64===n.charCodeAt(0)}function il(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||f_(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function f_(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function p_(n){return-1!==n}function Jr(n){return 32767&n}function eo(n,t){let e=function XA(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Cd=!0;function rl(n){const t=Cd;return Cd=n,t}let YA=0;const Jn={};function ys(n,t){const e=Dd(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,wd(i.data,n),wd(t,null),wd(i.blueprint,null));const r=ol(n,t),o=n.injectorIndex;if(p_(r)){const s=Jr(r),a=eo(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function wd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Dd(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ol(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=D_(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function sl(n,t,e){!function KA(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ds)&&(i=e[ds]),null==i&&(i=e[ds]=YA++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function __(n,t,e){if(e&z.Optional)return n;Ua()}function y_(n,t,e,i){if(e&z.Optional&&void 0===i&&(i=null),0==(e&(z.Self|z.Host))){const r=n[9],o=yn(void 0);try{return r?r.get(t,i,e&z.Optional):jm(t,i,e&z.Optional)}finally{yn(o)}}return __(i,0,e)}function v_(n,t,e,i=z.Default,r){if(null!==n){if(1024&t[2]){const s=function tI(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=b_(o,s,e,i|z.Self,Jn);if(a!==Jn)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(e,Jn,i);if(u!==Jn)return u}l=D_(s),s=s[15]}o=l}return r}(n,t,e,i,Jn);if(s!==Jn)return s}const o=b_(n,t,e,i,Jn);if(o!==Jn)return o}return y_(t,e,i,r)}function b_(n,t,e,i,r){const o=function JA(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ds)?n[ds]:void 0;return"number"==typeof t?t>=0?255&t:eI:t}(e);if("function"==typeof o){if(!o_(t,n,i))return i&z.Host?__(r,0,i):y_(t,e,i,r);try{const s=o(i);if(null!=s||i&z.Optional)return s;Ua()}finally{c_()}}else if("number"==typeof o){let s=null,a=Dd(n,t),l=-1,c=i&z.Host?t[16][6]:null;for((-1===a||i&z.SkipSelf)&&(l=-1===a?ol(n,t):t[a+8],-1!==l&&w_(i,!1)?(s=t[1],a=Jr(l),t=eo(l,t)):a=-1);-1!==a;){const u=t[1];if(C_(o,a,u.data)){const d=QA(a,t,e,s,i,c);if(d!==Jn)return d}l=t[a+8],-1!==l&&w_(i,t[1].data[a+8]===c)&&C_(o,a,t)?(s=u,a=Jr(l),t=eo(l,t)):a=-1}}return r}function QA(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=al(a,s,e,null==i?Xa(a)&&Cd:i!=s&&0!=(3&a.type),r&z.Host&&o===a);return null!==u?vs(t,s,u,a):Jn}function al(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const m=s[f];if(f<l&&e===m||f>=l&&m.type===e)return f}if(r){const f=s[l];if(f&&Fn(f)&&f.type===e)return l}return null}function vs(n,t,e,i){let r=n[e];const o=t.data;if(function zA(n){return n instanceof ms}(r)){const s=r;s.resolving&&function ZT(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new M(-200,`Circular dependency in DI detected for ${n}${e}`)}(function ve(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}(o[e]));const a=rl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?yn(s.injectImpl):null;o_(n,i,z.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function UA(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Xm(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&yn(l),rl(a),s.resolving=!1,c_()}}return r}function C_(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function w_(n,t){return!(n&z.Self||n&z.Host&&t)}class to{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return v_(this._tNode,this._lView,t,i,e)}}function eI(){return new to(ct(),T())}function Ie(n){return Vi(()=>{const t=n.prototype.constructor,e=t[gi]||Ed(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[gi]||Ed(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ed(n){return Zu(n)?()=>{const t=Ed(Y(n));return t&&t()}:mr(n)}function D_(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function no(n){return function ZA(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(d_(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(ct(),n)}const ro="__parameters__";function so(n,t,e){return Vi(()=>{const i=function Sd(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(ro)?l[ro]:Object.defineProperty(l,ro,{value:[]})[ro];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class x{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=P({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function on(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),on(i,t)):t!==n&&t.push(i)}return t}function yi(n,t){n.forEach(e=>Array.isArray(e)?yi(e,t):t(e))}function S_(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ll(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ws(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function sn(n,t,e){let i=ao(n,t);return i>=0?n[1|i]=e:(i=~i,function oI(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Td(n,t){const e=ao(n,t);if(e>=0)return n[1|e]}function ao(n,t){return function A_(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Ds={},Id="__NG_DI_FLAG__",ul="ngTempTokenPath",fI=/\n/gm,I_="__source";let Es;function lo(n){const t=Es;return Es=n,t}function gI(n,t=z.Default){if(void 0===Es)throw new M(-203,!1);return null===Es?jm(n,void 0,t):Es.get(n,t&z.Optional?null:void 0,t)}function w(n,t=z.Default){return(function oA(){return ed}()||gI)(Y(n),t)}function Le(n,t=z.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),w(n,t)}function xd(n){const t=[];for(let e=0;e<n.length;e++){const i=Y(n[e]);if(Array.isArray(i)){if(0===i.length)throw new M(900,!1);let r,o=z.Default;for(let s=0;s<i.length;s++){const a=i[s],l=mI(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(w(r,o))}else t.push(w(i))}return t}function Ss(n,t){return n[Id]=t,n.prototype[Id]=t,n}function mI(n){return n[Id]}const Ui=Ss(so("Optional"),8),co=Ss(so("SkipSelf"),4);let Pd,fl,pl;function ho(n){return function Rd(){if(void 0===fl&&(fl=null,Me.trustedTypes))try{fl=Me.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fl}()?.createHTML(n)||n}function B_(n){return function Od(){if(void 0===pl&&(pl=null,Me.trustedTypes))try{pl=Me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pl}()?.createHTML(n)||n}class _r{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kI extends _r{getTypeName(){return"HTML"}}class PI extends _r{getTypeName(){return"Style"}}class RI extends _r{getTypeName(){return"Script"}}class OI extends _r{getTypeName(){return"URL"}}class FI extends _r{getTypeName(){return"ResourceURL"}}function an(n){return n instanceof _r?n.changingThisBreaksApplicationSecurity:n}function ei(n,t){const e=function NI(n){return n instanceof _r&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class UI{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ho(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class $I{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ho(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=ho(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const GI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,WI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function As(n){return(n=String(n)).match(GI)||n.match(WI)?n:"unsafe:"+n}function ti(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Is(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const z_=ti("area,br,col,hr,img,wbr"),G_=ti("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),W_=ti("rp,rt"),Fd=Is(z_,Is(G_,ti("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Is(W_,ti("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Is(W_,G_)),Nd=ti("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ld=ti("srcset"),q_=Is(Nd,Ld,ti("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ti("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qI=ti("script,style,template");class XI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Fd.hasOwnProperty(e))return this.sanitizedSomething=!0,!qI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!q_.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Nd[a]&&(l=As(l)),Ld[a]&&(n=l,l=(n=String(n)).split(",").map(t=>As(t.trim())).join(", ")),this.buf.push(" ",s,'="',X_(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Fd.hasOwnProperty(e)&&!z_.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(X_(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const YI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KI=/([^\#-~ |!])/g;function X_(n){return n.replace(/&/g,"&amp;").replace(YI,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(KI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gl;function Y_(n,t){let e=null;try{gl=gl||function U_(n){const t=new $I(n);return function zI(){try{return!!(new window.DOMParser).parseFromString(ho(""),"text/html")}catch{return!1}}()?new UI(t):t}(n);let i=t?String(t):"";e=gl.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=gl.getInertBodyElement(i)}while(i!==o);return ho((new XI).sanitizeChildren(Vd(e)||e))}finally{if(e){const i=Vd(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Vd(n){return"content"in n&&function ZI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ce=(()=>((Ce=Ce||{})[Ce.NONE=0]="NONE",Ce[Ce.HTML=1]="HTML",Ce[Ce.STYLE=2]="STYLE",Ce[Ce.SCRIPT=3]="SCRIPT",Ce[Ce.URL=4]="URL",Ce[Ce.RESOURCE_URL=5]="RESOURCE_URL",Ce))();function vi(n){const t=ks();return t?B_(t.sanitize(Ce.HTML,n)||""):ei(n,"HTML")?B_(an(n)):Y_(function V_(){return void 0!==Pd?Pd:typeof document<"u"?document:void 0}(),te(n))}function xs(n){const t=ks();return t?t.sanitize(Ce.URL,n)||"":ei(n,"URL")?an(n):As(te(n))}function ks(){const n=T();return n&&n[12]}const Bd=new x("ENVIRONMENT_INITIALIZER"),Z_=new x("INJECTOR",-1),Q_=new x("INJECTOR_DEF_TYPES");class J_{get(t,e=Ds){if(e===Ds){const i=new Error(`NullInjectorError: No provider for ${Pe(t)}!`);throw i.name="NullInjectorError",i}return e}}function rx(...n){return{\u0275providers:ey(0,n)}}function ey(n,...t){const e=[],i=new Set;let r;return yi(t,o=>{const s=o;Hd(s,e,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&ty(r,e),e}function ty(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];yi(r,o=>{t.push(o)})}}function Hd(n,t,e,i){if(!(n=Y(n)))return!1;let r=null,o=Bm(n);const s=!o&&Ee(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Bm(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Hd(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{yi(o.imports,u=>{Hd(u,t,e,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&ty(c,t)}if(!a){const c=mr(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:be},{provide:Q_,useValue:r,multi:!0},{provide:Bd,useValue:()=>w(r),multi:!0})}const l=o.providers;null==l||a||yi(l,u=>{t.push(u)})}}return r!==n&&void 0!==n.providers}const ox=ke({provide:String,useValue:ke});function jd(n){return null!==n&&"object"==typeof n&&ox in n}function yr(n){return"function"==typeof n}const Ud=new x("Set Injector scope."),ml={},ax={};let $d;function _l(){return void 0===$d&&($d=new J_),$d}class $i{}class ry extends $i{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gd(t,s=>this.processProvider(s)),this.records.set(Z_,fo(void 0,this)),r.has("environment")&&this.records.set($i,fo(void 0,this));const o=this.records.get(Ud);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Q_.multi,be,z.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=lo(this),i=yn(void 0);try{return t()}finally{lo(e),yn(i)}}get(t,e=Ds,i=z.Default){this.assertNotDestroyed();const r=lo(this),o=yn(void 0);try{if(!(i&z.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function hx(n){return"function"==typeof n||"object"==typeof n&&n instanceof x}(t)&&Qu(t);a=l&&this.injectableDefInScope(l)?fo(zd(t),ml):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&z.Self?_l():this.parent).get(t,e=i&z.Optional&&e===Ds?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[ul]=s[ul]||[]).unshift(Pe(t)),r)throw s;return function _I(n,t,e,i){const r=n[ul];throw t[I_]&&r.unshift(t[I_]),n.message=function yI(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Pe(t);if(Array.isArray(t))r=t.map(Pe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(fI,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[ul]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{yn(o),lo(r)}}resolveInjectorInitializers(){const t=lo(this),e=yn(void 0);try{const i=this.get(Bd.multi,be,z.Self);for(const r of i)r()}finally{lo(t),yn(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Pe(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let e=yr(t=Y(t))?t:Y(t&&t.provide);const i=function cx(n){return jd(n)?fo(void 0,n.useValue):fo(oy(n),ml)}(t);if(yr(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=fo(void 0,ml,!0),r.factory=()=>xd(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===ml&&(e.value=ax,e.value=e.factory()),"object"==typeof e.value&&e.value&&function dx(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Y(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function zd(n){const t=Qu(n),e=null!==t?t.factory:mr(n);if(null!==e)return e;if(n instanceof x)throw new M(204,!1);if(n instanceof Function)return function lx(n){const t=n.length;if(t>0)throw ws(t,"?"),new M(204,!1);const e=function nA(n){const t=n&&(n[$a]||n[Hm]);if(t){const e=function iA(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new M(204,!1)}function oy(n,t,e){let i;if(yr(n)){const r=Y(n);return mr(r)||zd(r)}if(jd(n))i=()=>Y(n.useValue);else if(function iy(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...xd(n.deps||[]));else if(function ny(n){return!(!n||!n.useExisting)}(n))i=()=>w(Y(n.useExisting));else{const r=Y(n&&(n.useClass||n.provide));if(!function ux(n){return!!n.deps}(n))return mr(r)||zd(r);i=()=>new r(...xd(n.deps))}return i}function fo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function fx(n){return!!n.\u0275providers}function Gd(n,t){for(const e of n)Array.isArray(e)?Gd(e,t):fx(e)?Gd(e.\u0275providers,t):t(e)}class sy{}class mx{resolveComponentFactory(t){throw function gx(n){const t=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let vr=(()=>{class n{}return n.NULL=new mx,n})();function _x(){return po(ct(),T())}function po(n,t){return new ze(Cn(n,t))}let ze=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=_x,n})();function yx(n){return n instanceof ze?n.nativeElement:n}class Ps{}let bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function vx(){const n=T(),e=rn(ct().index,n);return(qt(e)?e:n)[11]}(),n})(),bx=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>null}),n})();class br{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cx=new br("14.1.3"),Wd={};function Zd(n){return n.ngOriginalError}class zi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Zd(t);for(;e&&Zd(e);)e=Zd(e);return e||null}}const Qd=new Map;let Rx=0;const eh="__ngContext__";function Et(n,t){qt(t)?(n[eh]=t[20],function Fx(n){Qd.set(n[20],n)}(t)):n[eh]=t}function Rs(n){const t=n[eh];return"number"==typeof t?function fy(n){return Qd.get(n)||null}(t):t||null}function th(n){const t=Rs(n);return t?qt(t)?t:t.lView:null}const zx=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Me))();function Ci(n){return n instanceof Function?n():n}var Yt=(()=>((Yt=Yt||{})[Yt.Important=1]="Important",Yt[Yt.DashCase=2]="DashCase",Yt))();function ih(n,t){return undefined(n,t)}function Os(n){const t=n[3];return On(t)?t[3]:t}function rh(n){return Cy(n[13])}function oh(n){return Cy(n[4])}function Cy(n){for(;null!==n&&!On(n);)n=n[4];return n}function mo(n,t,e,i,r){if(null!=i){let o,s=!1;On(i)?o=i:qt(i)&&(s=!0,i=i[0]);const a=rt(i);0===n&&null!==e?null==r?Ty(t,e,a):Cr(t,e,a,r||null,!0):1===n&&null!==e?Cr(t,e,a,r||null,!0):2===n?function Oy(n,t,e){const i=yl(n,t);i&&function lk(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function dk(n,t,e,i,r){const o=e[7];o!==rt(e)&&mo(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];Fs(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function ah(n,t,e){return n.createElement(t,e)}function Dy(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,dd(r,-1)),e.splice(i,1)}function lh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Dy(r,i),t>0&&(n[e-1][4]=i[4]);const o=ll(n,10+t);!function ek(n,t){Fs(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Ey(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Fs(n,t,e,3,null,null),function ik(n){let t=n[13];if(!t)return ch(n[1],n);for(;t;){let e=null;if(qt(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)qt(t)&&ch(t[1],t),t=t[3];null===t&&(t=n),qt(t)&&ch(t[1],t),e=t&&t[4]}t=e}}(t)}}function ch(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ak(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof ms)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function sk(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):rt(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&On(t[3])){e!==t[3]&&Dy(e,t);const i=t[19];null!==i&&i.detachView(n)}!function Nx(n){Qd.delete(n[20])}(t)}}function Sy(n,t,e){return function My(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Pn.None||r===Pn.Emulated)return null}return Cn(i,e)}(n,t.parent,e)}function Cr(n,t,e,i,r){n.insertBefore(t,e,i,r)}function Ty(n,t,e){n.appendChild(t,e)}function Ay(n,t,e,i,r){null!==i?Cr(n,t,e,i,r):Ty(n,t,e)}function yl(n,t){return n.parentNode(t)}function Iy(n,t,e){return ky(n,t,e)}let ky=function xy(n,t,e){return 40&n.type?Cn(n,e):null};function vl(n,t,e,i){const r=Sy(n,i,t),o=t[11],a=Iy(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)Ay(o,r,e[l],a,!1);else Ay(o,r,e,a,!1)}function bl(n,t){if(null!==t){const e=t.type;if(3&e)return Cn(t,n);if(4&e)return dh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return bl(n,i);{const r=n[t.index];return On(r)?dh(-1,r):rt(r)}}if(32&e)return ih(t,n)()||rt(n[t.index]);{const i=Ry(n,t);return null!==i?Array.isArray(i)?i[0]:bl(Os(n[16]),i):bl(n,t.next)}}return null}function Ry(n,t){return null!==t?n[16][6].projection[t.projection]:null}function dh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return bl(i,r)}return t[7]}function hh(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Et(rt(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)hh(n,t,e.child,i,r,o,!1),mo(t,n,r,a,o);else if(32&l){const c=ih(e,i);let u;for(;u=c();)mo(t,n,r,u,o);mo(t,n,r,a,o)}else 16&l?Fy(n,t,i,e,r,o):mo(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Fs(n,t,e,i,r,o){hh(e,i,n.firstChild,t,r,o,!1)}function Fy(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)mo(t,n,r,l[c],o);else hh(n,t,l,s[3],r,o,!0)}function Ny(n,t,e){n.setAttribute(t,"style",e)}function fh(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Ly(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const Vy="ng-template";function fk(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Ly(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function By(n){return 4===n.type&&n.value!==Vy}function pk(n,t,e){return t===(4!==n.type||e?n.value:Vy)}function gk(n,t,e){let i=4;const r=n.attrs||[],o=function yk(n){for(let t=0;t<n.length;t++)if(d_(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!pk(n,l,e)||""===l&&1===t.length){if(Nn(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!fk(n.attrs,c,e)){if(Nn(i))return!1;s=!0}continue}const d=mk(8&i?"class":l,r,By(n),e);if(-1===d){if(Nn(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==Ly(f,c,0)||2&i&&c!==h){if(Nn(i))return!1;s=!0}}}}else{if(!s&&!Nn(i)&&!Nn(l))return!1;if(s&&Nn(l))continue;s=!1,i=l|1&i}}return Nn(i)||s}function Nn(n){return 0==(1&n)}function mk(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function vk(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Hy(n,t,e=!1){for(let i=0;i<t.length;i++)if(gk(n,t[i],e))return!0;return!1}function bk(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function jy(n,t){return n?":not("+t.trim()+")":t}function Ck(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Nn(s)&&(t+=jy(o,r),r=""),i=s,o=o||!Nn(i);e++}return""!==r&&(t+=jy(o,r)),t}const ne={};function y(n){Uy(ge(),T(),Nt()+n,!1)}function Uy(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&el(t,o,e)}else{const o=n.preOrderHooks;null!==o&&tl(t,o,0,e)}Hi(e)}function Wy(n,t=null,e=null,i){const r=qy(n,t,e,i);return r.resolveInjectorInitializers(),r}function qy(n,t=null,e=null,i,r=new Set){const o=[e||be,rx(n)];return i=i||("object"==typeof n?void 0:Pe(n)),new ry(o,t||_l(),i||null,r)}let dt=(()=>{class n{static create(e,i){if(Array.isArray(e))return Wy({name:""},i,e,"");{const r=e.name??"";return Wy({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Ds,n.NULL=new J_,n.\u0275prov=P({token:n,providedIn:"any",factory:()=>w(Z_)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,t=z.Default){const e=T();return null===e?w(n,t):v_(ct(),e,Y(n),t)}function wl(){throw new Error("invalid")}function Dl(n,t){return n<<17|t<<2}function Ln(n){return n>>17&32767}function yh(n){return 2|n}function wi(n){return(131068&n)>>2}function vh(n,t){return-131069&n|t<<2}function bh(n){return 1|n}function uv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];md(r),s.contentQueries(2,t[o],o)}}}function Ml(n,t,e,i,r,o,s,a,l,c,u){const d=t.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),Qm(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function Ox(){return Rx++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function yo(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Ih(n,t,e,i,r){const o=t_(),s=hd(),l=n.data[t]=function rP(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function kA(){return ee.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function gs(){const n=ee.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Qn(o,!0),o}function vo(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Tl(n,t,e){_d(t);try{const i=n.viewQuery;null!==i&&Vh(1,i,e);const r=n.template;null!==r&&dv(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uv(n,t),n.staticViewQueries&&Vh(2,n.viewQuery,e);const o=n.components;null!==o&&function eP(n,t){for(let e=0;e<t.length;e++)bP(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,yd()}}function Ns(n,t,e,i){const r=t[2];if(128!=(128&r)){_d(t);try{Qm(t),function n_(n){return ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&dv(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&el(t,c,null)}else{const c=n.preOrderHooks;null!==c&&tl(t,c,0,null),vd(t,0)}if(function yP(n){for(let t=rh(n);null!==t;t=oh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(512&r[2])&&dd(o,1),r[2]|=512}}}(t),function _P(n){for(let t=rh(n);null!==t;t=oh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Za(i)&&Ns(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&uv(n,t),s){const c=n.contentCheckHooks;null!==c&&el(t,c)}else{const c=n.contentHooks;null!==c&&tl(t,c,1),vd(t,1)}!function Qk(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Hi(~r);else{const o=r,s=e[++i],a=e[++i];PA(s,o),a(2,t[o])}}}finally{Hi(-1)}}(n,t);const a=n.components;null!==a&&function Jk(n,t){for(let e=0;e<t.length;e++)vP(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Vh(2,l,i),s){const c=n.viewCheckHooks;null!==c&&el(t,c)}else{const c=n.viewHooks;null!==c&&tl(t,c,2),vd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,dd(t[3],-1))}finally{yd()}}}function tP(n,t,e,i){const r=t[10],s=Zm(t);try{!s&&r.begin&&r.begin(),s&&Tl(n,t,i),Ns(n,t,e,i)}finally{!s&&r.end&&r.end()}}function dv(n,t,e,i,r){const o=Nt(),s=2&i;try{Hi(-1),s&&t.length>22&&Uy(n,t,22,!1),e(i,r)}finally{Hi(o)}}function hv(n,t,e){if(od(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function xh(n,t,e){!e_()||(function cP(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||ys(e,t),Et(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Fn(l);c&&pP(t,e,l);const u=vs(t,n,a,e);Et(u,t),null!==s&&gP(0,a-r,u,l,0,s),c&&(rn(e.index,t)[8]=u)}}(n,t,e,Cn(e,t)),128==(128&e.flags)&&function uP(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function RA(){return ee.lFrame.currentDirectiveIndex}();try{Hi(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];pd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&vv(l,c)}}finally{Hi(-1),pd(s)}}(n,t,e))}function kh(n,t,e=Cn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function fv(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ph(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Ph(n,t,e,i,r,o,s,a,l,c){const u=22+i,d=u+r,h=function nP(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ne);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function pv(n,t,e,i){const r=Mv(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Tv(n).push(i,r.length-1))}function gv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function mv(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===o||By(t)?null:mP(d,o);s.push(h),a=gv(d,c,a),l=gv(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function ln(n,t,e,i,r,o,s,a){const l=Cn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(Bh(n,e,u,i,r),Xa(t)&&_v(e,t.index)):3&t.type&&(i=function oP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function _v(n,t){const e=rn(t,n);16&e[2]||(e[2]|=32)}function Rh(n,t,e,i){let r=!1;if(e_()){const o=function dP(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Hy(e,s.selectors,!1)&&(r||(r=[]),sl(ys(e,t),n,s.type),Fn(s)?(bv(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Cv(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=vo(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=il(e.mergedAttrs,d.hostAttrs),wv(n,e,t,c,d),fP(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}mv(n,e)}s&&function hP(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new M(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=il(e.mergedAttrs,e.attrs),r}function yv(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function lP(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function vv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function bv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function fP(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Fn(t)&&(e[""]=n)}}function Cv(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function wv(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=mr(r.type)),s=new ms(o,Fn(r),b);n.blueprint[i]=s,e[i]=s,yv(n,t,0,i,vo(n,e,r.hostVars,ne),r)}function pP(n,t,e){const i=Cn(t,n),r=fv(e),o=n[10],s=Al(n,Ml(n,r,null,e.onPush?32:16,i,t,o,o.createRenderer(i,e),null,null,null));n[t.index]=s}function ni(n,t,e,i,r,o){const s=Cn(n,t);!function Oh(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?te(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[11],s,o,n.value,e,i,r)}function gP(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function mP(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Dv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function vP(n,t){const e=rn(t,n);if(Za(e)){const i=e[1];48&e[2]?Ns(i,e,i.template,e[8]):e[5]>0&&Fh(e)}}function Fh(n){for(let i=rh(n);null!==i;i=oh(i))for(let r=10;r<i.length;r++){const o=i[r];if(Za(o))if(512&o[2]){const s=o[1];Ns(s,o,s.template,o[8])}else o[5]>0&&Fh(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=rn(e[i],n);Za(r)&&r[5]>0&&Fh(r)}}function bP(n,t){const e=rn(t,n),i=e[1];(function CP(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Tl(i,e,e[8])}function Al(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Nh(n){for(;n;){n[2]|=32;const t=Os(n);if(hA(n)&&!t)return n;n=t}return null}function Sv(n){!function Ev(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=th(e);if(null!==i){const r=i[1];tP(r,i,r.template,e)}}}(n[8])}function Vh(n,t,e){md(0),t(n,e)}const DP=(()=>Promise.resolve(null))();function Mv(n){return n[7]||(n[7]=[])}function Tv(n){return n.cleanup||(n.cleanup=[])}function Av(n,t,e){return(null===n||Fn(n))&&(e=function wA(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function Iv(n,t){const e=n[9],i=e?e.get(zi,null):null;i&&i.handleError(t)}function Bh(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Di(n,t,e){const i=Ka(t,n);!function wy(n,t,e){n.setValue(t,e)}(n[11],i,e)}function Il(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Ku(r,a):2==o&&(i=Ku(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function xl(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(rt(o)),On(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&xl(l[1],l,c,i)}const s=e.type;if(8&s)xl(n,t,e.child,i);else if(32&s){const a=ih(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=Ry(t,e);if(Array.isArray(a))i.push(...a);else{const l=Os(t[16]);xl(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Ls{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return xl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(On(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(lh(t,i),ll(e,i))}this._attachedToViewContainer=!1}Ey(this._lView[1],this._lView)}onDestroy(t){pv(this._lView[1],this._lView,null,t)}markForCheck(){Nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Lh(n,t,e){const i=t[10];i.begin&&i.begin();try{Ns(n,t,n.template,e)}catch(r){throw Iv(t,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nk(n,t){Fs(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t}}class EP extends Ls{constructor(t){super(t),this._view=t}detectChanges(){Sv(this._view)}checkNoChanges(){}get context(){return null}}class Hh extends vr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ee(t);return new Vs(e,this.ngModule)}}function xv(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class MP{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,Wd,i);return r!==Wd||e===Wd?r:this.parentInjector.get(t,e,i)}}class Vs extends sy{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function wk(n){return n.map(Ck).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return xv(this.componentDef.inputs)}get outputs(){return xv(this.componentDef.outputs)}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof $i?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new MP(t,o):t,a=s.get(Ps,null);if(null===a)throw new M(407,!1);const l=s.get(bx,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function iP(n,t,e){return n.selectRootElement(t,e===Pn.ShadowDom)}(c,i,this.componentDef.encapsulation):ah(a.createRenderer(null,this.componentDef),u,function SP(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=function kP(n,t){return{components:[],scheduler:n||zx,clean:DP,playerHandler:t||null,flags:0}}(),m=Ph(0,null,null,1,0,null,null,null,null,null),v=Ml(null,m,f,h,null,null,a,c,l,s,null);let C,E;_d(v);try{const I=function IP(n,t,e,i,r,o){const s=e[1];e[22]=n;const l=yo(s,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Il(l,c,!0),null!==n&&(nl(r,n,c),null!==l.classes&&fh(r,n,l.classes),null!==l.styles&&Ny(r,n,l.styles)));const u=i.createRenderer(n,t),d=Ml(e,fv(t),null,t.onPush?32:16,e[22],l,i,u,o||null,null,null);return s.firstCreatePass&&(sl(ys(l,e),s,t.type),bv(s,l),Cv(l,e.length,1)),Al(e,d),e[22]=d}(d,this.componentDef,v,a,c);if(d)if(i)nl(c,d,["ng-version",Cx.full]);else{const{attrs:D,classes:k}=function Dk(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Nn(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);D&&nl(c,d,D),k&&k.length>0&&fh(c,d,k.join(" "))}if(E=ud(m,22),void 0!==e){const D=E.projection=[];for(let k=0;k<this.ngContentSelectors.length;k++){const J=e[k];D.push(null!=J?Array.from(J):null)}}C=function xP(n,t,e,i,r){const o=e[1],s=function aP(n,t,e){const i=ct();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),wv(n,i,t,vo(n,t,1,null),e),mv(n,i));const r=vs(t,n,i.directiveStart,i);Et(r,t);const o=Cn(i,t);return o&&Et(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,null!==r)for(const l of r)l(s,t);if(t.contentQueries){const l=ct();t.contentQueries(1,s,l.directiveStart)}const a=ct();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Hi(a.index),yv(e[1],a,0,a.directiveStart,a.directiveEnd,t),vv(t,s)),s}(I,this.componentDef,v,f,[PP]),Tl(m,v,null)}finally{yd()}return new AP(this.componentType,C,po(E,v),v,E)}}class AP extends class px{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new EP(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;Bh(o[1],o,r,t,e),_v(o,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function PP(){const n=ct();Ja(T()[1],n)}function G(n){let t=function kv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Fn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=jh(n.inputs),s.declaredInputs=jh(n.declaredInputs),s.outputs=jh(n.outputs);const a=r.hostBindings;a&&NP(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&OP(n,l),c&&FP(n,c),Yu(n.inputs,r.inputs),Yu(n.declaredInputs,r.declaredInputs),Yu(n.outputs,r.outputs),Fn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===G&&(e=!1)}}t=Object.getPrototypeOf(t)}!function RP(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=il(r.hostAttrs,e=il(e,r.hostAttrs))}}(i)}function jh(n){return n===Wr?{}:n===be?[]:n}function OP(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function FP(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function NP(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let kl=null;function wr(){if(!kl){const n=Me.Symbol;if(n&&n.iterator)kl=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(kl=i)}}}return kl}function Bs(n){return!!Uh(n)&&(Array.isArray(n)||!(n instanceof Map)&&wr()in n)}function Uh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function St(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Dr(n,t,e,i){const r=St(n,t,e);return St(n,t+1,i)||r}function Vt(n,t,e,i){const r=T();return St(r,Qr(),t)&&(ge(),ni(Ze(),r,n,t,e,i)),Vt}function Co(n,t,e,i){return St(n,Qr(),e)?t+te(e)+i:ne}function Do(n,t,e,i,r,o,s,a){const c=function Pl(n,t,e,i,r){const o=Dr(n,t,e,i);return St(n,t+2,r)||o}(n,mi(),e,r,s);return _i(3),c?t+te(e)+i+te(r)+o+te(s)+a:ne}function W(n,t,e,i,r,o,s,a){const l=T(),c=ge(),u=n+22,d=c.firstCreatePass?function GP(n,t,e,i,r,o,s,a,l){const c=t.consts,u=yo(t,n,4,s||null,Bi(c,a));Rh(t,e,u,Bi(c,l)),Ja(t,u);const d=u.tViews=Ph(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Qn(d,!1);const h=l[11].createComment("");vl(c,l,h,d),Et(h,l),Al(l,l[u]=Dv(h,l,h,d)),Ya(d)&&xh(c,l,d),null!=s&&kh(l,d,a)}function js(n){return Zr(function xA(){return ee.lFrame.contextLView}(),22+n)}function S(n,t,e){const i=T();return St(i,Qr(),t)&&ln(ge(),Ze(),i,n,t,i[11],e,!1),S}function $h(n,t,e,i,r){const s=r?"class":"style";Bh(n,e,t.inputs[s],s,i)}function _(n,t,e,i){const r=T(),o=ge(),s=22+n,a=r[11],l=r[s]=ah(a,t,function jA(){return ee.lFrame.currentNamespace}()),c=o.firstCreatePass?function qP(n,t,e,i,r,o,s){const a=t.consts,c=yo(t,n,2,r,Bi(a,o));return Rh(t,e,c,Bi(a,s)),null!==c.attrs&&Il(c,c.attrs,!1),null!==c.mergedAttrs&&Il(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];Qn(c,!0);const u=c.mergedAttrs;null!==u&&nl(a,l,u);const d=c.classes;null!==d&&fh(a,l,d);const h=c.styles;return null!==h&&Ny(a,l,h),64!=(64&c.flags)&&vl(o,r,l,c),0===function SA(){return ee.lFrame.elementDepthCount}()&&Et(l,r),function MA(){ee.lFrame.elementDepthCount++}(),Ya(c)&&(xh(o,r,c),hv(o,c,r)),null!==i&&kh(r,c),_}function p(){let n=ct();hd()?fd():(n=n.parent,Qn(n,!1));const t=n;!function TA(){ee.lFrame.elementDepthCount--}();const e=ge();return e.firstCreatePass&&(Ja(e,n),od(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function WA(n){return 0!=(16&n.flags)}(t)&&$h(e,t,T(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qA(n){return 0!=(32&n.flags)}(t)&&$h(e,t,T(),t.stylesWithoutHost,!1),p}function V(n,t,e,i){return _(n,t,e,i),p(),V}function Rl(n,t,e){const i=T(),r=ge(),o=n+22,s=r.firstCreatePass?function XP(n,t,e,i,r){const o=t.consts,s=Bi(o,i),a=yo(t,n,8,"ng-container",s);return null!==s&&Il(a,s,!0),Rh(t,e,a,Bi(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Qn(s,!0);const a=i[o]=i[11].createComment("");return vl(r,i,a,s),Et(a,i),Ya(s)&&(xh(r,i,s),hv(r,s,i)),null!=e&&kh(i,s),Rl}function Ol(){let n=ct();const t=ge();return hd()?fd():(n=n.parent,Qn(n,!1)),t.firstCreatePass&&(Ja(t,n),od(n)&&t.queries.elementEnd(n)),Ol}function Mt(){return T()}function Us(n){return!!n&&"function"==typeof n.then}function Uv(n){return!!n&&"function"==typeof n.subscribe}const zh=Uv;function le(n,t,e,i){const r=T(),o=ge(),s=ct();return $v(o,r,r[11],s,n,t,0,i),le}function Gh(n,t){const e=ct(),i=T(),r=ge();return $v(r,i,Av(gd(r.data),e,i),e,n,t),Gh}function $v(n,t,e,i,r,o,s,a){const l=Ya(i),u=n.firstCreatePass&&Tv(n),d=t[8],h=Mv(t);let f=!0;if(3&i.type||a){const C=Cn(i,t),E=a?a(C):C,I=h.length,D=a?J=>a(rt(J[i.index])):i.index;let k=null;if(!a&&l&&(k=function YP(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,f=!1;else{o=Gv(i,t,d,o,!1);const J=e.listen(E,r,o);h.push(o,J),u&&u.push(r,D,I,I+1)}}else o=Gv(i,t,d,o,!1);const m=i.outputs;let v;if(f&&null!==m&&(v=m[r])){const C=v.length;if(C)for(let E=0;E<C;E+=2){const pe=t[v[E]][v[E+1]].subscribe(o),qe=h.length;h.push(o,pe),u&&u.push(r,i.index,qe,-(qe+1))}}}function zv(n,t,e,i){try{return!1!==e(i)}catch(r){return Iv(n,r),!1}}function Gv(n,t,e,i,r){return function o(s){if(s===Function)return i;Nh(2&n.flags?rn(n.index,t):t);let l=zv(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=zv(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function H(n=1){return function FA(n){return(ee.lFrame.contextLView=function NA(n,t){for(;n>0;)t=t[15],n--;return t}(n,ee.lFrame.contextLView))[8]}(n)}function KP(n,t){let e=null;const i=function _k(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Hy(n,o,!0):bk(i,o))return r}else e=r}return e}function Fl(n){const t=T()[16][6];if(!t.projection){const i=t.projection=ws(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?KP(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function qi(n,t=0,e){const i=T(),r=ge(),o=yo(r,22+n,16,null,e||null);null===o.projection&&(o.projection=t),fd(),64!=(64&o.flags)&&function uk(n,t,e){Fy(t[11],0,t,e,Sy(n,e,t),Iy(e.parent||t[6],e,t))}(r,i,o)}function Nl(n,t,e){return Wh(n,"",t,"",e),Nl}function Wh(n,t,e,i,r){const o=T(),s=Co(o,t,e,i);return s!==ne&&ln(ge(),Ze(),o,n,s,o[11],r,!1),Wh}function eb(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Ln(o):wi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];JP(n[a],t)&&(l=!0,n[a+1]=i?bh(u):yh(u)),a=i?Ln(u):wi(u)}l&&(n[e+1]=i?yh(o):bh(o))}function JP(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ao(n,t)>=0}function Ll(n,t,e){return Vn(n,t,e,!1),Ll}function vt(n,t){return Vn(n,t,null,!0),vt}function Vn(n,t,e,i){const r=T(),o=ge(),s=_i(2);o.firstUpdatePass&&function lb(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Nt()],s=function ab(n,t){return t>=n.expandoStartIndex}(n,e);(function hb(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function c1(n,t,e,i){const r=gd(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=$s(e=qh(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=qh(r,n,t,e,i),null===o){let l=function u1(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==wi(i))return n[Ln(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=qh(null,n,t,l[1],i),l=$s(l,t.attrs,i),function d1(n,t,e,i){n[Ln(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function h1(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=$s(i,n[o].hostAttrs,e);return $s(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function ZP(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ln(s),l=wi(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||ao(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const h=Ln(n[a+1]);n[i+1]=Dl(h,a),0!==h&&(n[h+1]=vh(n[h+1],i)),n[a+1]=function Uk(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Dl(a,0),0!==a&&(n[a+1]=vh(n[a+1],i)),a=i;else n[i+1]=Dl(l,0),0===a?a=i:n[l+1]=vh(n[l+1],i),l=i;c&&(n[i+1]=yh(n[i+1])),eb(n,u,i,!0),eb(n,u,i,!1),function QP(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&ao(o,t)>=0&&(e[i+1]=bh(e[i+1]))}(t,u,n,i,o),s=Dl(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==ne&&St(r,s,t)&&function ub(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];Vl(function nv(n){return 1==(1&n)}(c)?db(l,t,e,r,wi(c),s):void 0)||(Vl(o)||function tv(n){return 2==(2&n)}(c)&&(o=db(l,null,e,r,a,s)),function hk(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Yt.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Yt.Important),n.setStyle(e,i,r,o))}}(i,s,Ka(Nt(),e),r,o))}(o,o.data[Nt()],r,r[11],n,r[s+1]=function g1(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Pe(an(n)))),n}(t,e),i,s)}function qh(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=$s(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function $s(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),sn(n,s,!!e||t[++o]))}return void 0===n?null:n}function db(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===ne&&(h=d?be:void 0);let f=d?Td(h,i):u===i?h:void 0;if(c&&!Vl(f)&&(f=Td(l,i)),Vl(f)&&(a=f,s))return a;const m=n[r+1];r=s?Ln(m):wi(m)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Td(l,i))}return a}function Vl(n){return void 0!==n}function g(n,t=""){const e=T(),i=ge(),r=n+22,o=i.firstCreatePass?yo(i,r,1,t,null):i.data[r],s=e[r]=function sh(n,t){return n.createText(t)}(e[11],t);vl(i,e,s,o),Qn(o,!1)}function Q(n){return ie("",n,""),Q}function ie(n,t,e){const i=T(),r=Co(i,n,t,e);return r!==ne&&Di(i,Nt(),r),ie}function Hn(n,t,e,i,r){const o=T(),s=function wo(n,t,e,i,r,o){const a=Dr(n,mi(),e,r);return _i(2),a?t+te(e)+i+te(r)+o:ne}(o,n,t,e,i,r);return s!==ne&&Di(o,Nt(),s),Hn}function Bl(n,t,e,i,r,o,s){const a=T(),l=Do(a,n,t,e,i,r,o,s);return l!==ne&&Di(a,Nt(),l),Bl}function Xh(n,t,e){const i=T();if(St(i,Qr(),t)){const o=ge(),s=Ze();ln(o,s,i,n,t,Av(gd(o.data),s,i),e,!0)}return Xh}const ko="en-US";let kb=ko;function Zh(n,t,e,i,r){if(n=Y(n),Array.isArray(n))for(let o=0;o<n.length;o++)Zh(n[o],t,e,i,r);else{const o=ge(),s=T();let a=yr(n)?n:Y(n.provide),l=oy(n);const c=ct(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(yr(n)||!n.multi){const f=new ms(l,r,b),m=Jh(a,t,r?u:u+h,d);-1===m?(sl(ys(c,s),o,a),Qh(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[m]=f,s[m]=f)}else{const f=Jh(a,t,u+h,d),m=Jh(a,t,u,u+h),v=f>=0&&e[f],C=m>=0&&e[m];if(r&&!C||!r&&!v){sl(ys(c,s),o,a);const E=function RR(n,t,e,i,r){const o=new ms(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,nC(o,r,i&&!e),o}(r?PR:kR,e.length,r,i,l);!r&&C&&(e[m].providerFactory=E),Qh(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(E),s.push(E)}else Qh(o,n,f>-1?f:m,nC(e[r?m:f],l,!r&&i));!r&&i&&C&&e[m].componentProviders++}}}function Qh(n,t,e,i){const r=yr(t),o=function sx(n){return!!n.useClass}(t);if(r||o){const l=(o?Y(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function nC(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Jh(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function kR(n,t,e,i){return ef(this.multi,[])}function PR(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=vs(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),ef(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ef(r,o);return o}function ef(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function xe(n,t=[]){return e=>{e.providersResolver=(i,r)=>function xR(n,t,e){const i=ge();if(i.firstCreatePass){const r=Fn(n);Zh(e,i.data,i.blueprint,r,!0),Zh(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Sr{}class iC{}class rC extends Sr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hh(this);const i=tn(t);this._bootstrapComponents=Ci(i.bootstrap),this._r3Injector=qy(t,e,[{provide:Sr,useValue:this},{provide:vr,useValue:this.componentFactoryResolver}],Pe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tf extends iC{constructor(t){super(),this.moduleType=t}create(t){return new rC(this.moduleType,t)}}class FR extends Sr{constructor(t,e,i){super(),this.componentFactoryResolver=new Hh(this),this.instance=null;const r=new ry([...t,{provide:Sr,useValue:this},{provide:vr,useValue:this.componentFactoryResolver}],e||_l(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function zl(n,t,e=null){return new FR(n,t,e).injector}function dC(n,t,e,i,r,o){const s=t+e;return St(n,s,r)?function ii(n,t,e){return n[t]=e}(n,s+1,o?i.call(o,r):i(r)):function Xs(n,t){const e=n[t];return e===ne?void 0:e}(n,s+1)}function Tt(n,t){const e=ge();let i;const r=n+22;e.firstCreatePass?(i=function nO(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=mr(i.type)),s=yn(b);try{const a=rl(!1),l=o();return rl(a),function WP(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,T(),r,l),l}finally{yn(s)}}function At(n,t,e){const i=n+22,r=T(),o=Zr(r,i);return function Ys(n,t){return n[1].data[t].pure}(r,i)?dC(r,function Ft(){const n=ee.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),t,o.transform,e,o):o.transform(e)}function rf(n){return t=>{setTimeout(n,void 0,t)}}const ce=class aO extends U{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=rf(o),r&&(r=rf(r)),s&&(s=rf(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof Ue&&t.add(a),a}};function lO(){return this._results[wr()]()}class sf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=wr(),i=sf.prototype;i[e]||(i[e]=lO)}get changes(){return this._changes||(this._changes=new ce)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=on(t);(this._changesDetected=!function iI(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jn=(()=>{class n{}return n.__NG_ELEMENT_ID__=dO,n})();const cO=jn,uO=class extends cO{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=Ml(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),Tl(i,r,t),new Ls(r)}};function dO(){return Gl(ct(),T())}function Gl(n,t){return 4&n.type?new uO(t,n,po(n,t)):null}let Ht=(()=>{class n{}return n.__NG_ELEMENT_ID__=hO,n})();function hO(){return yC(ct(),T())}const fO=Ht,mC=class extends fO{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return po(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const t=ol(this._hostTNode,this._hostLView);if(p_(t)){const e=eo(t,this._hostLView),i=Jr(t);return new to(e[1].data[i+8],e)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=_C(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,r),s}createComponent(t,e,i,r,o){const s=t&&!function Cs(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new Vs(Ee(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get($i,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function EA(n){return On(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],h=new mC(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function rk(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],S_(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function ok(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(r,i,s,o);const a=dh(o,s),l=i[11],c=yl(l,s[7]);return null!==c&&function tk(n,t,e,i,r,o){i[0]=r,i[6]=t,Fs(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),S_(af(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=_C(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=lh(this._lContainer,e);i&&(ll(af(this._lContainer),e),Ey(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=lh(this._lContainer,e);return i&&null!=ll(af(this._lContainer),e)?new Ls(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function _C(n){return n[8]}function af(n){return n[8]||(n[8]=[])}function yC(n,t){let e;const i=t[n.index];if(On(i))e=i;else{let r;if(8&n.type)r=rt(i);else{const o=t[11];r=o.createComment("");const s=Cn(n,t);Cr(o,yl(o,s),r,function ck(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=Dv(i,t,r,n),Al(t,e)}return new mC(e,n,t)}class lf{constructor(t){this.queryList=t,this.matches=null}clone(){return new lf(this.queryList)}setDirty(){this.queryList.setDirty()}}class cf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new cf(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==DC(t,e).matches&&this.queries[e].setDirty()}}class vC{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class uf{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new uf(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class df{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new df(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,mO(e,o)),this.matchTNodeWithReadOption(t,e,al(e,t,o,!1,!1))}else i===jn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,al(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ze||r===Ht||r===jn&&4&e.type)this.addMatch(e.index,-2);else{const o=al(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function mO(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function yO(n,t,e,i){return-1===e?function _O(n,t){return 11&n.type?po(n,t):4&n.type?Gl(n,t):null}(t,n):-2===e?function vO(n,t,e){return e===ze?po(t,n):e===jn?Gl(t,n):e===Ht?yC(t,n):void 0}(n,t,i):vs(n,n[1],e,t)}function bC(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:yO(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function hf(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=bC(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&hf(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];hf(f[1],f,c,i)}}}}}return i}function Un(n){const t=T(),e=ge(),i=r_();md(i+1);const r=DC(e,i);if(n.dirty&&Zm(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?hf(e,t,i,[]):bC(e,t,r,i);n.reset(o,yx),n.notifyOnChanges()}return!0}return!1}function Ks(n,t,e){const i=ge();i.firstCreatePass&&(wC(i,new vC(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),CC(i,T(),t)}function Mr(n,t,e,i){const r=ge();if(r.firstCreatePass){const o=ct();wC(r,new vC(t,e,i),o.index),function CO(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}CC(r,T(),e)}function $n(){return function bO(n,t){return n[19].queries[t].queryList}(T(),r_())}function CC(n,t,e){const i=new sf(4==(4&e));pv(n,t,i,i.destroy),null===t[19]&&(t[19]=new cf),t[19].queries.push(new lf(i))}function wC(n,t,e){null===n.queries&&(n.queries=new uf),n.queries.track(new df(t,e))}function DC(n,t){return n.queries.getByIndex(t)}function ql(...n){}const Xl=new x("Application Initializer");let Yl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ql,this.reject=ql,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Us(o))e.push(o);else if(zh(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(w(Xl,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const No=new x("AppId",{providedIn:"root",factory:function UC(){return`${_f()}${_f()}${_f()}`}});function _f(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $C=new x("Platform Initializer"),yf=new x("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zC=new x("appBootstrapListener"),Ei=new x("AnimationModuleType");let UO=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const si=new x("LocaleId",{providedIn:"root",factory:()=>Le(si,z.Optional|z.SkipSelf)||function $O(){return typeof $localize<"u"&&$localize.locale||ko}()});class GO{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let vf=(()=>{class n{compileModuleSync(e){return new tf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Ci(tn(e).declarations).reduce((s,a)=>{const l=Ee(a);return l&&s.push(new Vs(l)),s},[]);return new GO(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XO=(()=>Promise.resolve(0))();function bf(n){typeof Zone>"u"?XO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class de{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ce(!1),this.onMicrotaskEmpty=new ce(!1),this.onStable=new ce(!1),this.onError=new ce(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function YO(){let n=Me.requestAnimationFrame,t=Me.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function QO(n){const t=()=>{!function ZO(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Me,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wf(n),n.isCheckStableRunning=!0,Cf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return qC(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),XC(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return qC(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),XC(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,wf(n),Cf(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!de.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(de.isInAngularZone())throw new M(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,KO,ql,ql);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const KO={};function Cf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function XC(n){n._nesting--,Cf(n)}class JO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ce,this.onMicrotaskEmpty=new ce,this.onStable=new ce,this.onError=new ce}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const YC=new x(""),Kl=new x("");let Sf,Df=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sf||(function eF(n){Sf=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{de.assertNotInAngularZone(),bf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(w(de),w(Ef),w(Kl))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Ef=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Sf?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Xi=null;const KC=new x("AllowMultipleToken"),Mf=new x("PlatformDestroyListeners");class ZC{constructor(t,e){this.name=t,this.token=e}}function JC(n,t,e=[]){const i=`Platform: ${t}`,r=new x(i);return(o=[])=>{let s=Tf();if(!s||s.injector.get(KC,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function iF(n){if(Xi&&!Xi.get(KC,!1))throw new M(400,!1);Xi=n;const t=n.get(tw);(function QC(n){const t=n.get($C,null);t&&t.forEach(e=>e())})(n)}(function ew(n=[],t){return dt.create({name:t,providers:[{provide:Ud,useValue:"platform"},{provide:Mf,useValue:new Set([()=>Xi=null])},...n]})}(a,i))}return function oF(n){const t=Tf();if(!t)throw new M(401,!1);return t}()}}function Tf(){return Xi?.get(tw)??null}let tw=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function sF(n,t){let e;return e="noop"===n?new JO:("zone.js"===n?void 0:n)||new de(t),e}(i?.ngZone,function nw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:de,useValue:r}];return r.run(()=>{const s=dt.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(zi,null);if(!l)throw new M(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Zl(this._modules,a),c.unsubscribe()})}),function iw(n,t,e){try{const i=e();return Us(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(Yl);return c.runInitializers(),c.donePromise.then(()=>(function Pb(n){en(n,"Expected localeId to be defined"),"string"==typeof n&&(kb=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(si,ko)||ko),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=rw({},i);return function tF(n,t,e){const i=new tf(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Lo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new M(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Mf,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(w(dt))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function rw(n,t){return Array.isArray(t)?t.reduce(rw,n):{...n,...t}}let Lo=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Oe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Oe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),bf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=us(o,s.pipe(function Lm(n={}){const{connector:t=(()=>new U),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},m=()=>{const v=s;f(),v?.unsubscribe()};return Ye((v,C)=>{c++,!d&&!u&&h();const E=l=l??t();C.add(()=>{c--,0===c&&!d&&!u&&(a=Xu(m,r))}),E.subscribe(C),!s&&c>0&&(s=new ls({next:I=>E.next(I),error:I=>{d=!0,h(),a=Xu(f,e,I),E.error(I)},complete:()=>{u=!0,h(),a=Xu(f,i),E.complete()}}),Gt(v).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof sy;if(!this._injector.get(Yl).done)throw!r&&function Oo(n){const t=Ee(n)||Rt(n)||Ot(n);return null!==t&&t.standalone}(e),new M(405,false);let s;s=r?e:this._injector.get(vr).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function nF(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Sr),c=s.create(dt.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(YC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Zl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Zl(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(zC,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Zl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new M(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(w(de),w($i),w(zi))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let sw=!0,Dn=(()=>{class n{}return n.__NG_ELEMENT_ID__=cF,n})();function cF(n){return function uF(n,t,e){if(Xa(n)&&!e){const i=rn(n.index,t);return new Ls(i,i)}return 47&n.type?new Ls(t[16],t):null}(ct(),T(),16==(16&n))}class dw{constructor(){}supports(t){return Bs(t)}create(t){return new mF(t)}}const gF=(n,t)=>t;class mF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gF}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<fw(i,r,o)?e:i,a=fw(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,m=f+h;u<=m&&m<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Bs(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function jP(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[wr()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new _F(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class _F{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class hw{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new yF,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class pw{constructor(){}supports(t){return t instanceof Map||Uh(t)}create(){return new vF}}class vF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Uh(t)))throw new M(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new bF(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class bF{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new ec([new dw])}let ec=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||gw()),deps:[[n,new co,new Ui]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new M(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:gw}),n})();function mw(){return new Qs([new pw])}let Qs=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||mw()),deps:[[n,new co,new Ui]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new M(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:mw}),n})();const DF=JC(null,"core",[]);let EF=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(w(Lo))},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})();function Mi(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let tc=null;function ai(){return tc}const re=new x("DocumentToken");let Pf=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return function AF(){return w(_w)}()},providedIn:"platform"}),n})();const IF=new x("Location Initialized");let _w=(()=>{class n extends Pf{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ai().getBaseHref(this._doc)}onPopState(e){const i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){yw()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){yw()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(w(re))},n.\u0275prov=P({token:n,factory:function(){return function xF(){return new _w(w(re))}()},providedIn:"platform"}),n})();function yw(){return!!window.history.pushState}function Rf(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function vw(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ti(n){return n&&"?"!==n[0]?"?"+n:n}let Ar=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return Le(Cw)},providedIn:"root"}),n})();const bw=new x("appBaseHref");let Cw=(()=>{class n extends Ar{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Le(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Rf(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ti(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Ti(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Ti(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Pf),w(bw,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kF=(()=>{class n extends Ar{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Rf(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Ti(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Ti(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Pf),w(bw,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),nc=(()=>{class n{constructor(e){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=vw(ww(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ti(i))}normalize(e){return n.stripTrailingSlash(function RF(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ww(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ti(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ti(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ti,n.joinWithSlash=Rf,n.stripTrailingSlash=vw,n.\u0275fac=function(e){return new(e||n)(w(Ar))},n.\u0275prov=P({token:n,factory:function(){return function PF(){return new nc(w(Ar))}()},providedIn:"root"}),n})();function ww(n){return n.replace(/\/index.html$/,"")}let kw=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Bs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Pe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(b(ec),b(Qs),b(ze),b(bi))},n.\u0275dir=N({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class yN{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new yN(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Ow(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ow(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(Ht),b(jn),b(ec))},n.\u0275dir=N({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ow(n,t){n.context.$implicit=t.item}let Ut=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new bN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(Ht),b(jn))},n.\u0275dir=N({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class bN{constructor(){this.$implicit=null,this.ngIf=null}}function Fw(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pe(t)}'.`)}class MN{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class TN{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const AN=new TN,IN=new MN;let Zt=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Us(e))return AN;if(Uv(e))return IN;throw function Wn(n,t){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(b(Dn,16))},n.\u0275pipe=Wt({name:"async",type:n,pure:!1,standalone:!0}),n})(),hc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})();const Vw="browser";let KN=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new ZN(w(re),window)}),n})();class ZN{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function QN(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Bw(this.window.history)||Bw(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bw(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qf extends class eL extends class TF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MF(n){tc||(tc=n)}(new qf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function tL(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}();return null==e?null:function nL(n){fc=fc||document.createElement("a"),fc.setAttribute("href",n);const t=fc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function mN(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let fc,ta=null;const Hw=new x("TRANSITION_ID"),rL=[{provide:Xl,useFactory:function iL(n,t,e){return()=>{e.get(Yl).donePromise.then(()=>{const i=ai(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Hw,re,dt],multi:!0}];let sL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const pc=new x("EventManagerPlugins");let gc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(w(pc),w(de))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class jw{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ai().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Uw=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),na=(()=>{class n extends Uw{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach($w),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($w))}}return n.\u0275fac=function(e){return new(e||n)(w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function $w(n){ai().remove(n)}const Xf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yf=/%COMP%/g;function mc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?mc(n,r,e):(r=r.replace(Yf,n),e.push(r))}return e}function Ww(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let _c=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Kf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Pn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new hL(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Pn.ShadowDom:return new fL(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=mc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(w(gc),w(na),w(No))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class Kf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Xf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Xw(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Xw(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Xf[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Xf[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Yt.DashCase|Yt.Important)?t.style.setProperty(e,i,r&Yt.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Yt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ww(i)):this.eventManager.addEventListener(t,e,Ww(i))}}function Xw(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hL extends Kf{constructor(t,e,i,r){super(t),this.component=i;const o=mc(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function cL(n){return"_ngcontent-%COMP%".replace(Yf,n)}(r+"-"+i.id),this.hostAttr=function uL(n){return"_nghost-%COMP%".replace(Yf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class fL extends Kf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=mc(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pL=(()=>{class n extends jw{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Yw=["alt","control","meta","shift"],mL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kw={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_L={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yL=(()=>{class n extends jw{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ai().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(Yw.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function vL(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Kw.hasOwnProperty(t)&&(t=Kw[t]))}return mL[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Yw.forEach(o=>{o!=r&&(0,_L[o])(e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const DL=JC(DF,"browser",[{provide:yf,useValue:Vw},{provide:$C,useValue:function bL(){qf.makeCurrent()},multi:!0},{provide:re,useFactory:function wL(){return function AI(n){Pd=n}(document),document},deps:[]}]),Qw=new x(""),Jw=[{provide:Kl,useClass:class oL{addToWindow(t){Me.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Me.getAllAngularTestabilities=()=>t.getAllTestabilities(),Me.getAllAngularRootElements=()=>t.getAllRootElements(),Me.frameworkStabilizers||(Me.frameworkStabilizers=[]),Me.frameworkStabilizers.push(i=>{const r=Me.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ai().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:YC,useClass:Df,deps:[de,Ef,Kl]},{provide:Df,useClass:Df,deps:[de,Ef,Kl]}],eD=[{provide:Ud,useValue:"root"},{provide:zi,useFactory:function CL(){return new zi},deps:[]},{provide:pc,useClass:pL,multi:!0,deps:[re,de,yf]},{provide:pc,useClass:yL,multi:!0,deps:[re]},{provide:_c,useClass:_c,deps:[gc,na,No]},{provide:Ps,useExisting:_c},{provide:Uw,useExisting:na},{provide:na,useClass:na,deps:[re]},{provide:gc,useClass:gc,deps:[pc,de]},{provide:class JN{},useClass:sL,deps:[]},[]];let tD=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:No,useValue:e.appId},{provide:Hw,useExisting:No},rL]}}}return n.\u0275fac=function(e){return new(e||n)(w(Qw,12))},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({providers:[...eD,...Jw],imports:[hc,EF]}),n})(),nD=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(w(re))},n.\u0275prov=P({token:n,factory:function(e){let i=null;return i=e?new e:function SL(){return new nD(w(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ia=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(e){let i=null;return i=e?new(e||n):w(oD),i},providedIn:"root"}),n})(),oD=(()=>{class n extends ia{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ce.NONE:return i;case Ce.HTML:return ei(i,"HTML")?an(i):Y_(this._doc,String(i)).toString();case Ce.STYLE:return ei(i,"Style")?an(i):i;case Ce.SCRIPT:if(ei(i,"Script"))return an(i);throw new Error("unsafe value used in a script context");case Ce.URL:return ei(i,"URL")?an(i):As(String(i));case Ce.RESOURCE_URL:if(ei(i,"ResourceURL"))return an(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function LI(n){return new kI(n)}(e)}bypassSecurityTrustStyle(e){return function VI(n){return new PI(n)}(e)}bypassSecurityTrustScript(e){return function BI(n){return new RI(n)}(e)}bypassSecurityTrustUrl(e){return function HI(n){return new OI(n)}(e)}bypassSecurityTrustResourceUrl(e){return function jI(n){return new FI(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(w(re))},n.\u0275prov=P({token:n,factory:function(e){let i=null;return i=e?new e:function PL(n){return new oD(n.get(re))}(w(dt)),i},providedIn:"root"}),n})();function L(...n){return it(n,cs(n))}class cn extends U{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const yc=as(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:RL}=Array,{getPrototypeOf:OL,prototype:FL,keys:NL}=Object;function sD(n){if(1===n.length){const t=n[0];if(RL(t))return{args:t,keys:null};if(function LL(n){return n&&"object"==typeof n&&OL(n)===FL}(t)){const e=NL(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:VL}=Array;function Jf(n){return K(t=>function BL(n,t){return VL(t)?n(...t):n(t)}(n,t))}function aD(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function ep(...n){const t=cs(n),e=Rm(n),{args:i,keys:r}=sD(n);if(0===i.length)return it([],t);const o=new Oe(function HL(n,t,e=Li){return i=>{lD(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)lD(t,()=>{const c=it(n[l],t);let u=!1;c.subscribe(Be(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>aD(r,s):Li));return e?o.pipe(Jf(e)):o}function lD(n,t,e){n?fi(e,n,t):t()}function vc(...n){return function jL(){return Gr(1)}()(it(n,cs(n)))}function cD(n){return new Oe(t=>{Gt(n()).subscribe(t)})}function Vo(n,t){const e=_e(n)?n:()=>n,i=r=>r.error(e());return new Oe(t?r=>t.schedule(i,0,r):i)}function tp(){return Ye((n,t)=>{let e=null;n._refCount++;const i=Be(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class uD extends Oe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,vm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;const e=this.getSubject();t.add(this.source.subscribe(Be(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return tp()(this)}}function Mn(n,t){return Ye((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Be(i,l=>{r?.unsubscribe();let c=0;const u=o++;Gt(n(l,u)).subscribe(r=Be(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function je(n){return n<=0?()=>Zn:Ye((t,e)=>{let i=0;t.subscribe(Be(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Bo(...n){const t=cs(n);return Ye((e,i)=>{(t?vc(n,e,t):vc(n,e)).subscribe(i)})}function It(n,t){return Ye((e,i)=>{let r=0;e.subscribe(Be(i,o=>n.call(t,o,r++)&&i.next(o)))})}function bc(n){return Ye((t,e)=>{let i=!1;t.subscribe(Be(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function dD(n=UL){return Ye((t,e)=>{let i=!1;t.subscribe(Be(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function UL(){return new yc}function Ki(n,t){const e=arguments.length>=2;return i=>i.pipe(n?It((r,o)=>n(r,o,i)):Li,je(1),e?bc(t):dD(()=>new yc))}function Zi(n,t){return _e(t)?gt(n,t,1):gt(n,1)}function at(n,t,e){const i=_e(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ye((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Be(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Li}function xi(n){return Ye((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Be(e,void 0,void 0,s=>{o=Gt(n(s,xi(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function $L(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Be(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function hD(n,t){return Ye($L(n,t,arguments.length>=2,!0))}function np(n){return n<=0?()=>Zn:Ye((t,e)=>{let i=[];t.subscribe(Be(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function fD(n,t){const e=arguments.length>=2;return i=>i.pipe(n?It((r,o)=>n(r,o,i)):Li,np(1),e?bc(t):dD(()=>new yc))}function Cc(n){return Ye((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const ue="primary";class WL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ho(n){return new WL(n)}function qL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function li(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!pD(n[r],t[r]))return!1;return!0}function pD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function gD(n){return Array.prototype.concat.apply([],n)}function mD(n){return n.length>0?n[n.length-1]:null}function bt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ki(n){return zh(n)?n:Us(n)?it(Promise.resolve(n)):L(n)}const KL={exact:function vD(n,t,e){if(!xr(n.segments,t.segments)||!wc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!vD(n.children[i],t.children[i],e))return!1;return!0},subset:bD},_D={exact:function ZL(n,t){return li(n,t)},subset:function QL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pD(n[e],t[e]))},ignored:()=>!0};function yD(n,t,e){return KL[e.paths](n.root,t.root,e.matrixParams)&&_D[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bD(n,t,e){return CD(n,t,t.segments,e)}function CD(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!xr(r,e)||t.hasChildren()||!wc(r,e,i))}if(n.segments.length===e.length){if(!xr(n.segments,e)||!wc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bD(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(xr(n.segments,r)&&wc(n.segments,r,i)&&n.children[ue])&&CD(n.children[ue],t,o,i)}}function wc(n,t,e){return t.every((i,r)=>_D[e](n[r].parameters,i.parameters))}class Ir{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return t2.serialize(this)}}class he{constructor(t,e){this.segments=t,this.children=e,this.parent=null,bt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dc(this)}}class ra{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ho(this.parameters)),this._parameterMap}toString(){return SD(this)}}function xr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let wD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return new rp},providedIn:"root"}),n})();class rp{parse(t){const e=new d2(t);return new Ir(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${oa(t.root,!0)}`,i=function o2(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ec(e)}=${Ec(r)}`).join("&"):`${Ec(e)}=${Ec(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function n2(n){return encodeURI(n)}(t.fragment)}`:""}`}}const t2=new rp;function Dc(n){return n.segments.map(t=>SD(t)).join("/")}function oa(n,t){if(!n.hasChildren())return Dc(n);if(t){const e=n.children[ue]?oa(n.children[ue],!1):"",i=[];return bt(n.children,(r,o)=>{o!==ue&&i.push(`${o}:${oa(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function e2(n,t){let e=[];return bt(n.children,(i,r)=>{r===ue&&(e=e.concat(t(i,r)))}),bt(n.children,(i,r)=>{r!==ue&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ue?[oa(n.children[ue],!1)]:[`${r}:${oa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${Dc(n)}/${e[0]}`:`${Dc(n)}/(${e.join("//")})`}}function DD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ec(n){return DD(n).replace(/%3B/gi,";")}function op(n){return DD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sc(n){return decodeURIComponent(n)}function ED(n){return Sc(n.replace(/\+/g,"%20"))}function SD(n){return`${op(n.path)}${function r2(n){return Object.keys(n).map(t=>`;${op(t)}=${op(n[t])}`).join("")}(n.parameters)}`}const s2=/^[^\/()?;=#]+/;function Mc(n){const t=n.match(s2);return t?t[0]:""}const a2=/^[^=?&#]+/,c2=/^[^&#]+/;class d2{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ue]=new he(t,e)),i}parseSegment(){const t=Mc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new ra(Sc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Mc(this.remaining);r&&(i=r,this.capture(i))}t[Sc(e)]=Sc(i)}parseQueryParam(t){const e=function l2(n){const t=n.match(a2);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function u2(n){const t=n.match(c2);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=ED(e),o=ED(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Mc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new M(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ue);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ue]:new he([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}}function sp(n){return n.segments.length>0?new he([],{[ue]:n}):n}function Tc(n){const t={};for(const i of Object.keys(n.children)){const o=Tc(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function h2(n){if(1===n.numberOfChildren&&n.children[ue]){const t=n.children[ue];return new he(n.segments.concat(t.segments),t.children)}return n}(new he(n.segments,t))}function kr(n){return n instanceof Ir}function g2(n,t,e,i,r){if(0===e.length)return jo(t.root,t.root,t.root,i,r);const o=function AD(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TD(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return bt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new TD(e,t,i)}(e);return o.toRoot()?jo(t.root,t.root,new he([],{}),i,r):function s(l){const c=function _2(n,t,e,i){if(n.isAbsolute)return new Uo(t.root,!0,0);if(-1===i)return new Uo(e,e===t.root,0);return function ID(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new M(4005,!1);r=i.segments.length}return new Uo(i,!1,r-o)}(e,i+(sa(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),u=c.processChildren?la(c.segmentGroup,c.index,o.commands):lp(c.segmentGroup,c.index,o.commands);return jo(t.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function sa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function aa(n){return"object"==typeof n&&null!=n&&n.outlets}function jo(n,t,e,i,r){let s,o={};i&&bt(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===t?e:MD(n,t,e);const a=sp(Tc(s));return new Ir(a,o,r)}function MD(n,t,e){const i={};return bt(n.children,(r,o)=>{i[o]=r===t?e:MD(r,t,e)}),new he(n.segments,i)}class TD{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&sa(i[0]))throw new M(4003,!1);const r=i.find(aa);if(r&&r!==mD(i))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uo{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function lp(n,t,e){if(n||(n=new he([],{})),0===n.segments.length&&n.hasChildren())return la(n,t,e);const i=function v2(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(aa(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!kD(l,c,s))return o;i+=2}else{if(!kD(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new he(n.segments.slice(0,i.pathIndex),{});return o.children[ue]=new he(n.segments.slice(i.pathIndex),n.children),la(o,0,r)}return i.match&&0===r.length?new he(n.segments,{}):i.match&&!n.hasChildren()?cp(n,t,e):i.match?la(n,0,r):cp(n,t,e)}function la(n,t,e){if(0===e.length)return new he(n.segments,{});{const i=function y2(n){return aa(n[0])?n[0].outlets:{[ue]:n}}(e),r={};return bt(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=lp(n.children[s],t,o))}),bt(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new he(n.segments,r)}}function cp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(aa(o)){const l=b2(o.outlets);return new he(i,l)}if(0===r&&sa(e[0])){i.push(new ra(n.segments[t].path,xD(e[0]))),r++;continue}const s=aa(o)?o.outlets[ue]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&sa(a)?(i.push(new ra(s,xD(a))),r+=2):(i.push(new ra(s,{})),r++)}return new he(i,{})}function b2(n){const t={};return bt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=cp(new he([],{}),0,e))}),t}function xD(n){const t={};return bt(n,(e,i)=>t[i]=`${e}`),t}function kD(n,t,e){return n==e.path&&li(t,e.parameters)}class Pi{constructor(t,e){this.id=t,this.url=e}}class up extends Pi{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pr extends Pi{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ac extends Pi{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class PD extends Pi{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class C2 extends Pi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w2 extends Pi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D2 extends Pi{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class E2 extends Pi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S2 extends Pi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M2{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class T2{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A2{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I2{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x2{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k2{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RD{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class OD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=dp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=dp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return hp(t,this._root).map(e=>e.value)}}function dp(n,t){if(n===t.value)return t;for(const e of t.children){const i=dp(n,e);if(i)return i}return null}function hp(n,t){if(n===t.value)return[t];for(const e of t.children){const i=hp(n,e);if(i.length)return i.unshift(t),i}return[]}class Ri{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $o(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class FD extends OD{constructor(t,e){super(t),this.snapshot=e,fp(this,t)}toString(){return this.snapshot.toString()}}function ND(n,t){const e=function R2(n,t){const s=new Ic([],{},{},"",{},ue,t,null,n.root,-1,{});return new VD("",new Ri(s,[]))}(n,t),i=new cn([new ra("",{})]),r=new cn({}),o=new cn({}),s=new cn({}),a=new cn(""),l=new zo(i,r,s,a,o,ue,t,e.root);return l.snapshot=e.root,new FD(new Ri(l,[]),e)}class zo{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(K(t=>Ho(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(K(t=>Ho(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LD(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function O2(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ic{constructor(t,e,i,r,o,s,a,l,c,u,d,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ho(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ho(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VD extends OD{constructor(t,e){super(e),this.url=t,fp(this,e)}toString(){return BD(this._root)}}function fp(n,t){t.value._routerState=n,t.children.forEach(e=>fp(n,e))}function BD(n){const t=n.children.length>0?` { ${n.children.map(BD).join(", ")} } `:"";return`${n.value}${t}`}function pp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,li(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),li(t.params,e.params)||n.params.next(e.params),function XL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!li(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),li(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gp(n,t){const e=li(n.params,t.params)&&function JL(n,t){return xr(n,t)&&n.every((e,i)=>li(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||gp(n.parent,t.parent))}function ca(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function N2(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ca(n,i,r);return ca(n,i)})}(n,t,e);return new Ri(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ca(n,a)),s}}const i=function L2(n){return new zo(new cn(n.url),new cn(n.params),new cn(n.queryParams),new cn(n.fragment),new cn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>ca(n,o));return new Ri(i,r)}}const mp="ngNavigationCancelingError";function HD(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=kr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=jD(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function jD(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[mp]=!0,i.cancellationCode=t,e&&(i.url=e),i}function UD(n){return $D(n)&&kr(n.url)}function $D(n){return n&&n[mp]}class V2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ua,this.attachRef=null}}let ua=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new V2,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xc=!1;let _p=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.name=r||ue,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,xc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,xc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,xc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new M(4013,xc);this._activatedRoute=e;const r=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new B2(e,a,r.injector);if(i&&function H2(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(ua),b(Ht),no("name"),b(Dn),b($i))},n.\u0275dir=N({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class B2{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===zo?this.route:t===ua?this.childContexts:this.parent.get(t,e)}}let zD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=$e({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&V(0,"router-outlet")},dependencies:[_p],encapsulation:2}),n})();function GD(n,t){return n.providers&&!n._injector&&(n._injector=zl(n.providers,t,`Route: ${n.path}`)),n._injector??t}function vp(n){const t=n.children&&n.children.map(vp),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ue&&(e.component=zD),e}function Tn(n){return n.outlet||ue}function WD(n,t){const e=n.filter(i=>Tn(i)===t);return e.push(...n.filter(i=>Tn(i)!==t)),e}function qD(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class G2{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),pp(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=$o(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),bt(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=$o(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=$o(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=$o(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new k2(o.value.snapshot))}),t.children.length&&this.forwardEvent(new I2(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(pp(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pp(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=qD(r.snapshot),l=a?.get(vr)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class XD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kc{constructor(t,e){this.component=t,this.route=e}}function W2(n,t,e){const i=n._root;return da(i,t?t._root:null,e,[i.value])}function Pc(n,t,e){return(qD(t)??e).get(n)}function da(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=$o(t);return n.children.forEach(s=>{(function X2(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Y2(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!xr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!xr(n.url,t.url)||!li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gp(n,t)||!li(n.queryParams,t.queryParams);default:return!gp(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new XD(i)):(o.data=s.data,o._resolvedData=s._resolvedData),da(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new kc(a.outlet.component,s))}else s&&ha(t,a,r),r.canActivateChecks.push(new XD(i)),da(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),bt(o,(s,a)=>ha(s,e.getContext(a),r)),r}function ha(n,t,e){const i=$o(n),r=n.value;bt(i,(o,s)=>{ha(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new kc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function fa(n){return"function"==typeof n}function bp(n){return n instanceof yc||"EmptyError"===n?.name}const Rc=Symbol("INITIAL_VALUE");function Go(){return Mn(n=>ep(n.map(t=>t.pipe(je(1),Bo(Rc)))).pipe(K(t=>{for(const e of t)if(!0!==e){if(e===Rc)return Rc;if(!1===e||e instanceof Ir)return e}return!0}),It(t=>t!==Rc),je(1)))}function YD(n){return function ET(...n){return mm(n)}(at(t=>{if(kr(t))throw HD(0,t)}),K(t=>!0===t))}const Cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KD(n,t,e,i,r){const o=wp(n,t,e);return o.matched?function hV(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?L(r.map(s=>{const a=n.get(s),l=function tV(n){return n&&fa(n.canMatch)}(a)?a.canMatch(t,e):a(t,e);return ki(l)})).pipe(Go(),YD()):L(!0)}(i=GD(t,i),t,e).pipe(K(s=>!0===s?o:{...Cp})):L(o)}function wp(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Cp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||qL)(e,n,t);if(!r)return{...Cp};const o={};bt(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Oc(n,t,e,i,r="corrected"){if(e.length>0&&function gV(n,t,e){return e.some(i=>Fc(n,t,i)&&Tn(i)!==ue)}(n,e,i)){const s=new he(t,function pV(n,t,e,i){const r={};r[ue]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Tn(o)!==ue){const s=new he([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[Tn(o)]=s}return r}(n,t,i,new he(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function mV(n,t,e){return e.some(i=>Fc(n,t,i))}(n,e,i)){const s=new he(n.segments,function fV(n,t,e,i,r,o){const s={};for(const a of i)if(Fc(n,e,a)&&!r[Tn(a)]){const l=new he([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[Tn(a)]=l}return{...r,...s}}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new he(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Fc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ZD(n,t,e,i){return!!(Tn(n)===i||i!==ue&&Fc(t,e,n))&&("**"===n.path||wp(t,n,e).matched)}function QD(n,t,e){return 0===t.length&&!n.children[e]}const Nc=!1;class Lc{constructor(t){this.segmentGroup=t||null}}class JD{constructor(t){this.urlTree=t}}function pa(n){return Vo(new Lc(n))}function eE(n){return Vo(new JD(n))}class bV{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Oc(this.urlTree.root,[],[],this.config).segmentGroup,e=new he(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ue).pipe(K(o=>this.createUrlTree(Tc(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xi(o=>{if(o instanceof JD)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Lc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ue).pipe(K(r=>this.createUrlTree(Tc(r),t.queryParams,t.fragment))).pipe(xi(r=>{throw r instanceof Lc?this.noMatchError(r):r}))}noMatchError(t){return new M(4002,Nc)}createUrlTree(t,e,i){const r=sp(t);return new Ir(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(K(o=>new he([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return it(r).pipe(Zi(o=>{const s=i.children[o],a=WD(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(K(l=>({segment:l,outlet:o})))}),hD((o,s)=>(o[s.outlet]=s.segment,o),{}),fD())}expandSegment(t,e,i,r,o,s){return it(i).pipe(Zi(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(xi(c=>{if(c instanceof Lc)return L(null);throw c}))),Ki(a=>!!a),xi((a,l)=>{if(bp(a))return QD(e,r,o)?L(new he([],{})):pa(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return ZD(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):pa(e):pa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?eE(o):this.lineralizeSegments(i,o).pipe(gt(s=>{const a=new he(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=wp(e,r,o);if(!a)return pa(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?eE(d):this.lineralizeSegments(r,d).pipe(gt(h=>this.expandSegment(t,e,i,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=GD(i,t),i.loadChildren?(i._loadedRoutes?L({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(K(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new he(r,{})))):L(new he(r,{}))):KD(e,i,r,t).pipe(Mn(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=i._injector??t,i,r).pipe(gt(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:m}=Oc(e,a,l,h),v=new he(f.segments,f.children);if(0===m.length&&v.hasChildren())return this.expandChildren(d,h,v).pipe(K(D=>new he(a,D)));if(0===h.length&&0===m.length)return L(new he(a,{}));const C=Tn(i)===o;return this.expandSegment(d,v,h,m,C?ue:o,!0).pipe(K(I=>new he(a.concat(I.segments),I.children)))})):pa(e)))}getChildConfig(t,e,i){return e.children?L({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?L({routes:e._loadedRoutes,injector:e._loadedInjector}):function dV(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?L(!0):L(r.map(s=>{const a=n.get(s),l=function Z2(n){return n&&fa(n.canLoad)}(a)?a.canLoad(t,e):a(t,e);return ki(l)})).pipe(Go(),YD())}(t,e,i).pipe(gt(r=>r?this.configLoader.loadChildren(t,e).pipe(at(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function yV(n){return Vo(jD(Nc,3))}())):L({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return L(i);if(r.numberOfChildren>1||!r.children[ue])return Vo(new M(4e3,Nc));r=r.children[ue]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Ir(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return bt(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return bt(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new he(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new M(4001,Nc);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class wV{}class SV{constructor(t,e,i,r,o,s,a,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=Oc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ue).pipe(K(e=>{if(null===e)return null;const i=new Ic([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ri(i,e),o=new VD(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=LD(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return it(Object.keys(i.children)).pipe(Zi(r=>{const o=i.children[r],s=WD(e,r);return this.processSegmentGroup(t,s,o,r)}),hD((r,o)=>r&&o?(r.push(...o),r):null),function zL(n,t=!1){return Ye((e,i)=>{let r=0;e.subscribe(Be(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),bc(null),fD(),K(r=>{if(null===r)return null;const o=tE(r);return function MV(n){n.sort((t,e)=>t.value.outlet===ue?-1:e.value.outlet===ue?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return it(e).pipe(Zi(s=>this.processSegmentAgainstRoute(s._injector??t,s,i,r,o)),Ki(s=>!!s),xi(s=>{if(bp(s))return QD(i,r,o)?L([]):L(null);throw s}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!ZD(e,i,r,o))return L(null);let s;if("**"===e.path){const a=r.length>0?mD(r).parameters:{},l=iE(i)+r.length;s=L({snapshot:new Ic(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oE(e),Tn(e),e.component??e._loadedComponent??null,e,nE(i),l,sE(e),l),consumedSegments:[],remainingSegments:[]})}else s=KD(i,e,r,t).pipe(K(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=iE(i)+l.length;return{snapshot:new Ic(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oE(e),Tn(e),e.component??e._loadedComponent??null,e,nE(i),d,sE(e),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(Mn(a=>{if(null===a)return L(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function TV(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:m}=Oc(i,c,u,h.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===m.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(K(C=>null===C?null:[new Ri(l,C)]));if(0===h.length&&0===m.length)return L([new Ri(l,[])]);const v=Tn(e)===o;return this.processSegment(d,h,f,m,v?ue:o).pipe(K(C=>null===C?null:[new Ri(l,C)]))}))}}function AV(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function tE(n){const t=[],e=new Set;for(const i of n){if(!AV(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=tE(i.children);t.push(new Ri(i.value,r))}return t.filter(i=>!e.has(i))}function nE(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function iE(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function oE(n){return n.data||{}}function sE(n){return n.resolve||{}}const Dp=Symbol("RouteTitle");function aE(n){return"string"==typeof n.title||null===n.title}function Ep(n){return Mn(t=>{const e=n(t);return e?it(e).pipe(K(()=>t)):L(t)})}let lE=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ue);return i}getResolvedTitleForRoute(e){return e.data[Dp]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return Le(cE)},providedIn:"root"}),n})(),cE=(()=>{class n extends lE{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(w(nD))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NV{}class VV extends class LV{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sp=new x("",{providedIn:"root",factory:()=>({})}),Mp=new x("ROUTES");let Tp=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return L(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ki(e.loadComponent()).pipe(at(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Cc(()=>{this.componentLoaders.delete(e)})),r=new uD(i,()=>new U).pipe(tp());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return L({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(K(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=gD(l.get(Mp,[],z.Self|z.Optional)));return{routes:c.map(vp),injector:l}}),Cc(()=>{this.childrenLoaders.delete(i)})),s=new uD(o,()=>new U).pipe(tp());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(e){return ki(e()).pipe(gt(i=>i instanceof iC||Array.isArray(i)?L(i):it(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(w(dt),w(vf))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HV{}class jV{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function UV(n){throw n}function $V(n,t,e){return t.parse("/")}const zV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function dE(){const n=Le(wD),t=Le(ua),e=Le(nc),i=Le(dt),r=Le(vf),o=Le(Mp,{optional:!0})??[],s=Le(Sp,{optional:!0})??{},a=Le(cE),l=Le(lE,{optional:!0}),c=Le(HV,{optional:!0}),u=Le(NV,{optional:!0}),d=new _t(null,n,t,e,i,r,gD(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function WV(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let _t=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new U,this.errorHandler=UV,this.malformedUriErrorHandler=$V,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>L(void 0),this.urlHandlingStrategy=new jV,this.routeReuseStrategy=new VV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Tp),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new T2(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new M2(h)),this.ngModule=s.get(Sr),this.console=s.get(UO);const d=s.get(de);this.isNgZoneEnabled=d instanceof de&&de.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function YL(){return new Ir(new he([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ND(this.currentUrlTree,this.rootComponentType),this.transitions=new cn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(It(r=>0!==r.id),K(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Mn(r=>{let o=!1,s=!1;return L(r).pipe(at(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mn(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return hE(a.source)&&(this.browserUrlTree=a.extractedUrl),L(a).pipe(Mn(d=>{const h=this.transitions.getValue();return i.next(new up(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Zn:Promise.resolve(d)}),function CV(n,t,e,i){return Mn(r=>function vV(n,t,e,i,r){return new bV(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(K(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),at(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function xV(n,t,e,i,r,o){return gt(s=>function EV(n,t,e,i,r,o,s="emptyOnly",a="legacy"){return new SV(n,t,e,i,r,s,a,o).recognize().pipe(Mn(l=>null===l?function DV(n){return new Oe(t=>t.error(n))}(new wV):L(l)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe(K(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),at(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new C2(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:m,restoredState:v,extras:C}=a,E=new up(h,this.serializeUrl(f),m,v);i.next(E);const I=ND(f,this.rootComponentType).snapshot;return L(r={...a,targetSnapshot:I,urlAfterRedirects:f,extras:{...C,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Zn}),at(a=>{const l=new w2(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),K(a=>r={...a,guards:W2(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function iV(n,t){return gt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?L({...e,guardsResult:!0}):function rV(n,t,e,i){return it(n).pipe(gt(r=>function uV(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?L(o.map(a=>{const l=Pc(a,t,r);return ki(function eV(n){return n&&fa(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):l(n,t,e,i)).pipe(Ki())})).pipe(Go()):L(!0)}(r.component,r.route,e,t,i)),Ki(r=>!0!==r,!0))}(s,i,r,n).pipe(gt(a=>a&&function K2(n){return"boolean"==typeof n}(a)?function oV(n,t,e,i){return it(t).pipe(Zi(r=>vc(function aV(n,t){return null!==n&&t&&t(new A2(n)),L(!0)}(r.route.parent,i),function sV(n,t){return null!==n&&t&&t(new x2(n)),L(!0)}(r.route,i),function cV(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function q2(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>cD(()=>L(s.guards.map(l=>{const c=Pc(l,s.node,e);return ki(function J2(n){return n&&fa(n.canActivateChild)}(c)?c.canActivateChild(i,n):c(i,n)).pipe(Ki())})).pipe(Go())));return L(o).pipe(Go())}(n,r.path,e),function lV(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return L(!0);const r=i.map(o=>cD(()=>{const s=Pc(o,t,e);return ki(function Q2(n){return n&&fa(n.canActivate)}(s)?s.canActivate(t,n):s(t,n)).pipe(Ki())}));return L(r).pipe(Go())}(n,r.route,e))),Ki(r=>!0!==r,!0))}(i,o,n,t):L(a)),K(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),at(a=>{if(r.guardsResult=a.guardsResult,kr(a.guardsResult))throw HD(0,a.guardsResult);const l=new D2(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),It(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Ep(a=>{if(a.guards.canActivateChecks.length)return L(a).pipe(at(l=>{const c=new E2(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Mn(l=>{let c=!1;return L(l).pipe(function kV(n,t){return gt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return L(e);let o=0;return it(r).pipe(Zi(s=>function PV(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!aE(r)&&(o[Dp]=r.title),function RV(n,t,e,i){const r=function OV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return L({});const o={};return it(r).pipe(gt(s=>function FV(n,t,e,i){const r=Pc(n,t,i);return ki(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(Ki(),at(a=>{o[s]=a}))),np(1),function GL(n){return K(()=>n)}(o),xi(s=>bp(s)?Zn:Vo(s)))}(o,n,t,i).pipe(K(s=>(n._resolvedData=s,n.data=LD(n,e).resolve,r&&aE(r)&&(n.data[Dp]=r.title),null)))}(s.route,i,n,t)),at(()=>o++),np(1),gt(s=>o===r.length?L(e):Zn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),at({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),at(l=>{const c=new S2(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Ep(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(at(d=>{c.component=d}),K(()=>{})));for(const d of c.children)u.push(...l(d));return u};return ep(l(a.targetSnapshot.root)).pipe(bc(),je(1))}),Ep(()=>this.afterPreactivation()),K(a=>{const l=function F2(n,t,e){const i=ca(n,t._root,e?e._root:void 0);return new FD(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),at(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>K(i=>(new G2(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),at({next(){o=!0},complete(){o=!0}}),Cc(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),xi(a=>{if(s=!0,$D(a)){UD(a)||(this.navigated=!0,this.restoreHistory(r,!0));const l=new Ac(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(l),UD(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hE(r.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new PD(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Zn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),g2(c,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=kr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function qV(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new M(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...zV}:!1===i?{...GV}:i,kr(e))return yD(this.currentUrlTree,e,r);const o=this.parseUrl(e);return yD(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Pr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new Ac(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){wl()},n.\u0275prov=P({token:n,factory:function(){return dE()},providedIn:"root"}),n})();function hE(n){return"imperative"!==n}let Ap=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new U,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(b(_t),b(zo),no("tabindex"),b(bi),b(ze))},n.\u0275dir=N({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&le("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Xt]}),n})(),ga=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new U,this.subscription=e.events.subscribe(o=>{o instanceof Pr&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,s){if(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(b(_t),b(zo),b(Ar))},n.\u0275dir=N({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&le("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Vt("target",i.target)("href",i.href,xs)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Xt]}),n})(),Ip=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ce,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Pr&&this.update()})}ngAfterContentInit(){L(this.links.changes,this.linksWithHrefs.changes,L(null)).pipe(Gr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=it(e).pipe(Gr()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function XV(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(b(_t),b(ze),b(bi),b(Dn),b(Ap,8),b(ga,8))},n.\u0275dir=N({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(Mr(r,Ap,5),Mr(r,ga,5)),2&e){let o;Un(o=$n())&&(i.links=o),Un(o=$n())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xt]}),n})();class fE{}let pE=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(It(e=>e instanceof Pr),Zi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=zl(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return it(r).pipe(Gr())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):L(null);const o=r.pipe(gt(s=>null===s?L(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?it([o,this.loader.loadComponent(i)]).pipe(Gr()):o})}}return n.\u0275fac=function(e){return new(e||n)(w(_t),w(vf),w($i),w(fE),w(Tp))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const gE=new x("");let YV=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof RD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new RD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){wl()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const mE=new x("ROUTER_FORROOT_GUARD"),_E=new x(""),KV=[nc,{provide:wD,useClass:rp},{provide:_t,useFactory:dE},ua,{provide:zo,useFactory:function ZV(n){return n.routerState.root},deps:[_t]},Tp];function QV(){return new ZC("Router",_t)}let xp=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[KV,[],yE(e),{provide:mE,useFactory:nB,deps:[[_t,new Ui,new co]]},{provide:Sp,useValue:i||{}},i?.useHash?{provide:Ar,useClass:kF}:{provide:Ar,useClass:Cw},{provide:gE,useFactory:()=>{const n=Le(_t),t=Le(KN),e=Le(Sp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new YV(n,t,e)}},i?.preloadingStrategy?cB(i.preloadingStrategy):[],{provide:ZC,multi:!0,useFactory:QV},i?.initialNavigation?rB(i):[],[{provide:vE,useFactory:iB},{provide:zC,multi:!0,useExisting:vE}]]}}static forChild(e){return{ngModule:n,providers:[yE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(w(mE,8))},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})();function nB(n){return"guarded"}function yE(n){return[{provide:Mp,multi:!0,useValue:n}]}function iB(){const n=Le(dt);return t=>{const e=n.get(Lo);if(t!==e.components[0])return;const i=n.get(_t),r=n.get(bE);1===n.get(kp)&&i.initialNavigation(),n.get(_E,null,z.Optional)?.setUpPreloading(),n.get(gE,null,z.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const vE=new x("");function rB(n){return["disabled"===n.initialNavigation?[{provide:Xl,multi:!0,useFactory:()=>{const n=Le(_t);return()=>{n.setUpLocationChangeListener()}}},{provide:kp,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:kp,useValue:0},{provide:Xl,multi:!0,deps:[dt],useFactory:n=>{const t=n.get(IF,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const o=n.get(_t),s=n.get(bE);(function i(r){n.get(_t).events.pipe(It(s=>s instanceof Pr||s instanceof Ac||s instanceof PD),K(s=>s instanceof Pr||s instanceof Ac&&(0===s.code||1===s.code)&&null),It(s=>null!==s),je(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),o.afterPreactivation=()=>(r(!0),e||s.closed?L(void 0):s),o.initialNavigation()}))}}]:[]]}const bE=new x("",{factory:()=>new U}),kp=new x("",{providedIn:"root",factory:()=>1});function cB(n){return[pE,{provide:_E,useExisting:pE},{provide:fE,useExisting:n}]}class We{constructor(t,e,i,r,o,s,a){this.strength=t,this.vitality=e,this.dexterity=i,this.agility=r,this.intellect=o,this.perception=s,this.empathy=a,this.ST=t,this.VI=e,this.DE=i,this.AG=r,this.IN=o,this.PE=s,this.EM=a}toString(){let t="";return 0!==this.ST&&(t+=`ST: ${this.ST}, `),0!==this.VI&&(t+=`VI: ${this.VI}, `),0!==this.DE&&(t+=`DE: ${this.DE}, `),0!==this.AG&&(t+=`AG: ${this.AG}, `),0!==this.IN&&(t+=`IN: ${this.IN}, `),0!==this.PE&&(t+=`PE: ${this.PE}, `),0!==this.EM&&(t+=`EM: ${this.EM}, `),t.length>0&&(t=t.substring(0,t.length-2)),t}toStatNumberArray(){return[this.strength,this.vitality,this.dexterity,this.agility,this.intellect,this.perception,this.empathy]}static fromArray(t){return new We(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}}const CE=new We(10,9,9,7,5,4,3);class Pp{constructor(t,e){this.multiplier=t,this.sides=e}getAverage(){return(1+this.sides)/2*this.multiplier}toString(){return`${this.multiplier}d${this.sides}`}}class we{constructor(t,e){this.fixedNumber=t,this.dices=e}increaseDice(t,e){let i=Array.from(this.dices),r=i.findIndex(o=>o.sides===e);return-1===r?i.push(new Pp(t,e)):i[r]=new Pp(i[r].multiplier+t,e),new we(this.fixedNumber,i)}increaseFixed(t){return new we(this.fixedNumber+t,Array.from(this.dices))}average(){let t=this.fixedNumber;return this.dices.forEach(e=>t+=(e.sides+1)/2*e.multiplier),t}toString(){let t="",e="";return 0!=this.fixedNumber&&(t=this.fixedNumber.toString()),e=this.dices.filter(i=>0!==i.multiplier).map(i=>i.toString()).join(" + "),this.dices.filter(i=>0!==i.multiplier).length>0&&(e+=` (${this.average()})`),[t,e].filter(i=>i.length>0).join(" + ")}}we.EMPTY=new we(0,[]);class Wo{constructor(t,e){this.level=t,this.perk=e}romanize(){let t=String(+this.level).split(""),e=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],i="",r=3;for(;r--;)i=(e[+(t.pop()||"")+10*r]||"")+i;return Array(+t.join("")+1).join("M")+i}}class xt{constructor(t,e,i,r){this.baseModifier=t,this.combatModifier=e,this.adventuringModifier=i,this.socialModifier=r}increaseDice(t,e){return Object.setPrototypeOf({...this,baseModifier:this.baseModifier.increaseDice(t,e)},xt.prototype)}increaseFixed(t){return Object.setPrototypeOf({...this,baseModifier:this.baseModifier.increaseFixed(t)},xt.prototype)}average(){return this.baseModifier.average()}hasLevelSpecificValues(){return this.combatModifier.average()+this.adventuringModifier.average()+this.socialModifier.average()>0}toString(){let t=this.baseModifier.toString();return this.hasLevelSpecificValues()&&(t+=" *"),t}toExactString(){let t=this.baseModifier.increaseFixed(this.combatModifier.fixedNumber);for(let r of this.combatModifier.dices)t=t.increaseDice(r.multiplier,r.sides);let e=this.baseModifier.increaseFixed(this.adventuringModifier.fixedNumber);for(let r of this.adventuringModifier.dices)e=e.increaseDice(r.multiplier,r.sides);let i=this.baseModifier.increaseFixed(this.socialModifier.fixedNumber);for(let r of this.socialModifier.dices)i=i.increaseDice(r.multiplier,r.sides);return t.average()==e.average()&&e.average()==i.average()?t.toString():`Combat ${t} | Adventuring ${e} | Social ${i}`}}xt.EMPTY=new xt(we.EMPTY,we.EMPTY,we.EMPTY,we.EMPTY);var B=(()=>{return(n=B||(B={}))[n.BASE=0]="BASE",n[n.MARTIAL=1]="MARTIAL",n[n.MAGIC=2]="MAGIC",n[n.SKILL=3]="SKILL",B;var n})();function wE(){return uB}const uB=[{name:"The Horseman",startDate:"1. Deepwinter",endDate:"9. Thawflight",description:"Those born under the sign of The Horseman are flexible, spontaneous and outgoing, but also tend to be indecisive.<br/><br/>As someone born under the sign of The Horseman, you can increase your Agility by 2 for 10 Minutes once per day. This increase can go above your race\u2019s maximum Agility. You can do so as par of any other action you\u2019re performing."},{name:"The Worker",startDate:"10. Thawflight",endDate:"18. Showerhome ",description:"Those born under the sign of The Worker are reliable, diligent and honorable, but also tend to be thick-headed.<br/><br/>As someone born under the sign of The Worker, you can gain 5 temporary Stamina + 2 temporary stamina for each level of \u201dIncrease Stamina\u201d that you have once per day. These temporary stamina are used up after the rest of your stamina, and you lose the leftover temporary stamina after 10 minutes. You can do so as part of any other action you\u2019re performing."},{name:"The Cave",startDate:"19 Showerhome",endDate:"27.Blossombreak",description:"Those born under the sign of The Cave are curious, smart and fast-thinking, but also tend to have short attention spans.<br/><br/>As someone born under the sign of The Cave, you can increase your Perception by 2 for 10 Minutes once per day. This increase can go above your race\u2019s maximum Perception. You can do so as part of any other action you\u2019re performing."},{name:"The Crown",startDate:"28. Blossombreak",endDate:"6.First Harvest",description:"Those born under the sign of The Crown are helpful, friendly and open-minded, but also tend to try and avoid conflicts.<br/><br/>As someone born under the sign of The Crown, you can increase your Empathy by 2 for 10 Minutes once per day. This increase can go above your race\u2019s maximum Empathy. You can do so as part of any other action you\u2019re performing"},{name:"The Hero",startDate:"7. First Harvest",endDate:"15. Fairterm",description:"Those born under the sign of The Hero are helpful, selfless and assertive, but also tend to be brash and overly emotional.<br/><br/>As someone born under the sign of The Hero, once per day when a creature in an area of 5 passus around you would take damage from a single source, you can decide to reduce that damage by half, taking the other half. This includes all types of damage taken, and every type of damage is halved and rounded by itself."},{name:"The Eagle",startDate:"16. Fairterm",endDate:"24. Second Harvest",description:"Those born under the sign of The Eagle are free-thinking, open-minded and relaxed, but also tend to be unemotional.<br/><br/>As someone born under the sign of The Eagle, you can increase your Dodge by 4 for 2 minutes once per day. You can do so as part of any other action you\u2019re performing."},{name:"The Mountain",startDate:"25. Second Harvest",endDate:"3.Last Harvest",description:"Those born under the sign of The Mountain are stoic, confident and disciplined, but also tend to be slow.<br/><br/>As someone born under the sign of The Mountain, you can gain 5 temporary Health + 2 temporary Health per Level of \u201dIncrease Health\u201d you have for 10 minutes once per day. These Health Points are reduced before the rest of your Health. You can do so as part of any other action you\u2019re performing."},{name:"The Quill",startDate:"4. Last Harvest",endDate:"12.Gods\u2019 Rest",description:"Those born under the sign of The Quill are resourceful, crafty and cunning, but also tend to be greedy.<br/><br/>As someone born under the sign of The Quill, you can increase your Dexterity by 2 for 10 Minutes once per day. This increase can go above your race\u2019s maximum Dexterity. You can do so as part of any other action you\u2019re performing."},{name:"The Shield",startDate:"13. Gods\u2019 Rest",endDate:"21. Darkfall",description:"Those born under the sign of The Shield are stoic, reliable and confident, but tend to be overzealous<br/><br/>As someone born under the sign of The Shield, you can gain +2 Resistance against Cutting, Blunt and Piercing damage for 2 Minutes per day. You can do so as part of any other action you\u2019re performing."},{name:"The Flower",startDate:"22. Darkfall",endDate:"30. Coldheart",description:"Those born under the sign of The Flower are graceful, resilient and focused, but tend to be aloof.<br/><br/>As someone born under the sign of The Flower, you can gain 5 Mana + 2 Mana per Level of \u201dIncrease Mana\u201d that you have for 10 minutes once per day. These Mana Points are used before the rest of your Mana. You can do so as part of any other action you\u2019re performing."},{name:"The Fateless",startDate:"1. Week of Darkness",endDate:"10. Week of Darkness",description:"Those born under the sign of the Fateless don\u2019t really share any traits in common, but their birth is said to be an ill omen for the days to come.<br/><br/>As someone born under the sign of The Fateless, you may repeat a roll you made once per day. If this roll is a check (i.e. a D20 roll) and the second result is lower, you take 1 untyped damage per Point of difference between the two rolls (i.e. when your first roll was 7 and your second was 3, you\u2019d take 4 untyped damage), and the task automatically fails as if your total result was a 0."}];class Qt{}class me{constructor(t,e,i,r,o){this.family=t,this.name=e,this.alphabet=i,this.cpCost=r,this.gpCost=o}getCpCost(t){"Shadim"===this.alphabet&&(t=t.filter(i=>"Shadim (Simplified)"!==i.alphabet));let e=t.filter(i=>(i.family===this.family||i.alphabet===this.alphabet)&&i.name!==this.name);return Math.ceil(this.cpCost*(e.length>=2?.5:1==e.length?.75:1))}}const dB=new me("","Animals","",0,0),fB=[new me("Common","Common","Halkaren",0,0),new me("Common","Halkaren","Halkaren",200,200),new me("Common","Whitlan","Whitlan",300,300),new me("Common","Laetharnian","Laetharnian",150,150),new me("Common","Steppespeach","",350,150),new me("Common","Theralian","Theralian",250,260),new me("Common","Mardimian","Laetharnian",200,200),new me("Common","Old Truinic","Old Truinic",800,300),new me("Common","Noldarian","Noldarian",250,150),new me("Common","Neduin","Neduin",150,300),new me("Common","Cors Common","Halkaren",200,100),new me("Common","Flaemic","Flaemic Halkaren",150,150),new me("Common","Velothi","Halkaren",120,120),new me("Fay","Elven","Fay",250,250),new me("Fay","Fay","Fay",300,300),new me("Fay","Old Fay","Fay",600,300),new me("Fay","Gnomish","Fay",250,400),new me("Terran","Oroban","Giant",300,400),new me("Terran","Giant","Giant",350,800),new me("Terran","Daevan","-",400,200),new me("Terran","Trollspeak","-",50,100),new me("Terran","Goblin","Goblin",100,100),new me("Shadim","Shadim","Shadim",500,750),new me("Shadim","Umbran","Halkaren",250,250),new me("Shadim","Sykan","Shadim (Simplified)",300,250),new me("Beastspeak","Orcish","Halkaren",200,200),new me("Beastspeak","Gnoll","Neduin",100,200),new me("Beastspeak","Lupine","Flaemic Halkaren",100,200),new me("Beastspeak","Aquine","",300,300),new me("Beastspeak","Leonine","Neduin",300,450),new me("Shamanic","Shamanic","",500,1e3),new me("Thieves\u2019 Cant","Thieves\u2019 Cant","Symbols",250,300)];function Rp(){return pB}const pB=[{name:"Daevana",flavorText:"Daevana are a very tall and muscular race of lesser giant-kin that live in small clans and call the  savage wilderness of Northern Knorkalith, but especially the island of Lonereach, their home. <br /><br />Daevana mature at the age of 10, and live to be around 60. <br /> At their best, Daevana are loyal, helpful and friendly.<br />At their worst, Daevana are temperamental, boastful and unpredictable.",textDescription:"Every Daevana starts with a Strength increased by 2. <br/> Also, their Vitality is increased by 1 <br/> However, their Intellect is reduced by 2 <br/> Additionally, their Daevana\u2019s Empathy is reduced by 1 <br/> Daevana are especially brutish. When they make a strength-based melee attack roll, they add 1d6 to the damage. <br/>Also, their survival in savage lands has made them especially resilient. When they gain a level in \u201dIncrease Health\u201d, they can roll twice and take the higher result. Lastly, Daevana have an increased Damage reduction against cutting, piercing and blunt by +1. <br/><br/> Daevana start the game with 25 Health, 30 Stamina and 15 Mana",statboni:new We(2,1,0,0,-2,0,-1),traitsAsStrings:["When they make a strength-based melee attack roll, they add 1d6 to the damage","Increased Damage reduction against cutting, piercing and blunt by +1.","When they gain a level in \u201dIncrease Health\u201d, they can roll twice and take the higher result."],startingHealth:25,startingStamina:30,startingMana:15,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Rock Elf",flavorText:"Elves are a short-growing people of mountain- and forest dwellers that like to avoid human contact.<br /><br />Elves mature at an age of 30, and can live to be 200.<br /> At their best, elves are cautious, reliable and loyal.<br /> At their worst, elves are removed, mistrusting and superstitious.<br /> Rock Elves have skin alike to marble and granite. It is extremely difficult to spot them in rocky terrain.",textDescription:"Every Elve starts with an Agility increased by 2. <br /> Also, every Elve\u2019s Dexterity increases by 1 <br /> Also, every Elve\u2019s Intellect is reduced by 1. <br /> In rocky terrain, they can attempt to hide in plain sight and when doing so, they can add +1d4 on their stealth check.<br /><br /> Elves start the game with 20 Health, 25 Stamina and 25 Mana <br /> ",statboni:new We(0,0,1,2,-1,0,0),traitsAsStrings:["In rocky terrain, they can attempt to hide in plain sight and when doing so, they can add +1d4 on their stealth check"],startingHealth:20,startingStamina:25,startingMana:25,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Bark Elf",flavorText:"Elves are a short-growing people of mountain- and forest dwellers that like to avoid human contact. <br/> Elves mature at an age of 30, and can live to be 200. <br/> At their best, elves are cautious, reliable and loyal. <br/> At their worst, elves are removed, mistrusting and superstitious. <br/> Bark Elves have skin alike to wood and leaves. It is extremely difficult to spot them in forested <br/> terrain",textDescription:"Every Elve starts with an Agility increased by 2. <br /> Also, every Elve\u2019s Dexterity increases by 1 <br /> Also, every Elve\u2019s Intellect is reduced by 1. <br /> In forested terrain, they can attempt to hide in plain sight and when doing so, <br /> they can add +1d4 on their stealth check",statboni:new We(0,0,1,2,-1,0,0),traitsAsStrings:["In forested terrain, they can attempt to hide in plain sight and when doing so, they can add +1d4 on their stealth check"],startingHealth:20,startingStamina:25,startingMana:25,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Molfay",flavorText:"Fay are a race of tall-standing, fair skinned creatures that have adapted to different environments\nthrough magical means.\nFay mature at an age of 50, and can live up to 500 years - there is however no known case of a fay\ndying of old age.\nAt their best, fay are reliable, honest and knowledgable.\nAt their worst, fay are hard-headed, aloof and emotionless.\nMolfay (Marshland Fay) have adapted to have webbing and be able to swim in freshwate",textDescription:"Every Fay starts with an Intellect increased by 2.\nAlso, every Fay\u2019s Empathy is reduced by 1.\nFay start the game with 20 Health, 20 Stamina and 30 Mana.\nMolfay have a Vitality increased by 1 and can hold their breath twice as long as normal in\nfreshwater",statboni:new We(0,1,0,0,2,0,-1),traitsAsStrings:["Molfay can hold their breath twice as long as normal in freshwater"],startingHealth:20,startingStamina:20,startingMana:30,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Trilfay",flavorText:"Fay are a race of tall-standing, fair skinned creatures that have adapted to different environments\nthrough magical means.\nFay mature at an age of 50, and can live up to 500 years - there is however no known case of a fay\ndying of old age.\nAt their best, fay are reliable, honest and knowledgable.\nAt their worst, fay are hard-headed, aloof and emotionless.\nTrilfay (Deep Fay) have adapted to be able to move around swiftly in sands and resist the darkness\nof the deep",textDescription:"Every Fay starts with an Intellect increased by 2.\nAlso, every Fay\u2019s Empathy is reduced by 1.\nFay start the game with 20 Health, 20 Stamina and 30 Mana.\nTrilfay can see in complete darkness as if it were daylight. However, they\ncan not discern colour this way. Also, their Strength is increased by 1",statboni:new We(1,0,0,0,2,0,-1),traitsAsStrings:["Trilfay can see in complete darkness as if it were daylight. However, they can not discern colour this way"],startingHealth:20,startingStamina:20,startingMana:30,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Marfay",flavorText:"Fay are a race of tall-standing, fair skinned creatures that have adapted to different environments\nthrough magical means.\nFay mature at an age of 50, and can live up to 500 years - there is however no known case of a fay\ndying of old age.\nAt their best, fay are reliable, honest and knowledgable.\nAt their worst, fay are hard-headed, aloof and emotionless.\nMarfay (Woodland Fay) have adapted to be excellent climbers, and can swing from tree to tree\nwithout effort.",textDescription:"Every Fay starts with an Intellect increased by 2.\nAlso, every Fay\u2019s Empathy is reduced by 1.\nFay start the game with 20 Health, 20 Stamina and 30 Mana.\nA Woodland Fay moves at the same speed when climbing trees as running\nand their Agility is increased by 1",statboni:new We(0,0,0,1,2,0,-1),traitsAsStrings:["A Woodland Fay moves at the same speed when climbing trees as running"],startingHealth:20,startingStamina:20,startingMana:30,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Plafay",flavorText:"Fay are a race of tall-standing, fair skinned creatures that have adapted to different environments\nthrough magical means.\nFay mature at an age of 50, and can live up to 500 years - there is however no known case of a fay\ndying of old age.\nAt their best, fay are reliable, honest and knowledgable.\nAt their worst, fay are hard-headed, aloof and emotionless.\nPlafay (Grassland Fay) have adapted perfectly to steppes, being able to track creatures perfectly\nand move around in plains and rolling hills",textDescription:"Every Fay starts with an Intellect increased by 2.\nAlso, every Fay\u2019s Empathy is reduced by 1.\nFay start the game with 20 Health, 20 Stamina and 30 Mana.\nTheir Perception is increased by 1 and running\ndoesn\u2019t cost them stamina.",statboni:new We(0,0,0,0,2,1,-1),traitsAsStrings:["Running doesn\u2019t cost them stamina."],startingHealth:20,startingStamina:20,startingMana:30,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Gnome",flavorText:"Gnomes are a very short race of empathic people that have a deep bond with nature.\nAt their best, gnomes are friendly, calm and wise.\nAt their worst, gnomes are stubborn, close-minded and vengeful.",textDescription:"Every Gnome starts with an Empathy increased by 2.\nAlso, Gnome\u2019 Agility increases by 1\nHowever, every Gnome\u2019s Strength is reduced by 2.\nGnomes have a supernatural gift that allows them to understand and talk to animals as if\nthey were speaking their language.\nIn most situations however, animals have a very short memory and aren\u2019t too intelligent.\nGnomes start the game with 20 Health, 20 Stamina and 30 Mana.",statboni:new We(-2,0,0,1,0,0,2),traitsAsStrings:["Gnomes have a supernatural gift that allows them to understand and talk to animals as if they were speaking their language. In most situations however, animals have a very short memory and aren\u2019t too intelligent."],startingHealth:20,startingStamina:20,startingMana:30,languages:[dB],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Halkaran",flavorText:"Halkarans are a very short race of nimble humanoids that enjoy the company of other races, but\nalso often have their own enclaves to call home.\nHalkarans mature at the age of 14, and live to be around 60.\nAt their best, halkarans are friendly, curious and open-minded.\nAt their worst, halkarans are naive, intrusive and dishonest",textDescription:"Every Halkaran starts with an Agility increased by 1.\nAlso, Halkarans\u2019 Dexterity increases by 2\nHowever, every Halkaran\u2019s Strength is reduced by 2.\nHalkarans are known to have a built-in ability when it comes to throwing things accurately. Many\npeople have suffered head fractures from Halkaran-thrown stones over the ages. This means that\nHalkarans add 1d4 to attack rolls made with throwing weapons.\nAdditionally, Halkaran\u2019s Luck is a winged word. A Halkaran can reroll one Natural 1 per\nday.\nTheir small size allows them to sneak better. They are always treated to have a stealth perk\n1 level higher than they trained it\nHalkarans start the game with 25 Health, 25 Stamina and 20 Mana.",statboni:new We(-2,0,2,1,0,0,0),traitsAsStrings:["Halkarans add 1d4 to attack rolls made with throwing weapons.","Halkaran\u2019s Luck is a winged word. A Halkaran can reroll one Natural 1 per day.","Their small size allows them to sneak better. They are always treated to have a stealth perk 1 level higher than they trained it"],startingHealth:25,startingStamina:25,startingMana:20,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Humans",flavorText:"Humans are a widely spread race of different ethnicities. No other race is as numerous as humans\nare. This is due to their high versatility and tenacity, as well as their adaptability.\nThey mature at 16 and live to around 80.",textDescription:"Humans can freely add 4 attribute points, but they can not increase any attribute\nabove 12 with this.\nAdditionally, humans can create their character with 1800 CP instead of 1500\nHumans start the game with 25 Health, 25 Stamina and 25 Mana.",statboni:new We(0,0,0,0,0,0,0),traitsAsStrings:[],startingHealth:25,startingStamina:25,startingMana:25,languages:[],cpBonus:300,freeAttributePoints:4,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Iganian",flavorText:"Iganians are a proud race of muscular beings with partially mineralized bodies. They are known\nto live near volcanic regions.\nIganians mature at the age of 17, and live to be around 90.\nAt their best, Iganians are honest, loyal and helpful.\nAt their worst, Iganians are preachy, overbearing and naive",textDescription:"Every Iganian starts with an Empathy increased by 2.\nAlso, Iganians\u2019 Strength increases by 1\nHowever, every Iganian\u2019s Agility is reduced by 2.\nIganians are known for their heat-resistant, mineralized bodies. They have a heat resistance of\n+3 and cutting and piercing resistance of +1. This however means that they take double\ncold damage.\nIganians start the game with 25 Health, 20 Stamina and 25 Mana.",statboni:new We(1,0,0,-2,0,0,2),traitsAsStrings:["Iganians are known for their heat-resistant, mineralized bodies. They have a heat resistance of +3 and cutting and piercing resistance of +1. This however means that they take double cold damage."],startingHealth:25,startingStamina:20,startingMana:25,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Oroban",flavorText:"Orobans are a stout, short race of beings that live near and inside of mountains in their large\nfortresses.\nOrobans mature at an age of 23, and live up to 300 years. They tend to become extremely fragile\nand senile in the process, but reaching such an extreme age is widely respected in Oroban culture.\nAt their best, Orobans are friendly, crafty and resourceful.\nAt their worst, Orobans are bashful, blunt and devious.",textDescription:"Orobans start with a Vitality increased by 2.\nAlso, their Intellect is increased by 1. \nAdditionally, they gain +2 on checks against poison effects.\nAlso Orobans can see in dim light normally.\nHowever, they have -2 on Perception checks in daylight and their Agility is reduced by 2\nOrobans start the game with 30 Health, 20 Stamina and 20 Mana.",statboni:new We(0,2,0,-2,1,0,0),traitsAsStrings:["They gain +2 on checks against poison effects","Orobans can see in dim light normally.","They have -2 on Perception checks in daylight"],startingHealth:30,startingStamina:20,startingMana:20,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Syka",flavorText:"Syka are a wiry people of humanoids living in remote mountain villages. They also call some of\nthe flying fortresses of the world their home.\nSyka mature at the age of 25, and live to be around 120.\nAt their best, Syka are witty, funny and charismatic.\nAt their worst, Syka are carefree, smug and condescending.",textDescription:"Every Syka starts with an Agility increased by 2.\nAlso, Sykas\u2019 Perception is increased by 1\nHowever, every Syka\u2019s Vitality is reduced by 1\nSyka have the ability to jump double the height and distance than normally and thanks\nto their natural affinity to the air element they require half the amount of CP to learn\nAir-related perks, like the Air rune.\nSyka start the game with 20 Health, 20 Stamina and 30 Mana.",statboni:new We(0,-1,0,2,0,1,0),traitsAsStrings:["Syka have the ability to jump double the height and distance than normally","Thanks to their natural affinity to the air element they require half the amount of CP to learn Air-related perks, like the Air rune"],startingHealth:20,startingStamina:20,startingMana:30,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}},{name:"Umbrana",flavorText:"Umbrana are a brawny and strong, and very ugly race of humanoids that hail from the Ruins of\nShadowdusk. They enjoy human company - a usually one-sided pleasure. They often times try to\nfit into human society - especially higher society.\nUmbrana mature at the age of 18, and live to be around 100.\nAt their best, Umbrana are helpful, friendly and well-mannered.\nAt their worst, Umbrana are insecure, distractable and superficial.",textDescription:"Every Umbrana starts with a Strength and Intellect increased by 2.\nHowever, every Umbrana\u2019s Empathy is reduced by 2\nAlso, their Agility is reduced by 1\nDue to their magical nature, Umbrana have an affinity for Magic. They gain +2 Mana for\neach level of \u201dIncrease Mana\u201d that they gain.\nAlso, they gain an additional 2 resistance to damage from spells. This resistance triggers\nlast in the line of resistances. For every point of damage it absorbs, the Umbrana\nregenerates 1 Mana\nUmbrana start the game with 25 Health, 20 Stamina and 25 Mana.",statboni:new We(2,0,0,-1,2,0,-2),traitsAsStrings:["Due to their magical nature, Umbrana have an affinity for Magic. They gain +2 Mana for each level of \u201dIncrease Mana\u201d that they gain","They gain an additional 2 resistance to damage from spells. This resistance triggers last in the line of resistances. For every point of damage it absorbs, the Umbrana regenerates 1 Mana"],startingHealth:20,startingStamina:20,startingMana:30,languages:[],cpBonus:0,freeAttributePoints:0,modifyAbilityCheck:function(n){return n},modifyAttack:function(n){return n},modifyDamage:function(n,t){return t},modifyIncomingAttack:function(n){return n},modifyIncomingDamage:function(n){return n},modifyPerkWhenLearning:function(n){return n},levelUpBonus:function(){return new Qt}}];function DE(){return gB}const gB=[{name:"Laetharnian Countryside"},{name:"Laetharnian Town"},{name:"Laetharnian Metropolis"},{name:"Suldoranian Steppefolk"},{name:"Oroban Mountain Fortresses"},{name:"Oroban Hill-Dwellers"},{name:"Trilfay Underground Cities"},{name:"Molfay Stilt Dwellings"},{name:"Religious Monastery"},{name:"Arcane Academy"},{name:"Theral Countryside"},{name:"Theral Cities"},{name:"The Candle Atoll"},{name:"Whitlan Whitland Culture"},{name:"Whitlan Northern Culture"},{name:"Mardim Islands"},{name:"Damara and Kaldar"},{name:"Shadowduskian Ashfolk"},{name:"Shadowduskian Colonies"},{name:"Truinic Culture"},{name:"Iganian Volcano Towns"},{name:"Marfay Tree Cities"},{name:"Bark-Elven Dwellings"},{name:"Stone-Elven Dwellings"},{name:"Gnomish Towns"},{name:"Halkaran Towns"},{name:"Noldaran Culture"},{name:"Nedan Dune-Travellers"},{name:"Nedan Bazaar-Culture"},{name:"Felan Raft-Tribes"},{name:"Corsar Port-dwellings and Seafarers"},{name:"Corsar Inlanders"},{name:"Corsar Wharftown"},{name:"Flaemic Culture"},{name:"Damaran Druidic Culture"},{name:"Damaran Pacified Culture"},{name:"Velothi Culture"},{name:"Caldim Culture"}];function EE(){return mB}const mB=[{name:"Travelling Merchant"},{name:"Sailor"},{name:"Noble"},{name:"Slave"},{name:"Urchin"},{name:"Veteran"},{name:"Guard"},{name:"Mercenary"},{name:"Gladiator"},{name:"Artisan"},{name:"Farmer"},{name:"Mage\u2019s Apprentice"},{name:"Monastery Novice"},{name:"Cleric Student"},{name:"Servant"},{name:"Captured Odem Wielder"},{name:"Odem Wielder on the run"}];class SE{constructor(){this.raceCache=null,this.cultureCache=null,this.backgroundCache=null,this.zodiacSignCache=null}}class Je{constructor(t,e,i){this.id=t,this.createdTime=e,this.updatedTime=i,this.startingCP=1500,this.startingGold=500,this.name="New Character",this.raceName=null,this.cultureName=null,this.backgroundName=null,this.zodiacSignName=null,this.caches=new SE,this.maxHealth=we.EMPTY,this.healthRegenBonus=we.EMPTY,this.maxStamina=we.EMPTY,this.staminaRegenBonus=we.EMPTY,this.maxMana=we.EMPTY,this.manaRegenBonus=we.EMPTY,this.dodgeModifier=xt.EMPTY,this.evadeModifier=xt.EMPTY,this.noticeModifier=xt.EMPTY,this.willpowerModifier=xt.EMPTY,this.statcap=new We(12,12,12,12,12,12,12),this.stats=CE,this.perks=[],this.equipment=null,this.languagesInLearnOrder=[],this.combatXP=0,this.socialXP=0,this.adventuringXP=0}getRace(){if(null==this.raceName)return null;if(null!=this.caches.raceCache&&this.caches.raceCache.name==this.raceName)return this.caches.raceCache;let t=Rp().find(e=>e.name===this.raceName)||null;return this.caches.raceCache=t,t}getCulture(){if(null==this.cultureName)return null;if(null!=this.caches.cultureCache&&this.caches.cultureCache.name==this.cultureName)return this.caches.cultureCache;let t=DE().find(e=>e.name===this.cultureName)||null;return this.caches.cultureCache=t,t}getBackground(){if(null==this.backgroundName)return null;if(null!=this.caches.backgroundCache&&this.caches.backgroundCache.name==this.backgroundName)return this.caches.backgroundCache;let t=EE().find(e=>e.name===this.backgroundName)||null;return this.caches.backgroundCache=t,t}getZodiacSign(){if(null==this.zodiacSignName)return null;if(null!=this.caches.zodiacSignCache&&this.caches.zodiacSignCache.name==this.zodiacSignName)return this.caches.zodiacSignCache;let t=wE().find(e=>e.name===this.zodiacSignName)||null;return this.caches.zodiacSignCache=t,t}getFinalStats(){let t=this.stats.toStatNumberArray(),e=this.getRace()?.statboni?.toStatNumberArray()||new Array(7).fill(0);return We.fromArray(t.map(function(i,r){return i+e[r]}))}getTotalCP(){return this.startingCP+this.getCPFromLevel()+(this.getRace()?.cpBonus||0)}getFinalCombatStats(){let t=this.getFinalCharacter(),e=t.getRace();return Object.freeze({maxHealth:t.maxHealth.increaseFixed(e?.startingHealth||0).increaseFixed(t.stats.vitality),maxStamina:t.maxStamina.increaseFixed(e?.startingStamina||0).increaseFixed(t.stats.strength),maxMana:t.maxMana.increaseFixed(e?.startingMana||0).increaseFixed(t.stats.intellect),dodgeModifier:t.dodgeModifier.increaseFixed(t.stats.agility).increaseFixed(8),noticeModifier:t.noticeModifier.increaseFixed(t.stats.perception).increaseFixed(8),willpowerModifier:t.willpowerModifier.increaseFixed(t.stats.empathy).increaseFixed(8)})}getHealthRecovery(){let t=this.perks.find(e=>"Enhance Pool: Health"==e.perk.name);return new we(1+(t?.level||0),[])}getStaminaRecovery(){let t=this.perks.find(e=>"Enhance Pool: Stamina"==e.perk.name);return new we(1+(t?.level||0),[])}getManaRecovery(){let t=this.perks.find(e=>"Enhance Pool: Mana"==e.perk.name);return new we(0,[new Pp(1+(t?.level||0),6)])}getSocialLevel(){return this.getLevel(this.socialXP)}getCombatLevel(){return this.getLevel(this.combatXP)}getAdventuringLevel(){return this.getLevel(this.adventuringXP)}getCPFromLevel(){let t=0;for(let e=1;e<=this.combatXP;e++)t+=100*this.getLevel(e);for(let e=1;e<=this.adventuringXP;e++)t+=100*this.getLevel(e);for(let e=1;e<=this.socialXP;e++)t+=100*this.getLevel(e);return t}getRemainingCP(){let t=this.getTotalCP();for(let i of this.perks.filter(r=>r.perk.internalCategory!==B.SKILL))for(let r=1;r<=i.level;r++)t-=i.perk.getCpCostForLevel(r,this.perks);let e=[];for(let i of this.perks.filter(r=>r.perk.internalCategory==B.SKILL))for(let r=1;r<=i.level;r++)t-=i.perk.getCpCostForLevel(r,e),e.push(new Wo(1,i.perk));for(let i=0;i<this.languagesInLearnOrder.length;i++){let r=this.languagesInLearnOrder[i],o=this.languagesInLearnOrder.slice(0,i);t-=r.getCpCost(o)}return t}getLevel(t){return t>=761?21:t>=685?20:t>=613?19:t>=545?18:t>=481?17:t>=421?16:t>=365?15:t>=313?14:t>=365?13:t>=221?12:t>=181?11:t>=145?10:t>=113?9:t>=85?8:t>=61?7:t>=41?6:t>=25?5:t>=13?4:t>=5?3:t>=1?2:1}getFinalCharacter(){let t=this;for(let e of this.perks.sort((i,r)=>i.perk.priority-r.perk.priority)){t=Object.freeze(t);let i=this.getRace();null!==i&&(e=i.modifyPerkWhenLearning(e)),t=e.perk.applyEffect(t,e.level)}return Object.freeze(t)}toJSON(){let{caches:t,...e}=this;return e}}function et(n){return Ye((t,e)=>{Gt(n).subscribe(Be(e,()=>e.complete(),Bu)),!e.closed&&t.subscribe(e)})}const Op={now:()=>(Op.delegate||Date).now(),delegate:void 0};class _B extends U{constructor(t=1/0,e=1/0,i=Op){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function ME(){return yB}const yB=[{groupName:"Increase Health",name:"Increase Health",requirements:[],tags:["Passive","Repeatable"],description:"You increase your Health by 1D6 + Vitality. Each time you gain a higher Rank for this perk, your Health is increased again.",startingLevel:0,priority:100,internalCategory:B.BASE,additionalData:null,getCpCostForLevel:n=>50*Fp(n),getGoldCostForLevel:()=>0,applyEffect(n,t){let e=Object.setPrototypeOf({...n},Je.prototype),i=e.maxHealth,r=e.getFinalStats().vitality,o=e.perks.find(s=>"Enhance Pool: Health"==s.perk.name);return i=i.increaseDice(t,null==o?6:6+2*o.level),i=i.increaseFixed(r*t),e.maxHealth=i,e}},{groupName:"Increase Stamina",name:"Increase Stamina",requirements:[],tags:["Passive","Repeatable"],description:"You increase your Stamina by 1D6 + Strength. Each time you gain a higher Rank for this perk, your Stamina is increased again.",startingLevel:0,priority:100,internalCategory:B.BASE,additionalData:null,getCpCostForLevel:n=>50*Fp(n),getGoldCostForLevel:()=>0,applyEffect(n,t){let e=Object.setPrototypeOf({...n},Je.prototype),i=e.maxStamina,r=e.getFinalStats().strength,o=e.perks.find(s=>"Enhance Pool: Stamina"==s.perk.name);return i=i.increaseDice(t,null==o?6:6+2*o.level),i=i.increaseFixed(r*t),e.maxStamina=i,e}},{groupName:"Increase Mana",name:"Increase Mana",requirements:[],tags:["Passive","Repeatable"],description:"You increase your Mana by 1D6 + Intellect. Each time you gain a higher Rank for this perk, your Mana is increased again.",startingLevel:0,priority:100,internalCategory:B.BASE,additionalData:null,getCpCostForLevel:n=>50*Fp(n),getGoldCostForLevel:()=>0,applyEffect(n,t){let e=Object.setPrototypeOf({...n},Je.prototype),i=e.maxMana,r=e.getFinalStats().intellect,o=e.perks.find(s=>"Enhance Pool: Mana"==s.perk.name);return i=i.increaseDice(t,null==o?6:6+2*o.level),i=i.increaseFixed(r*t),e.maxMana=i,e}},...["Health","Stamina","Mana"].map(n=>({groupName:"Enhance Pool",name:"Enhance Pool: "+n,requirements:[],tags:["Passive","Repeatable"],description:"Choose a pool value. Whenever you gain a rank in the \u201dIncrease\u201d Perk for that pool value (In-\ncrease Health, Increase Stamina or Increase Mana), the amount of points you gain is increased\nby one die size (from 1d6 to 1d8 to 1d10 to a maximum of 1d12). Don\u2019t re-roll previous ranks\nof the \u201dIncrease\u201d Perk for that pool value. Instead, you gain 1 point for each rank of \u201dIncrease\u201d\nyou already have for that pool value. Additionally, your regeneration factor is increased by 1 (for\nMana, you roll twice, thrice or four times per hour respectively).\nWhenever you gain another rank of this perk, you choose the pool value to enhance. No one pool\nvalue can be enhanced more than 3 times",startingLevel:0,priority:80,internalCategory:B.BASE,additionalData:null,getCpCostForLevel:(t,e)=>[500,2500,5e3,7500,1e4][t+e.filter(r=>r.perk.name.startsWith("Enhance Pool")).filter(r=>!r.perk.name.endsWith(n)).map(r=>r.level).reduce((r,o)=>r+o,0)-1],getGoldCostForLevel:()=>0,applyEffect(t,e){let i=Object.setPrototypeOf({...t},Je.prototype);switch(n){case"Health":i.healthRegenBonus=new we(i.healthRegenBonus.fixedNumber+e,i.healthRegenBonus.dices);break;case"Stamina":i.staminaRegenBonus=new we(i.staminaRegenBonus.fixedNumber+e,i.staminaRegenBonus.dices);break;case"Mana":i.manaRegenBonus=new we(i.manaRegenBonus.fixedNumber+e,i.manaRegenBonus.dices)}return i}})),...["Strength","Vitality","Dexterity","Agility","Intellect","Perception","Empathy"].map(n=>({groupName:"Increase Attribute",name:"Increase Attribute: "+n,requirements:[],tags:["Passive","Repeatable"],description:"You increase one of your Attribute value by one, to a maximum of 12.\nIf you increase Strength, Intellect or Vitality, your Stamina, Mana or Health also increase by 1, plus\n1 for each rank of Increase Stamina, Increase Mana or Increase Health you have. Each time you\ngain a higher rank for this perk, you increase an Attribute value by one point, to a maximum of 12.",startingLevel:0,priority:30,internalCategory:B.BASE,additionalData:null,getCpCostForLevel:(t,e)=>[100,250,500,750,1e3,2500,5e3,7500,1e4,25e3,75e3][t+e.filter(r=>r.perk.name.startsWith("Increase Attribute")).filter(r=>!r.perk.name.endsWith(n)).map(r=>r.level).reduce((r,o)=>r+o,0)-1],getGoldCostForLevel:()=>0,applyEffect(t,e){let i=Object.setPrototypeOf({...t},Je.prototype),r={...i.stats};return r[n]=i.stats[n]+e,i.stats=Object.setPrototypeOf(r,We.prototype),i}})),{groupName:"Alert",name:"Alert",requirements:[],tags:["Passive","Repeatable"],description:"You have honed your senses and gained increased reflexes. You add your level to Notice",startingLevel:0,priority:100,internalCategory:B.BASE,additionalData:null,getCpCostForLevel:n=>[200,800,4500,12500][n-1],getGoldCostForLevel:()=>0,applyEffect(n,t){let e=new xt(n.noticeModifier.baseModifier,n.noticeModifier.socialModifier.increaseFixed(2*(t-1)+n.getSocialLevel()),n.noticeModifier.combatModifier.increaseFixed(2*(t-1)+n.getCombatLevel()),n.noticeModifier.adventuringModifier.increaseFixed(2*(t-1)+n.getAdventuringLevel()));return Object.setPrototypeOf({...n,noticeModifier:e},Je.prototype)}},{groupName:"Resilient",name:"Resilient",requirements:[],tags:["Passive","Repeatable"],description:"You have become strong-willed and aren\u2019t as easily swayed anymore. You add your level to Willpower",startingLevel:0,priority:100,internalCategory:B.BASE,additionalData:null,getCpCostForLevel:n=>[200,800,4500,12500][n-1],getGoldCostForLevel:()=>0,applyEffect(n,t){let e=new xt(n.willpowerModifier.baseModifier,n.willpowerModifier.socialModifier.increaseFixed(2*(t-1)+n.getSocialLevel()),n.willpowerModifier.combatModifier.increaseFixed(2*(t-1)+n.getCombatLevel()),n.willpowerModifier.adventuringModifier.increaseFixed(2*(t-1)+n.getAdventuringLevel()));return Object.setPrototypeOf({...n,noticeModifier:e},Je.prototype)}},{groupName:"Cloth Armor Training",name:"Cloth Armor Training",requirements:[],tags:["Passive","Repeatable"],description:"You are trained with armor made of cloth. You add your level to Dodge and Evade checks while naked, or equipped with armor with the Cloth\u201d descriptor.",startingLevel:0,priority:150,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[10,100,250,500][n-1],getGoldCostForLevel:n=>[0,100,250,600][n-1],applyEffect:(n,t)=>Hc(n,t)},{groupName:"Light Armor Training",name:"Light Armor Training",requirements:[{perkname:"Cloth Armor Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with light. You add your level to Dodge and Evade checks while equipped with armor with the \u201dLight\u201d descriptor.",startingLevel:0,priority:150,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[250,550,1200,2500][n-1],getGoldCostForLevel:n=>[250,550,1200,2500][n-1],applyEffect:(n,t)=>Hc(n,t)},{groupName:"Medium Armor Training",name:"Medium Armor Training",requirements:[{perkname:"Cloth Armor Training",level:1}],tags:["Passive","Repeatable"," Source"],description:"You are trained with medium armor. You add your level to Dodge and Evade checks while equipped with armor with the \u201dMedium\u201d descriptor.\nAdditionally, your Agility can not exceed 9 while wearing this type of armor",startingLevel:0,priority:150,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[500,1e3,2500,5e3][n-1],getGoldCostForLevel:n=>[500,1e3,2500,5e3][n-1],applyEffect(n,t){let e=Hc(n,t),i=Object.setPrototypeOf({...e.statcap,agility:9,AG:9},We.prototype);return Object.setPrototypeOf({...e,statcap:i},Je.prototype)}},{groupName:"Heavy Armor Training",name:"Heavy Armor Training",requirements:[{perkname:"Cloth Armor Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with heavy armor. You add your level to Dodge and Evade checks while equipped with armor with the \u201dHeavy\u201d descriptor.\nAdditionally, the resistance you gain from such armor against blunt, cutting and piercing is increased by 1.",startingLevel:0,priority:150,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[2500,7500,1e4,15e3][n-1],getGoldCostForLevel:n=>[2500,7500,1e4,15e3][n-1],applyEffect:(n,t)=>Hc(n,t)},{groupName:"Simple Weapon Training",name:"Simple Weapon Training",requirements:[],tags:["Passive","Repeatable","Source"],description:"You are trained with all weapons that have the \u201dSimple\u201d descriptor. You add your level to attack\nand block rolls made with that weapon.",startingLevel:0,priority:100,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[10,200,700,1500][n-1],getGoldCostForLevel:n=>[10,200,700,1500][n-1],applyEffect:(n,t)=>n},{groupName:"Axe Training",name:"Axe Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with axes. This includes all weapons with the \u201dAxe\u201d descriptor. You add your\nlevel to attack and block rolls made with these weapons.",startingLevel:0,priority:160,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[200,800,4500,12500][n-1],getGoldCostForLevel:n=>[200,800,4500,12500][n-1],applyEffect:(n,t)=>n},{groupName:"Blunt Training",name:"Blunt Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with blunt weapons. This includes all weapons with the \u201dBlunt\u201d descriptor. You\nadd your level to attack and block rolls made with these weapons.",startingLevel:0,priority:155,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[200,800,4500,12500][n-1],getGoldCostForLevel:n=>[200,800,4500,12500][n-1],applyEffect:(n,t)=>n},{groupName:"Bow Training",name:"Bow Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with bows. This includes all weapons with the \u201dBow\u201d descriptor. You add your\nlevel to attack and block rolls made with these weapons.",startingLevel:0,priority:160,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[150,550,3e3,6e3][n-1],getGoldCostForLevel:n=>[150,550,3e3,6e3][n-1],applyEffect:(n,t)=>n},{groupName:"Crossbow Training",name:"Crossbow Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with crossbows. This includes all weapons with the \u201dCrossbow\u201d descriptor. You\nadd your level to attack and block rolls made with these weapons.",startingLevel:0,priority:160,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[100,500,2500,7500][n-1],getGoldCostForLevel:n=>[100,500,2500,7500][n-1],applyEffect:(n,t)=>n},{groupName:"Polearm Training",name:"Polearm Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with polearms. This includes all weapons that have the \u201dPolearm\u201d descriptor.\nYou add your level to attack and block rolls made with these weapons.",startingLevel:0,priority:160,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[200,800,4500,12500][n-1],getGoldCostForLevel:n=>[200,800,4500,12500][n-1],applyEffect:(n,t)=>n},{groupName:"Shield Training",name:"Shield Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with shields. This includes all weapons with the \u201dShield\u201d descriptor. You add\nyour level to attack and block rolls made with these weapons.",startingLevel:0,priority:160,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[200,800,4500,12500][n-1],getGoldCostForLevel:n=>[200,800,4500,12500][n-1],applyEffect:(n,t)=>n},{groupName:"Sword Training",name:"Sword Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with swords. This includes all weapons that have the \u201dSword\u201d descriptor. You\nadd your level to attack and block rolls made with these weapons.",startingLevel:0,priority:160,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[200,800,4500,12500][n-1],getGoldCostForLevel:n=>[200,800,4500,12500][n-1],applyEffect:(n,t)=>n},{groupName:"Throwing Training",name:"Throwing Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"You are trained with throwing weapons. This includes all weapons that have the \u201dThrowing\u201d\ndescriptor. You add your level to attack and block rolls made with these weapons.",startingLevel:0,priority:155,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[80,250,1200,4500][n-1],getGoldCostForLevel:n=>[80,250,1200,4500][n-1],applyEffect:(n,t)=>n},{groupName:"Weapon Training",name:"Weapon Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"This is a set of different perks. You are trained with a certain type of weapon that does not have\nthe \u201dUnusual\u201d descriptor. You add your level to attack and block rolls made with that weapon.\nYou choose the weapon type that you are proficient in when you choose this perk. You can gain\nanother instance of this perk by choosing a different weapon.",startingLevel:0,priority:170,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[50,250,750,1500][n-1],getGoldCostForLevel:n=>[50,250,750,1500][n-1],applyEffect:(n,t)=>n},{groupName:"Unusual Weapon Training",name:"Unusual Weapon Training",requirements:[{perkname:"Simple Weapon Training",level:1}],tags:["Passive","Repeatable","Source"],description:"This is a set of different perks. You are trained with a certain type of weapon that has the \u201dUn-\nusual\u201d descriptor. You add your level to attack and block rolls made with that weapon.\nYou choose the weapon type that you are proficient in when you choose this perk. You can gain\nanother instance of this perk by choosing a different weapon.",startingLevel:0,priority:170,internalCategory:B.MARTIAL,additionalData:null,getCpCostForLevel:n=>[500,1500,5e3,1e4][n-1],getGoldCostForLevel:n=>[500,1500,5e3,1e4][n-1],applyEffect:(n,t)=>n},{groupName:"Animal Handling",name:"Animal Handling",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the handling of animals, like\nriding horses, taming wild beasts or soothing aggressive wolves",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>10,applyEffect:n=>n},{groupName:"Balancing",name:"Balancing",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning keeping your balance. This\nincludes trying to walk over slippery surfaces or navigating tightropes. Additionally, balancing is\nused to not be knocked over.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>50,applyEffect:n=>n},{groupName:"Climbing",name:"Climbing",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning climbing. This includes knowledge\nabout climbing, but also climbing itself.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>25,applyEffect:n=>n},{groupName:"Deception",name:"Deception",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning hiding your true intentions as well as truths.\nYou can also add your relevant game mode level to checks concerning recognizing Deception and realizing someone\u2019s true intentions.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>25,applyEffect:n=>n},{groupName:"Examination",name:"Examination",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning examining things, such as searching for hidden objects or creatures or trying to decipher faded text.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>30,applyEffect:n=>n},{groupName:"Forgery",name:"Forgery",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the creation and recognition of\nforged documents, seals, jewellery, or other types of forgeries.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>150,applyEffect:n=>n},{groupName:"Intimidation",name:"Intimidation",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning threatening behaviour, extortion,\nblackmail, torture or other forms of intimidation.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>25,applyEffect:n=>n},{groupName:"Jumping",name:"Jumping",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning jumping. This includes jumping\nfar distances as well as making targeted jumps. Additionally, it also includes landing a jump from\na height without taking damage, or reducing falling damage from a high fall.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>10,applyEffect:n=>n},{groupName:"Lock Picking",name:"Lock Picking",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the picking of locks. Lock Picking\nchecks can also be used to close locks again. Magic locks usually can not be picked by the means\nof a lock pick.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>25,applyEffect:n=>n},{groupName:"Lore X",name:"Lore X",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"This perk is a collection of multiple Skill perks, each of which concerns a particular area of expertise. You can add your relevant game mode level to checks made to recall information about said\ntopic.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>100,applyEffect:n=>n},{groupName:"Masquerade",name:"Masquerade",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the creation of costumes, masks\nand disguises. It is also useful for creating second identities, staying in character, and pretending\nto be someone else.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>75,applyEffect:n=>n},{groupName:"Medicine",name:"Medicine",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning illnesses, wounds, poisons, and\nanatomy in general. It can be used to recognize the cause of death in a corpse, diagnose and treat\nillnesses or poisons, and treat wounds.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>100,applyEffect:n=>n},{groupName:"Negotiation",name:"Negotiation",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning diplomacy, persuasion, haggling\nand any other forms of debate.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>50,applyEffect:n=>n},{groupName:"Performance X",name:"Performance X",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"This perk is a collection of multiple Skill perks, each of which concerns a particular art form or\ninstrument. You can add your relevant game mode level to checks made to create, recite, recall\nand perform pieces of art in the given art form or with the give",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>75,applyEffect:n=>n},{groupName:"Pickpocket",name:"Pickpocket",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the picking of pockets. This\nincludes actually stealing a person\u2019s wallet, but also tricks like stealing a ring off of their finger\nwhile shaking hands, or recognizing how much money a person might have on them.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>10,applyEffect:n=>n},{groupName:"Research",name:"Research",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the research of information. This\nincludes looking through books, but also gathering information in a seedy tavern or knowing who\nto ask for favours in order to gain data.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>50,applyEffect:n=>n},{groupName:"Rope Handling",name:"Rope Handling",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the tying and untying of knots,\nas well as the function and usability of different types of ropes, strings, chains and bindings.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>50,applyEffect:n=>n},{groupName:"Seduction",name:"Seduction",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level checks concerning the seduction of others. This can\ninclude making them act against their moral compass, persuading them to an intimate encounter,\nor making someone fall in love with you.\nIt is also useful for recognizing it if someone is trying to seduce someone.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>25,applyEffect:n=>n},{groupName:"Stealth",name:"Stealth",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning staying hidden, moving silently,\nmoving unnoticed, hiding objects and subterfuge in general.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>10,applyEffect:n=>n},{groupName:"Survival",name:"Survival",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning survival in nature. This includes\nforaging for basic food, finding, interpreting, and following tracks, as well as creating basic shelters\nand starting fires.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>25,applyEffect:n=>n},{groupName:"Swimming",name:"Swimming",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning moving in water as well as\nother fluids. This is also useful for diving for a long period of time, fighting against a current, or\nappraising how rough the currents in a body of water are.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>10,applyEffect:n=>n},{groupName:"Trap Handling",name:"Trap Handling",requirements:[],tags:["Skill","Passive","Repeatable","Source"],description:"You can add your relevant game mode level to checks concerning the setting and disabling of non-\nmagical traps. Traps usually have a trigger as well as an effect, that\u2019s typically supposed to harm\nthe person triggering the trap.",startingLevel:0,priority:40,internalCategory:B.SKILL,additionalData:null,getCpCostForLevel:tt,getGoldCostForLevel:()=>100,applyEffect:n=>n}];function tt(n,t){return TE(t.filter(i=>i.perk.internalCategory==B.SKILL).reduce((i,r)=>i+r.level,0)+1)}function TE(n){return 0==n?0:20*n+TE(n-1)}function Hc(n,t){let e=new xt(n.dodgeModifier.baseModifier,n.dodgeModifier.socialModifier.increaseDice(t-1,4).increaseFixed(2*(t-1)+n.getSocialLevel()),n.dodgeModifier.combatModifier.increaseDice(t-1,4).increaseFixed(2*(t-1)+n.getCombatLevel()),n.dodgeModifier.adventuringModifier.increaseDice(t-1,4).increaseFixed(2*(t-1)+n.getAdventuringLevel())),i=new xt(n.evadeModifier.baseModifier,n.evadeModifier.socialModifier.increaseDice(t-1,4).increaseFixed(2*(t-1)+n.getSocialLevel()),n.evadeModifier.combatModifier.increaseDice(t-1,4).increaseFixed(2*(t-1)+n.getCombatLevel()),n.evadeModifier.adventuringModifier.increaseDice(t-1,4).increaseFixed(2*(t-1)+n.getAdventuringLevel()));return Object.setPrototypeOf({...n,dodgeModifier:e,evadeModifier:i},Je.prototype)}function Fp(n){let t=0;for(let e=1;e<=n;e++)t+=e;return t}let Np=(()=>{class n{constructor(){this.loadedCharacterId=new cn(null),this.allCharactersSubject=new _B(1),this.loadDataInitially(),this.loadLatest(),this.loadedCharacterSubject=this.loadedCharacterId.pipe(It(e=>null!==e),Mn(e=>this.getCharacter(e)))}loadLatest(){this.getCharacters().pipe(je(1)).subscribe(e=>{if(0===e.length)this.generateAndLoadNewCharacter();else{let i=e.sort((r,o)=>o.updatedTime-r.updatedTime)[0];this.loadCharacter(i.id)}})}loadCharacter(e){this.loadedCharacterId.next(e)}generateAndLoadNewCharacter(){let e=Math.floor(Math.random()*Math.pow(36,50)).toString(36),i=(new Date).getTime(),r=new Je(e,i,i);this.saveCharacter(r),this.loadCharacter(r.id)}getLoadedCharacter(){return this.loadedCharacterSubject}getCharacter(e){return this.getCharacters().pipe(K(i=>{const r=i.findIndex(o=>o.id===e);if(-1==r)throw new Error("Could not load character by id from storage");return i[r]}))}saveCharacter(e){this.allCharactersSubject.pipe(je(1)).subscribe(i=>{const r=i.findIndex(o=>o.id===e.id);-1===r?i.push(e):i[r]=e,window.localStorage.setItem("characters",JSON.stringify(i)),this.allCharactersSubject.next(i)})}getCharacters(){return this.allCharactersSubject}loadDataInitially(){let e=window.localStorage.getItem("characters");try{let i=JSON.parse(e||"[]",function(r,o){return"baseModifier"==r||"combatModifier"==r||"adventuringModifier"==r||"socialModifier"==r?Object.setPrototypeOf(o,we.prototype):o});for(let r of i){Object.setPrototypeOf(r,Je.prototype),Object.setPrototypeOf(r.stats,We.prototype),Object.setPrototypeOf(r.maxHealth,we.prototype),Object.setPrototypeOf(r.healthRegenBonus,we.prototype),Object.setPrototypeOf(r.maxStamina,we.prototype),Object.setPrototypeOf(r.staminaRegenBonus,we.prototype),Object.setPrototypeOf(r.maxMana,we.prototype),Object.setPrototypeOf(r.manaRegenBonus,we.prototype),Object.setPrototypeOf(r.dodgeModifier,xt.prototype),Object.setPrototypeOf(r.noticeModifier,xt.prototype),Object.setPrototypeOf(r.willpowerModifier,xt.prototype),r.caches=new SE;let o=r.getRace();if(null!==o){let s=Rp().find(a=>a.name===o.name);if(void 0===s)throw new Error("wtf??");o=s}for(let s=0;s<r.perks.length;s++){const a=r.perks[s];let l=ME().find(c=>c.name===a.perk.name);if(void 0===l)throw new Error("wtf?");r.perks[s]=new Wo(a.level,l)}r.languagesInLearnOrder.forEach(s=>Object.setPrototypeOf(s,me.prototype))}this.allCharactersSubject.next(i)}catch(i){throw console.error(i),console.error(e),alert("Stored saves were incompatible, probably because a new update of RLP online was released. Characters will be wiped. If you didnt backup your old character and you desperatly need it check the javascript dev console and copy the error and the savestring and send it to a RLP online developer. If you are done, press ok and then reload the website"),window.localStorage.setItem("characters",""),i}}importAndLoad(e){let i=JSON.parse(window.localStorage.getItem("characters")||"[]"),r=Object.setPrototypeOf(JSON.parse(e),Je.prototype);i.push(r),window.localStorage.setItem("characters",JSON.stringify(i)),this.loadDataInitially()}delete(e){let i=JSON.parse(window.localStorage.getItem("characters")||"[]");i=i.filter(r=>r.id!==e),window.localStorage.setItem("characters",JSON.stringify(i)),this.loadDataInitially(),this.loadLatest()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qn(n){return null!=n&&"false"!=`${n}`}function ma(n,t=0){return function vB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function _a(n){return Array.isArray(n)?n:[n]}function lt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pt(n){return n instanceof ze?n.nativeElement:n}const bB=["addListener","removeListener"],CB=["addEventListener","removeEventListener"],wB=["on","off"];function Lp(n,t,e,i){if(_e(e)&&(i=e,e=void 0),i)return Lp(n,t,e).pipe(Jf(i));const[r,o]=function SB(n){return _e(n.addEventListener)&&_e(n.removeEventListener)}(n)?CB.map(s=>a=>n[s](t,a,e)):function DB(n){return _e(n.addListener)&&_e(n.removeListener)}(n)?bB.map(AE(n,t)):function EB(n){return _e(n.on)&&_e(n.off)}(n)?wB.map(AE(n,t)):[];if(!r&&Wu(n))return gt(s=>Lp(s,t,e))(Gt(n));if(!r)throw new TypeError("Invalid event target");return new Oe(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function AE(n,t){return e=>i=>n[e](t,i)}class MB extends Ue{constructor(t,e){super()}schedule(t,e=0){return this}}const jc={setInterval(n,t,...e){const{delegate:i}=jc;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=jc;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Vp extends MB{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return jc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;jc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,zr(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ya={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ya;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ue(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=ya;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ya;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};class va{constructor(t,e=va.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}va.now=Op.now;class Bp extends va{constructor(t,e=va.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const IE=new class AB extends Bp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class TB extends Vp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ya.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ya.cancelAnimationFrame(e),t._scheduled=void 0)}});let Hp,IB=1;const Uc={};function xE(n){return n in Uc&&(delete Uc[n],!0)}const xB={setImmediate(n){const t=IB++;return Uc[t]=!0,Hp||(Hp=Promise.resolve()),Hp.then(()=>xE(t)&&n()),t},clearImmediate(n){xE(n)}},{setImmediate:kB,clearImmediate:PB}=xB,$c={setImmediate(...n){const{delegate:t}=$c;return(t?.setImmediate||kB)(...n)},clearImmediate(n){const{delegate:t}=$c;return(t?.clearImmediate||PB)(n)},delegate:void 0},zc=(new class OB extends Bp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class RB extends Vp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=$c.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||($c.clearImmediate(e),t._scheduled=void 0)}}),new Bp(Vp)),NB=zc;function kE(n=0,t,e=NB){let i=-1;return null!=t&&(Pm(t)?e=t:i=t),new Oe(r=>{let o=function VB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function PE(n,t=zc){return function LB(n){return Ye((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Be(e,c=>{i=!0,r=c,o||Gt(n(c)).subscribe(o=Be(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>kE(n,t))}let jp;try{jp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jp=!1}let ba,Or,Up,un=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function YN(n){return n===Vw}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(w(yf))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rr(n){return function BB(){if(null==ba&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ba=!0}))}finally{ba=ba||!1}return ba}()?n:!!n.capture}function HB(){if(null==Or){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Or=!1,Or;if("scrollBehavior"in document.documentElement.style)Or=!0;else{const n=Element.prototype.scrollTo;Or=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Or}function $p(n){if(function jB(){if(null==Up){const n=typeof document<"u"?document.head:null;Up=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Up}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Xn(n){return n.composedPath?n.composedPath()[0]:n.target}function zp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const UB=new x("cdk-dir-doc",{providedIn:"root",factory:function $B(){return Le(re)}}),zB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new ce,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function GB(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?zB.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(w(UB,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ca=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})(),Gp=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new U,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Oe(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(PE(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):L()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(It(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=pt(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(w(de),w(un),w(re,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wp=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new U,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(PE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(w(un),w(de),w(re,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})(),OE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[Ca,qc,Ca,qc]}),n})();class qp{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Xc extends qp{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Xp extends qp{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class XB extends qp{constructor(t){super(),this.element=t instanceof ze?t.nativeElement:t}}class Yp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Xc?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Xp?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof XB?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class YB extends Yp{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||dt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Kp=(()=>{class n extends Yp{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ce,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(b(vr),b(Ht),b(re))},n.\u0275dir=N({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[G]}),n})(),Zp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})();const FE=HB();class KB{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lt(-this._previousScrollPosition.left),t.style.top=lt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),FE&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FE&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class ZB{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NE{enable(){}disable(){}attach(){}}function Qp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function LE(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class QB{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Qp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let JB=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new NE,this.close=s=>new ZB(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new KB(this._viewportRuler,this._document),this.reposition=s=>new QB(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(w(Gp),w(Wp),w(de),w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VE{constructor(t){if(this.scrollStrategy=new NE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class eH{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let BE=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tH=(()=>{class n extends BE{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(w(re),w(de,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nH=(()=>{class n extends BE{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Xn(o)},this._clickListener=o=>{const s=Xn(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(w(re),w(un),w(de,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HE=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||zp()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),zp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(w(re),w(un))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iH{constructor(t,e,i,r,o,s,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new U,this._attachments=new U,this._detachments=new U,this._locationChanges=Ue.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new U,this._outsidePointerEvents=new U,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(je(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=lt(this._config.width),t.height=lt(this._config.height),t.minWidth=lt(this._config.minWidth),t.minHeight=lt(this._config.minHeight),t.maxWidth=lt(this._config.maxWidth),t.maxHeight=lt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=_a(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(et(us(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const jE="cdk-overlay-connected-position-bounding-box",rH=/([A-Za-z%]+)$/;class oH{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U,this._resizeSubscription=Ue.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(jE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=$E(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-a,f=a+o.height-i.height,m=this._subtractOverflows(o.width,0-s,s+o.width-i.width),v=this._subtractOverflows(o.height,h,f),C=m*v;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=UE(this._overlayRef.getConfig().minHeight),a=UE(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=$E(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,d=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,d=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new eH(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;o=2*f,s=t.y-f,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)h=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,u=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;u=2*f,d=t.x-f,u>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-m/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=lt(i.height),r.top=lt(i.top),r.bottom=lt(i.bottom),r.width=lt(i.width),r.left=lt(i.left),r.right=lt(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=lt(o)),s&&(r.maxWidth=lt(s))}this._lastBoundingBoxSize=i,Fr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Fr(i,this._getExactOverlayY(e,t,u)),Fr(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=lt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=lt(s.maxWidth):o&&(i.maxWidth="")),Fr(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=lt(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=lt(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:LE(t,i),isOriginOutsideView:Qp(t,i),isOverlayClipped:LE(e,i),isOverlayOutsideView:Qp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&_a(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ze)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Fr(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function UE(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(rH);return e&&"px"!==e?null:parseFloat(t)}return n||null}function $E(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const zE="cdk-global-overlay-wrapper";class sH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",m="",v="";l?v="flex-start":"center"===u?(v="center",h?m=d:f=d):h?"left"===u||"end"===u?(v="flex-end",f=d):("right"===u||"start"===u)&&(v="flex-start",m=d):"left"===u||"start"===u?(v="flex-start",f=d):("right"===u||"end"===u)&&(v="flex-end",m=d),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,e.justifyContent=v,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(zE),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let aH=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new sH}flexibleConnectedTo(e){return new oH(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(w(Wp),w(re),w(un),w(HE))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lH=0,Xo=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d,h,f){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new VE(e);return s.direction=s.direction||this._directionality.value,new iH(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+lH++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Lo)),new YB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(w(JB),w(HE),w(vr),w(aH),w(tH),w(dt),w(de),w(re),w(Wc),w(nc),w(nH),w(Ei,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const dH={provide:new x("cdk-connected-overlay-scroll-strategy"),deps:[Xo],useFactory:function uH(n){return()=>n.scrollStrategies.reposition()}};let GE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({providers:[Xo,dH],imports:[Ca,Zp,OE,OE]}),n})();function WE(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function qE(n){return It((t,e)=>n<=e)}function XE(n,t=Li){return n=n??bH,Ye((e,i)=>{let r,o=!0;e.subscribe(Be(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function bH(n,t){return n===t}let CH=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({providers:[CH]}),n})();const YE=new Set;let Yo,EH=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):MH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function SH(n){if(!YE.has(n))try{Yo||(Yo=document.createElement("style"),Yo.setAttribute("type","text/css"),document.head.appendChild(Yo)),Yo.sheet&&(Yo.sheet.insertRule(`@media ${n} {body{ }}`,0),YE.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(w(un))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Yc=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new U}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return KE(_a(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=ep(KE(_a(e)).map(s=>this._registerQuery(s).observable));return o=vc(o.pipe(je(1)),o.pipe(qE(1),function DH(n,t=zc){return Ye((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(Be(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(K(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Oe(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Bo(i),K(({matches:s})=>({query:e,matches:s})),et(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(w(EH),w(de))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Kc(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const JE="cdk-describedby-message",Zc="cdk-describedby-host";let Jp=0,IH=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Jp++,this._document=e,this._id=Le(No)+"-"+Jp++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=eg(i,r);"string"!=typeof i?(e0(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=eg(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Zc}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Zc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");e0(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(eg(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Kc(e,"aria-describedby").filter(r=>0!=r.indexOf(JE));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function TH(n,t,e){const i=Kc(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Zc,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function AH(n,t,e){const r=Kc(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Zc)}_isElementDescribedByMessage(e,i){const r=Kc(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(w(re),w(un))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eg(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function e0(n,t){n.id||(n.id=`${JE}-${t}-${Jp++}`)}function tg(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ng(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const FH=new x("cdk-input-modality-detector-options"),NH={ignoreKeys:[18,17,224,91,16]},Ko=Rr({passive:!0,capture:!0});let LH=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new cn(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xn(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tg(s)?"keyboard":"mouse"),this._mostRecentTarget=Xn(s))},this._onTouchstart=s=>{ng(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xn(s))},this._options={...NH,...o},this.modalityDetected=this._modality.pipe(qE(1)),this.modalityChanged=this.modalityDetected.pipe(XE()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ko),r.addEventListener("mousedown",this._onMousedown,Ko),r.addEventListener("touchstart",this._onTouchstart,Ko)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ko),document.removeEventListener("mousedown",this._onMousedown,Ko),document.removeEventListener("touchstart",this._onTouchstart,Ko))}}return n.\u0275fac=function(e){return new(e||n)(w(un),w(de),w(re),w(FH,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VH=new x("liveAnnouncerElement",{providedIn:"root",factory:function BH(){return null}}),HH=new x("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let r0=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(w(VH,8),w(de),w(re),w(HH,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jH=new x("cdk-focus-monitor-default-options"),Qc=Rr({passive:!0,capture:!0});let ig=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new U,this._rootNodeFocusAndBlurListener=a=>{for(let c=Xn(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=pt(e);if(!this._platform.isBrowser||1!==r.nodeType)return L(null);const o=$p(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new U,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=pt(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=pt(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Xn(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(et(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(w(de),w(un),w(LH),w(re,8),w(jH,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o0="cdk-high-contrast-black-on-white",s0="cdk-high-contrast-white-on-black",rg="cdk-high-contrast-active";let a0=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Le(Yc).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(rg,o0,s0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(rg,o0):2===i&&e.add(rg,s0)}}}return n.\u0275fac=function(e){return new(e||n)(w(un),w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UH=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(w(a0))},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[wH]}),n})();const zH=new x("mat-sanity-checks",{providedIn:"root",factory:function $H(){return!0}});let Yn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!zp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(w(a0),w(zH,8),w(re))},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[Ca,Ca]}),n})();function GH(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=qn(t)}}}function WH(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function qH(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=qn(t)}}}function XH(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ma(e):this.defaultTabIndex}}}class KH{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const u0={enterDuration:225,exitDuration:150},og=Rr({passive:!0}),d0=["mousedown","touchstart"],h0=["mouseup","mouseleave","touchend","touchcancel"];class QH{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pt(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...u0,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function JH(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,m="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,v=new KH(this,u,i,m);u.style.transform="scale3d(1, 1, 1)",v.state=0,i.persistent||(this._mostRecentTransientRipple=v);let C=null;return!m&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const E=()=>this._finishRippleTransition(v),I=()=>this._destroyRipple(v);u.addEventListener("transitionend",E),u.addEventListener("transitioncancel",I),C={onTransitionEnd:E,onTransitionCancel:I}}),this._activeRipples.set(v,C),(m||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...u0,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=pt(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(d0))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(h0),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=tg(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ng(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,og)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(d0.forEach(t=>{this._triggerElement.removeEventListener(t,this,og)}),this._pointerUpEventsRegistered&&h0.forEach(t=>{this._triggerElement.removeEventListener(t,this,og)}))}}const ej=new x("mat-ripple-global-options");let f0=(()=>{class n{constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new QH(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(b(ze),b(de),b(un),b(ej,8),b(Ei,8))},n.\u0275dir=N({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&vt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[Yn,Yn]}),n})();const nj=["mat-button",""],ij=["*"],oj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sj=WH(GH(qH(class{constructor(n){this._elementRef=n}})));let aj=(()=>{class n extends sj{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of oj)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(b(ze),b(ig),b(Ei,8))},n.\u0275cmp=$e({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&Ks(f0,5),2&e){let r;Un(r=$n())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Vt("disabled",i.disabled||null),vt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[G],attrs:nj,ngContentSelectors:ij,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Fl(),_(0,"span",0),qi(1),p(),V(2,"span",1)(3,"span",2)),2&e&&(y(2),vt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),S("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[f0],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),lj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[tj,Yn,Yn]}),n})();class p0{}const Oi="*";function Jc(n,t){return{type:7,name:n,definitions:t,options:{}}}function Zo(n,t=null){return{type:4,styles:t,timings:n}}function g0(n,t=null){return{type:2,steps:n,options:t}}function $t(n){return{type:6,styles:n,offset:null}}function Ji(n,t,e){return{type:0,name:n,styles:t,options:e}}function Qo(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function m0(n){Promise.resolve(null).then(n)}class Da{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){m0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?m0(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function dj(n,t){if(1&n){const e=Mt();_(0,"div",2)(1,"button",3),le("click",function(){return Te(e),Ae(H().action())}),g(2),p()()}if(2&n){const e=H();y(2),Q(e.data.action)}}function hj(n,t){}const y0=new x("MatSnackBarData");class eu{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const fj=Math.pow(2,31)-1;class ag{constructor(t,e){this._overlayRef=e,this._afterDismissed=new U,this._afterOpened=new U,this._onAction=new U,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,fj))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let pj=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(b(ag),b(y0))},n.\u0275cmp=$e({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(_(0,"span",0),g(1),p(),W(2,dj,3,1,"div",1)),2&e&&(y(1),Q(i.data.message),y(1),S("ngIf",i.hasAction))},dependencies:[Ut,aj],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const gj={snackBarState:Jc("state",[Ji("void, hidden",$t({transform:"scale(0.8)",opacity:0})),Ji("visible",$t({transform:"scale(1)",opacity:1})),Qo("* => visible",Zo("150ms cubic-bezier(0, 0, 0.2, 1)")),Qo("* => void, * => hidden",Zo("75ms cubic-bezier(0.4, 0.0, 1, 1)",$t({opacity:0})))])};let mj=(()=>{class n extends Yp{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new U,this._onExit=new U,this._onEnter=new U,this._animationState="void",this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(je(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(b(de),b(ze),b(Dn),b(un),b(eu))},n.\u0275dir=N({type:n,viewQuery:function(e,i){if(1&e&&Ks(Kp,7),2&e){let r;Un(r=$n())&&(i._portalOutlet=r.first)}},features:[G]}),n})(),_j=(()=>{class n extends mj{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&Gh("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&Xh("@state",i._animationState)},features:[G],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(_(0,"div",0),W(1,hj,0,0,"ng-template",1),p(),V(2,"div")),2&e&&(y(2),Vt("aria-live",i._live)("role",i._role))},dependencies:[Kp],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[gj.snackBarState]}}),n})(),v0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[GE,Zp,hc,lj,Yn,Yn]}),n})();const b0=new x("mat-snack-bar-default-options",{providedIn:"root",factory:function yj(){return new eu}});let vj=(()=>{class n{constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=dt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:eu,useValue:i}]}),s=new Xc(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new eu,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new ag(s,o);if(e instanceof jn){const l=new Xp(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new Xc(e,void 0,l),u=s.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(et(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new VE;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return dt.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ag,useValue:i},{provide:y0,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(w(Xo),w(r0),w(dt),w(Yc),w(n,12),w(b0))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),lg=(()=>{class n extends vj{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.simpleSnackBarComponent=pj,this.snackBarContainerComponent=_j,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(w(Xo),w(r0),w(dt),w(Yc),w(n,12),w(b0))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:v0}),n})(),dn=(()=>{class n{constructor(e,i,r){this.characterStorageService=e,this._snackBar=i,this.router=r,this.destroy$=new U}ngOnInit(){this.character$=this.characterStorageService.getLoadedCharacter()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(b(Np),b(lg),b(_t))},n.\u0275cmp=$e({type:n,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const C0="Whenever an encounter is solved by attacking someone and directly harming them, it\nshould be considered combat. When a trap is laid, or the characters try to defeat enemies by\npushing a boulder onto them, it is adventuring instead.",w0="Adventuring is the sum amount of exploration, navigation, and survival. Whenever characters\ntry to sneak by enemies, find their way around a massive ravine or create a distraction for a group\nof enemies, they\u2019re engaged in Adventuring.",D0="Social is interacting with other (at least somewhat) intelligent creatures in non-violent ways. This\nincludes diplomacy, haggling, perceiving information about others, subterfuge and threats, but  \u0301\u0131t\ndoesn\u2019t include stealth (but does include disguise) or illusion. Neither does it include a feint or\ntrick during combat.",E0="Strength (ST) describes a character\u2019s muscle strength. It\u2019s an important ability for melee combat, and determines carrying capacity",S0="Vitality (VI) is a character\u2019s bodily defensive ability. It determines how a character is able to withstand extreme weather conditions, sickness or poison.",M0="Dexterity (DE) describes a character\u2019s hand-eye-coordination. It\u2019s important with fine tasks like crafting or disabling traps, picking pockets and locks or tying knots. It also helps with ranged or melee combat, depending on the attacker\u2019s weapon.",T0="Agility (AG) is a character\u2019s ability to act when necessary, and also describes how a character is able to move around. It\u2019s important for climbing, swimming, running, sneaking, gymnastics and tumbling in general",A0="Intellect (IN) describes a character\u2019s overall rational ability, his memory and his ability to acquire knowledge. It can also be used to describe a character\u2019s overall knowledge about a specific topic or lore. It\u2019s also important for magic users",I0="Perception (PE) is a character\u2019s ability to realize his surroundings. It\u2019s important for battle, but also necessary to survive while exploring dangerous environments. It\u2019s also important for social encounters",x0="Empathy (EM) describes a character\u2019s ability to understand others. It\u2019s important for most social encounters, and determines how easy it is for a character to haggle prices, to talk himself out of a battle or seduce a barmaid.",k0="Health describes a character\u2019s ability to withstand any type of damage. Health can be seen as a combination of resilience, bodily health and luck. If a character reaches 0 Health, he is dead. A character with less than one fourth of their Health becomes \u201dWounded\u201d. A character with less than one tenth of their Health becomes \u201dHeavily Wounded\u201d. Health can be restored by resting, by alchemy and by magic. A character that is dead can not be healed. Reviving magic doesn\u2019t exist in the Ragged Lands.",P0="Stamina describes a character\u2019s ability to act out tasks that are bodily challenging. When a character climbs or swims fast, or if a character uses special maneuvers in combat, he loses stamina. Stamina can be restored by resting. It usually doesn\u2019t take much longer than an hour to completely restore Stamina, so outside of a stressful situation, a character usually has full Stamina. A character with less than one fourth of their Stamina becomes \u201dExhausted\u201d. A character with less than one tenth of their Stamina becomes \u201dHeavily Exhausted\u201d.k If a character reaches a Stamina of 0, they become unconscious.",R0="Mana is usually tracked for every character, but only important for magic users. It describes a character\u2019s ability to cast spells. Casting a spell costs Mana, and a character replenishes mana by eating. A character with less than one fourth of their Mana becomes \u201dDrained\u201d. A character with less than one tenth of their Mana becomes \u201dHeavily Drained\u201d. A character that reaches 0 Mana becomes paralyzed.",O0="Dodge is a character\u2019s ability to dodge an incoming attack. If an attack is below this value, it automatically misses. If it is above the target\u2019s Dodge value, the defender might still be able to perform defensive actions. <br><br>It is equal to 8 + AG",F0="Notice is a character\u2019s ability to notice something unseen, like a noise, slight draft, or sneaking enemy. It does not automatically unveil anything, but a hidden object not reaching a character\u2019s notice value will at least give them the idea that something is off. <br><br>It is equal to 8 + PE",N0="Willpower is a    character\u2019s ability to withstand emotional manipulation, as well as enchantment. If a character is target to emotional manipulation or a spell or magical effect they don\u2019t want to be affected by, and the roll associated with the effect does not reach their Willpower value, the resist the effect outright and don\u2019t have to roll competing checks. <br><br>It is equal to 8 + EM";let V0=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(b(bi),b(ze))},n.\u0275dir=N({type:n}),n})(),Nr=(()=>{class n extends V0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275dir=N({type:n,features:[G]}),n})();const ci=new x("NgValueAccessor"),Dj={provide:ci,useExisting:Fe(()=>tu),multi:!0};let tu=(()=>{class n extends Nr{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275dir=N({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&le("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[xe([Dj]),G]}),n})();const Ej={provide:ci,useExisting:Fe(()=>nu),multi:!0},Mj=new x("CompositionEventMode");let nu=(()=>{class n extends V0{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sj(){const n=ai()?ai().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(b(bi),b(ze),b(Mj,8))},n.\u0275dir=N({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&le("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[xe([Ej]),G]}),n})();function er(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const kt=new x("NgValidators"),tr=new x("NgAsyncValidators");function iu(n){return null}function X0(n){return null!=n}function Y0(n){return Us(n)?it(n):n}function K0(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Z0(n,t){return t.map(e=>e(n))}function Q0(n){return n.map(t=>function Ij(n){return!n.validate}(t)?t:e=>t.validate(e))}function cg(n){return null!=n?function J0(n){if(!n)return null;const t=n.filter(X0);return 0==t.length?null:function(e){return K0(Z0(e,t))}}(Q0(n)):null}function eS(n){if(!n)return null;const t=n.filter(X0);return 0==t.length?null:function(e){return function L0(...n){const t=Rm(n),{args:e,keys:i}=sD(n),r=new Oe(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Gt(e[u]).subscribe(Be(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?aD(i,a):a),o.complete())}))}});return t?r.pipe(Jf(t)):r}(Z0(e,t).map(Y0)).pipe(K(K0))}}function ug(n){return null!=n?eS(Q0(n)):null}function tS(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function dg(n){return n?Array.isArray(n)?n:[n]:[]}function ru(n,t){return Array.isArray(n)?n.includes(t):n===t}function rS(n,t){const e=dg(t);return dg(n).forEach(r=>{ru(e,r)||e.push(r)}),e}function oS(n,t){return dg(t).filter(e=>!ru(n,e))}class sS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ug(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class zt extends sS{get formDirective(){return null}get path(){return null}}class nr extends sS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ou=(()=>{class n extends class aS{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(b(nr,2))},n.\u0275dir=N({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&vt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[G]}),n})();const Ea="VALID",au="INVALID",Jo="PENDING",Sa="DISABLED";function cS(n){return Array.isArray(n)?cg(n):n||null}function uS(n){return Array.isArray(n)?ug(n):n||null}function lu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ma(n,t){(function yg(n,t){const e=function nS(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(tS(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function iS(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(tS(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();du(t._rawValidators,r),du(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Bj(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pS(n,t)})}(n,t),function jj(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Hj(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pS(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Vj(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function du(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function pS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function vS(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Yj={provide:nr,useExisting:Fe(()=>Aa)},DS=(()=>Promise.resolve(null))();let Aa=(()=>{class n extends nr{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class fS{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=cS(this._rawValidators),this._composedAsyncValidatorFn=uS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ea}get invalid(){return this.status===au}get pending(){return this.status==Jo}get disabled(){return this.status===Sa}get enabled(){return this.status!==Sa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=cS(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=uS(t)}addValidators(t){this.setValidators(rS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oS(t,this._rawAsyncValidators))}hasValidator(t){return ru(this._rawValidators,t)}hasAsyncValidator(t){return ru(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Jo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sa,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ea,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ea||this.status===Jo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sa:Ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Jo,this._hasOwnPendingAsyncValidator=!0;const e=Y0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?Sa:this.errors?au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jo)?Jo:this._anyControlsHaveStatus(au)?au:Ea}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,i){super(function gg(n){return(lu(n)?n.validators:n)||null}(e),function mg(n,t){return(lu(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=vS(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){vS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new ce,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function bg(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===nu?e=o:function zj(n){return Object.getPrototypeOf(n.constructor)===Nr}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function vg(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ma(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){DS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Mi(i);DS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function cu(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(b(zt,9),b(kt,10),b(tr,10),b(ci,10),b(Dn,8))},n.\u0275dir=N({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xe([Yj]),G,Xt]}),n})();const Zj={provide:ci,useExisting:Fe(()=>wg),multi:!0};let wg=(()=>{class n extends Nr{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275dir=N({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&le("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[xe([Zj]),G]}),n})(),ES=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})();let Lr=(()=>{class n{constructor(){this._validator=iu}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):iu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=N({type:n,features:[Xt]}),n})();const p3={provide:kt,useExisting:Fe(()=>Ag),multi:!0};let Ag=(()=>{class n extends Lr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function OS(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>function H0(n){return t=>{if(er(t.value)||er(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275dir=N({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Vt("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[xe([p3]),G]}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[ES]}),n})(),w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[C3]}),n})();const E3=["tooltip"],jS="tooltip-panel",US=Rr({passive:!0}),$S=new x("mat-tooltip-scroll-strategy"),A3={provide:$S,deps:[Xo],useFactory:function T3(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},I3=new x("mat-tooltip-default-options",{providedIn:"root",factory:function x3(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let k3=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d,h,f){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new U,this._scrollStrategy=u,this._document=f,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(et(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=qn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ma(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ma(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(et(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,US)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Xc(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(et(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(et(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${jS}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(et(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(et(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(et(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!WE(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(je(1),et(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${jS}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,US)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){wl()},n.\u0275dir=N({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),es=(()=>{class n extends k3{constructor(e,i,r,o,s,a,l,c,u,d,h,f){super(e,i,r,o,s,a,l,c,u,d,h,f),this._tooltipComponent=zS}}return n.\u0275fac=function(e){return new(e||n)(b(Xo),b(ze),b(Gp),b(Ht),b(de),b(un),b(IH),b(ig),b($S),b(Wc,8),b(I3,8),b(re))},n.\u0275dir=N({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[G]}),n})(),P3=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new U,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(b(Dn),b(Ei,8))},n.\u0275dir=N({type:n}),n})(),zS=(()=>{class n extends P3{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(b(Dn),b(Yc),b(Ei,8))},n.\u0275cmp=$e({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&Ks(E3,7),2&e){let r;Un(r=$n())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&le("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&Ll("zoom",i.isVisible()?1:null)},features:[G],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(_(0,"div",0,1),le("animationend",function(o){return i._handleAnimationEnd(o)}),Tt(2,"async"),g(3),p()),2&e){let r;vt("mat-tooltip-handset",null==(r=At(2,4,i._isHandset))?null:r.matches),S("ngClass",i.tooltipClass),y(3),Q(i.message)}},dependencies:[kw,Zt],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),R3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({providers:[A3],imports:[UH,hc,GE,Yn,Yn,qc]}),n})();function O3(n,t){1&n&&(_(0,"span",13),g(1,"warning"),p()),2&n&&S("matTooltip","Spent more CP than available.")}function F3(n,t){1&n&&(_(0,"span",13),g(1,"warning"),p()),2&n&&S("matTooltip","Spent more CP than available.")}function N3(n,t){if(1&n&&(_(0,"div",1)(1,"a",2),g(2,"Basics"),p(),_(3,"a",3),g(4,"Race"),p(),_(5,"a",4),g(6,"Attributes"),p(),_(7,"a",5),g(8,"Zodiac Sign"),p(),_(9,"a",6),W(10,O3,2,1,"span",7),g(11," Perks "),p(),_(12,"a",8),g(13,"Background"),p(),_(14,"a",9),g(15,"Culture"),p(),_(16,"a",10),W(17,F3,2,1,"span",7),g(18," Languages "),p(),_(19,"a",11),g(20,"Equipment"),p(),_(21,"a",12),g(22,"Overview"),p()()),2&n){const e=t.ngIf;y(10),S("ngIf",e.getRemainingCP()<0),y(7),S("ngIf",e.getRemainingCP()<0)}}let ui=(()=>{class n extends dn{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["character-builder-navigation"]],features:[G],decls:2,vars:3,consts:[["id","character-builder-navigation",4,"ngIf"],["id","character-builder-navigation"],["routerLink","/character-builder/name-selector","routerLinkActive","active"],["routerLink","/character-builder/race-selector","routerLinkActive","active"],["routerLink","/character-builder/attributes","routerLinkActive","active"],["routerLink","/character-builder/zodiac-sign","routerLinkActive","active"],["routerLink","/character-builder/perks","routerLinkActive","active"],["class","material-icons-outlined cp-warning",3,"matTooltip",4,"ngIf"],["routerLink","/character-builder/background","routerLinkActive","active"],["routerLink","/character-builder/culture","routerLinkActive","active"],["routerLink","/character-builder/languages","routerLinkActive","active"],["routerLink","/character-builder/equipment","routerLinkActive","active"],["routerLink","/character-builder/overview","routerLinkActive","active"],[1,"material-icons-outlined","cp-warning",3,"matTooltip"]],template:function(e,i){1&e&&(W(0,N3,23,2,"div",0),Tt(1,"async")),2&e&&S("ngIf",At(1,1,i.character$))},dependencies:[Ut,ga,Ip,es,Zt],styles:["#character-builder-navigation[_ngcontent-%COMP%]{display:flex;height:60px;align-items:center;background:#df8c42}a[_ngcontent-%COMP%]{display:block;flex:1;text-decoration:none;text-align:center;border-right:1px solid grey}a.active[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.3px}.cp-warning[_ngcontent-%COMP%]{color:#6c2a2a;margin-right:8px;vertical-align:bottom}"]}),n})();function L3(n,t){if(1&n&&(_(0,"div",2)(1,"div",3),g(2,"Health "),V(3,"br"),g(4),p(),_(5,"div",3),g(6,"Stamina "),V(7,"br"),g(8),p(),_(9,"div",3),g(10,"Mana "),V(11,"br"),g(12),p(),_(13,"div",3),g(14,"Dodge "),V(15,"br"),g(16),p(),_(17,"div",3),g(18,"Notice "),V(19,"br"),g(20),p(),_(21,"div",3),g(22,"Willpower "),V(23,"br"),g(24),p()()),2&n){const e=t.ngIf,i=H(2);y(1),S("matTooltip",i._HEALTH_TEXT),y(3),ie(" ",e.maxHealth,""),y(1),S("matTooltip",i._STAMINA_TEXT),y(3),ie(" ",e.maxStamina,""),y(1),S("matTooltip",i._MANA_TEXT),y(3),ie(" ",e.maxMana,""),y(1),S("matTooltip",i._DODGE_TEXT+(e.dodgeModifier.hasLevelSpecificValues()?i._VALUE_LEVEL_DEPENDENT:"")),y(3),ie(" ",e.dodgeModifier,""),y(1),S("matTooltip",i._NOTICE_TEXT+(e.noticeModifier.hasLevelSpecificValues()?i._VALUE_LEVEL_DEPENDENT:"")),y(3),ie(" ",e.noticeModifier,""),y(1),S("matTooltip",i._WILLPOWER_TEXT+(e.willpowerModifier.hasLevelSpecificValues()?i._VALUE_LEVEL_DEPENDENT:"")),y(3),ie(" ",e.willpowerModifier,"")}}function V3(n,t){if(1&n&&(Rl(0),W(1,L3,25,12,"div",1),Ol()),2&n){const e=t.ngIf;y(1),S("ngIf",e.getFinalCombatStats())}}let Fi=(()=>{class n extends dn{constructor(){super(...arguments),this._HEALTH_TEXT=k0,this._STAMINA_TEXT=P0,this._MANA_TEXT=R0,this._DODGE_TEXT=O0,this._NOTICE_TEXT=F0,this._WILLPOWER_TEXT=N0,this._VALUE_LEVEL_DEPENDENT="<br /><br /><b>Values is different from shown while in Combat/Adventure/Social. More details on overview screen</b>"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["quick-overview-bar"]],features:[G],decls:2,vars:3,consts:[[4,"ngIf"],["id","quick-overview-bar",4,"ngIf"],["id","quick-overview-bar"],[3,"matTooltip"]],template:function(e,i){1&e&&(W(0,V3,2,1,"ng-container",0),Tt(1,"async")),2&e&&S("ngIf",At(1,1,i.character$))},dependencies:[Ut,es,Zt],styles:["#quick-overview-bar[_ngcontent-%COMP%]{display:flex;height:60px;align-items:center;padding-left:50px;background:#3f3d3d;color:#efefef;justify-content:center}#quick-overview-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:130px;text-align:center}"]}),n})();function B3(n,t){if(1&n){const e=Mt();_(0,"div",1)(1,"h2"),g(2,"Basic Attributes:"),p(),V(3,"br"),_(4,"div",2)(5,"div",3)(6,"div",4)(7,"span"),g(8,"Input name"),p(),_(9,"input",5),le("ngModelChange",function(r){return Te(e),Ae(H().name=r)})("ngModelChange",function(){return Te(e),Ae(H().change())}),p()(),_(10,"div",4)(11,"span",6),g(12),p(),_(13,"input",7,8),le("ngModelChange",function(r){return Te(e),Ae(H().combatXP=r)})("ngModelChange",function(){return Te(e),Ae(H().change())}),p()(),_(15,"div",4)(16,"span",6),g(17),p(),_(18,"input",7,9),le("ngModelChange",function(r){return Te(e),Ae(H().adventuringXP=r)})("ngModelChange",function(){return Te(e),Ae(H().change())}),p()(),_(20,"div",4)(21,"span",6),g(22),p(),_(23,"input",7,10),le("ngModelChange",function(r){return Te(e),Ae(H().socialXP=r)})("ngModelChange",function(){return Te(e),Ae(H().change())}),p()()(),_(25,"div",11),V(26,"img",12),p()()()}if(2&n){const e=t.ngIf,i=js(14),r=js(19),o=js(24),s=H();y(9),S("ngModel",s.name),y(2),S("matTooltipPosition","above")("matTooltip",s._COMBATLEVEL_TEXT),y(1),ie("Input Combat XP - Level ",e.getCombatLevel(),""),y(1),vt("inputerror",!i.reportValidity()),S("ngModel",s.combatXP),y(3),S("matTooltipPosition","above")("matTooltip",s._ADVENTURING_TEXT),y(1),ie("Input Adventuring XP - Level ",e.getAdventuringLevel(),""),y(1),vt("inputerror",!r.reportValidity()),S("ngModel",s.adventuringXP),y(3),S("matTooltipPosition","above")("matTooltip",s._SOCIALLEVEL_TEXT),y(1),ie("Input Social XP - Level ",e.getSocialLevel(),""),y(1),vt("inputerror",!o.reportValidity()),S("ngModel",s.socialXP)}}let xg=(()=>{class n extends dn{constructor(){super(...arguments),this._COMBATLEVEL_TEXT=C0,this._ADVENTURING_TEXT=w0,this._SOCIALLEVEL_TEXT=D0,this.name="",this.combatXP=0,this.adventuringXP=0,this.socialXP=0}ngOnInit(){super.ngOnInit(),this.character$.pipe(et(this.destroy$)).subscribe(e=>{this.name=e.name,this.combatXP=e.combatXP||0,this.adventuringXP=e.adventuringXP||0,this.socialXP=e.socialXP||0})}change(){let e=this.name,i=this.combatXP,r=this.adventuringXP,o=this.socialXP;this.character$.pipe(je(1)).subscribe(s=>{let a=Object.setPrototypeOf({...s,name:e,combatXP:i,adventuringXP:r,socialXP:o},Je.prototype);""!==a.name?a.combatXP<0?this._snackBar.open("combatXP cannot be negative"):a.adventuringXP<0?this._snackBar.open("adventuringXP cannot be negative"):a.socialXP<0?this._snackBar.open("socialXP cannot be negative"):this.characterStorageService.saveCharacter(a):this._snackBar.open("Name must not be empty")})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-name-selector"]],features:[G],decls:4,vars:3,consts:[["class","name-selector padded",4,"ngIf"],[1,"name-selector","padded"],[1,"main-row"],[1,"colum-left"],[1,"basic-input-block"],["type","text",3,"ngModel","ngModelChange"],[3,"matTooltipPosition","matTooltip"],["type","number","inputmode","numeric","step","1","min","0",3,"ngModel","ngModelChange"],["combatXpInput",""],["adventuringXPInput",""],["socialXpInput",""],[1,"column-right"],["src","assets/level-table.png","alt","Xp to Level Table",1,"level-table-image"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,B3,27,19,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ut,nu,wg,ou,Ag,Aa,es,ui,Fi,Zt],styles:[".basic-input-block[_ngcontent-%COMP%]{width:400px;display:flex;flex-direction:column;margin-bottom:20px}.basic-input-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:3px}.main-row[_ngcontent-%COMP%]{display:flex}.level-table-image[_ngcontent-%COMP%]{margin-left:50px;width:300px}.column-right[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center}"]}),n})(),H3=(()=>{class n extends dn{ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-equipment"]],features:[G],decls:4,vars:0,template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),_(2,"p"),g(3,"Too lazy to add all the equipment yet"),p())},dependencies:[ui,Fi]}),n})(),GS=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WS=new x("CdkAccordion");let j3=0,U3=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Ue.EMPTY,this.closed=new ce,this.opened=new ce,this.destroyed=new ce,this.expandedChange=new ce,this.id="cdk-accordion-child-"+j3++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=qn(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=qn(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(b(WS,12),b(Dn),b(GS))},n.\u0275dir=N({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[xe([{provide:WS,useValue:void 0}])]}),n})(),$3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({}),n})();const z3=["body"];function G3(n,t){}const W3=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],q3=["mat-expansion-panel-header","*","mat-action-row"];function X3(n,t){1&n&&V(0,"span",2),2&n&&S("@indicatorRotate",H()._getExpandedState())}const Y3=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],K3=["mat-panel-title","mat-panel-description","*"],qS=new x("MAT_ACCORDION"),XS="225ms cubic-bezier(0.4,0.0,0.2,1)",YS={indicatorRotate:Jc("indicatorRotate",[Ji("collapsed, void",$t({transform:"rotate(0deg)"})),Ji("expanded",$t({transform:"rotate(180deg)"})),Qo("expanded <=> collapsed, void => collapsed",Zo(XS))]),bodyExpansion:Jc("bodyExpansion",[Ji("collapsed, void",$t({height:"0px",visibility:"hidden"})),Ji("expanded",$t({height:"*",visibility:"visible"})),Qo("expanded <=> collapsed, void => collapsed",Zo(XS))])},KS=new x("MAT_EXPANSION_PANEL");let Z3=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(b(jn),b(KS,8))},n.\u0275dir=N({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Q3=0;const ZS=new x("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Vr=(()=>{class n extends U3{constructor(e,i,r,o,s,a,l){super(e,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new ce,this.afterCollapse=new ce,this._inputChanges=new U,this._headerId="mat-expansion-panel-header-"+Q3++,this._bodyAnimationDone=new U,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(XE((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=qn(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Bo(null),It(()=>this.expanded&&!this._portal),je(1)).subscribe(()=>{this._portal=new Xp(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(b(qS,12),b(Dn),b(GS),b(Ht),b(re),b(Ei,8),b(ZS,8))},n.\u0275cmp=$e({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&Mr(r,Z3,5),2&e){let o;Un(o=$n())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&Ks(z3,5),2&e){let r;Un(r=$n())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&vt("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[xe([{provide:qS,useValue:void 0},{provide:KS,useExisting:n}]),G,Xt],ngContentSelectors:q3,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(Fl(W3),qi(0),_(1,"div",0,1),le("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),_(3,"div",2),qi(4,1),W(5,G3,0,0,"ng-template",3),p(),qi(6,2),p()),2&e&&(y(1),S("@bodyExpansion",i._getExpandedState())("id",i.id),Vt("aria-labelledby",i._headerId),y(4),S("cdkPortalOutlet",i._portal))},dependencies:[Kp],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[YS.bodyExpansion]},changeDetection:0}),n})();class J3{}const eU=XH(J3);let ts=(()=>{class n extends eU{constructor(e,i,r,o,s,a,l){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=Ue.EMPTY;const c=e.accordion?e.accordion._stateChanges.pipe(It(u=>!(!u.hideToggle&&!u.togglePosition))):Zn;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=us(e.opened,e.closed,c,e._inputChanges.pipe(It(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(It(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:WE(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(b(Vr,1),b(ze),b(ig),b(Dn),b(ZS,8),b(Ei,8),no("tabindex"))},n.\u0275cmp=$e({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&le("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(Vt("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),Ll("height",i._getHeaderHeight()),vt("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[G],ngContentSelectors:K3,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(Fl(Y3),_(0,"span",0),qi(1),qi(2,1),qi(3,2),p(),W(4,X3,1,1,"span",1)),2&e&&(vt("mat-content-hide-toggle",!i._showToggle()),y(4),S("ngIf",i._showToggle()))},dependencies:[Ut],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[YS.indicatorRotate]},changeDetection:0}),n})(),QS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=N({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),JS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=N({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[hc,Yn,$3,Zp]}),n})();function nU(n,t){if(1&n&&(_(0,"span"),g(1),p()),2&n){const e=t.$implicit;y(1),Hn(" ",e.perkname," : ",e.level,"")}}function iU(n,t){if(1&n){const e=Mt();_(0,"div",15)(1,"div",16),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).deselectPerk(o))}),_(2,"span",17),g(3,"check_circle_outline"),p()(),_(4,"mat-expansion-panel",18)(5,"mat-expansion-panel-header"),g(6),p(),_(7,"b",19),g(8),p(),V(9,"br"),_(10,"b",19),g(11," Requirements: "),W(12,nU,2,2,"span",20),p(),V(13,"br"),_(14,"b",19),g(15),p(),V(16,"br")(17,"blockquote",21),p()()}if(2&n){const e=t.$implicit,i=H().ngIf;y(6),Bl("",e.perk.name," ",e.romanize()," (",e.perk.getCpCostForLevel(e.level,i.perks),"CP)"),y(2),ie("Cost: ",e.perk.getCpCostForLevel(e.level,i.perks),"CP"),y(4),S("ngForOf",e.perk.requirements),y(3),ie("Tags: ",e.perk.tags,""),y(2),S("innerHTML",e.perk.description,vi)}}function rU(n,t){if(1&n&&(_(0,"span"),g(1),p()),2&n){const e=t.$implicit;y(1),Hn(" ",e.perkname," : ",e.level,"")}}function oU(n,t){if(1&n){const e=Mt();_(0,"div",15)(1,"div",16),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).selectPerk(o))}),_(2,"span",17),g(3,"circle_outline"),p()(),_(4,"mat-expansion-panel",18)(5,"mat-expansion-panel-header"),g(6),p(),_(7,"b",19),g(8),p(),V(9,"br"),_(10,"b",19),g(11," Requirements: "),W(12,rU,2,2,"span",20),p(),V(13,"br"),_(14,"b",19),g(15),p(),V(16,"br")(17,"blockquote",21),p()()}if(2&n){const e=t.$implicit,i=H().ngIf;y(6),Bl("",e.perk.name," ",e.romanize()," (",e.perk.getCpCostForLevel(e.level,i.perks),"CP)"),y(2),ie("Cost: ",e.perk.getCpCostForLevel(e.level,i.perks),"CP"),y(4),S("ngForOf",e.perk.requirements),y(3),ie("Tags: ",e.perk.tags,""),y(2),S("innerHTML",e.perk.description,vi)}}function sU(n,t){if(1&n){const e=Mt();_(0,"div",1)(1,"div",2)(2,"div")(3,"a",3),g(4,"Base Perks"),p()(),_(5,"div")(6,"a",4),g(7,"Martial Perks"),p()(),_(8,"div")(9,"a",5),g(10,"Odem Perks"),p()(),_(11,"div")(12,"a",6),g(13,"Magic Perks"),p()(),_(14,"div")(15,"a",7),g(16,"Divine Perks"),p()(),_(17,"div")(18,"a",8),g(19,"Skill Perks"),p()()(),_(20,"div",9),g(21," Your character has "),_(22,"b"),g(23),p(),g(24," CP still available. "),p(),_(25,"div")(26,"span",10),g(27," Search: "),_(28,"input",11),le("input",function(r){return Te(e),Ae(H().search(r))}),p()(),g(29," Hide unaffordable "),_(30,"input",12),le("ngModelChange",function(r){return Te(e),Ae(H().hideTooExpensive=r)}),p()(),_(31,"h2"),g(32,"Owned Perks"),p(),W(33,iU,18,7,"div",13),_(34,"h2"),g(35,"Available Perks"),p(),_(36,"div",14),W(37,oU,18,7,"div",13),p()()}if(2&n){const e=H();y(23),Hn("",e.openCharacterPoints," / ",e.totalCharacterPoints,""),y(7),S("ngModel",e.hideTooExpensive),y(3),S("ngForOf",e.filtered(e.ownedPerks,!1))("ngForTrackBy",e.perkByName),y(4),S("ngForOf",e.filtered(e.availablePerks,e.hideTooExpensive))("ngForTrackBy",e.perkByName)}}let fu=(()=>{class n extends dn{constructor(){super(...arguments),this.searchString="",this.hideTooExpensive=!1}perkByName(e,i){return i.perk.name}ngOnInit(){super.ngOnInit();let e=B.BASE;this.router.url.endsWith("martial-perks")&&(e=B.MARTIAL),this.router.url.endsWith("magical-perks")&&(e=B.MAGIC),this.router.url.endsWith("skill-perks")&&(e=B.SKILL),this.character$.pipe(et(this.destroy$)).subscribe(i=>{this.totalCharacterPoints=i.getTotalCP(),this.openCharacterPoints=i.getRemainingCP(),this.ownedPerks=i.perks.filter(r=>r.perk.internalCategory===e),this.availablePerks=ME().filter(r=>r.internalCategory===e).map(r=>{let o=this.ownedPerks.find(s=>s.perk.name==r.name);return new Wo((o?.level??0)+1,r)}).filter(r=>r.perk.getCpCostForLevel(r.level,this.ownedPerks)>0),0==i.combatXP&&0==i.adventuringXP&&0==i.socialXP&&(this.availablePerks=this.availablePerks.filter(r=>-1===this.ownedPerks.findIndex(o=>o.perk.groupName==r.perk.groupName)).filter(r=>1===r.level&&0===r.perk.startingLevel))})}filtered(e,i){let r=e;return this.searchString&&(r=r.filter(o=>-1!==o.perk.name.toLowerCase().indexOf(this.searchString.toLowerCase())||-1!==o.perk.description.toLowerCase().indexOf(this.searchString.toLowerCase()))),i&&(r=r.filter(o=>o.perk.getCpCostForLevel(o.level,this.ownedPerks)<this.openCharacterPoints)),r}selectPerk(e){this.character$.pipe(je(1)).subscribe(i=>{let r=Array.from(i.perks);if(e.perk.requirements.length>0)for(const s of e.perk.requirements){let a=r.find(l=>l.perk.name==s.perkname);if(void 0===a)return void this._snackBar.open(`You do not have the requirement: ${s.perkname} on level ${s.level}`);if(a.level<s.level)return void this._snackBar.open(`Your perk ${s.perkname} needs to have level ${s.level}`)}if(e.perk.getCpCostForLevel(e.level,r)>this.openCharacterPoints)return void this._snackBar.open("Perk is too expensive","Warning");let o=r.findIndex(s=>s.perk.name==e.perk.name);-1===o?r.push(new Wo(e.level,e.perk)):r[o]=new Wo(e.level,r[o].perk),this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,perks:r},Je.prototype))})}deselectPerk(e){this.character$.pipe(je(1)).subscribe(i=>{let r=Array.from(i.perks),o=r.findIndex(s=>s.perk.name==e.perk.name);if(-1===o)throw new Error("Deselected a perk the user doesnt have");1==r[o].level?r.splice(o,1):r[o]=new Wo(e.level-1,r[o].perk),this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,perks:r},Je.prototype))})}search(e){e.target&&(this.searchString=e.target.value)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-perks"]],features:[G],decls:4,vars:3,consts:[["class","perks-builder padded",4,"ngIf"],[1,"perks-builder","padded"],[1,"perk-category-selector"],["routerLink","/character-builder/perks","routerLinkActive","active"],["routerLink","/character-builder/martial-perks","routerLinkActive","active"],["routerLink","/character-builder/odem-perks","routerLinkActive","active"],["routerLink","/character-builder/magical-perks","routerLinkActive","active"],["routerLink","/character-builder/divine-perks","routerLinkActive","active"],["routerLink","/character-builder/skill-perks","routerLinkActive","active"],[1,"perks-resources"],[1,"searchbar"],[3,"input"],["type","checkbox",3,"ngModel","ngModelChange"],["class","perk-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"available-perks"],[1,"perk-row"],[1,"select-box",3,"click"],[1,"material-icons-outlined"],[1,"perk-expandable"],[1,"perk-description"],[4,"ngFor","ngForOf"],[1,"perk-description",3,"innerHTML"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,sU,38,7,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ii,Ut,ga,Ip,tu,ou,Aa,Vr,ts,ui,Fi,Zt],styles:[".perk-category-selector[_ngcontent-%COMP%]{display:flex;margin:20px}.perk-category-selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;border:1px solid grey;margin:10px;padding:10px;text-align:center;box-shadow:0 0 3px #000}.perk-category-selector[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.2px}.perk-expandable[_ngcontent-%COMP%]{margin-bottom:5px;flex:1}.perk-row[_ngcontent-%COMP%]{display:flex;align-content:center}.perk-row[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{width:40px;margin:12px 0;cursor:pointer}.perks-resources[_ngcontent-%COMP%]{margin-bottom:20px}.searchbar[_ngcontent-%COMP%]{margin-right:20px}h2[_ngcontent-%COMP%]{margin-top:40px}"]}),n})();function aU(n,t){1&n&&(_(0,"span",8),g(1,"check_circle_outline"),p())}function lU(n,t){1&n&&(_(0,"span",8),g(1,"circle_outline"),p())}function cU(n,t){if(1&n){const e=Mt();_(0,"div",3)(1,"div",4),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).changeRace(o))}),W(2,aU,2,0,"span",5),W(3,lU,2,0,"span",5),p(),_(4,"mat-expansion-panel",6)(5,"mat-expansion-panel-header")(6,"mat-panel-title"),g(7),p(),_(8,"mat-panel-description"),g(9),p()(),_(10,"mat-expansion-panel")(11,"mat-expansion-panel-header"),g(12,"Flavor Text"),p(),V(13,"blockquote",7),p(),V(14,"blockquote",7),p()()}if(2&n){const e=t.$implicit,i=H().ngIf;let r,o;y(2),S("ngIf",e.name===(null==(r=i.getRace())?null:r.name)),y(1),S("ngIf",e.name!==(null==(o=i.getRace())?null:o.name)),y(4),ie(" ",e.name," "),y(2),ie(" ",e.statboni.toString()," "),y(4),S("innerHTML",e.flavorText,vi),y(1),S("innerHTML",e.textDescription,vi)}}function uU(n,t){if(1&n&&(_(0,"div",1)(1,"h2"),g(2,"Races:"),p(),V(3,"br"),W(4,cU,15,6,"div",2),p()),2&n){const e=H();y(4),S("ngForOf",e.availableRaces)}}let dU=(()=>{class n extends dn{constructor(){super(...arguments),this.availableRaces=Rp()}changeRace(e){this.character$.pipe(je(1)).subscribe(i=>{this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,raceName:e.name},Je.prototype))})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-race-selector"]],features:[G],decls:4,vars:3,consts:[["class","race-list padded",4,"ngIf"],[1,"race-list","padded"],["class","race-row",4,"ngFor","ngForOf"],[1,"race-row"],[1,"select-box",3,"click"],["class","material-icons-outlined",4,"ngIf"],[1,"race-expandable"],[1,"race-description",3,"innerHTML"],[1,"material-icons-outlined"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,uU,5,1,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ii,Ut,Vr,ts,JS,QS,ui,Fi,Zt],styles:[".race-expandable[_ngcontent-%COMP%]{margin-bottom:5px;flex:1}.race-row[_ngcontent-%COMP%]{display:flex;align-content:center}.race-row[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{width:40px;margin:12px 0;cursor:pointer}"]}),n})();function hU(n,t){1&n&&(_(0,"span",9),g(1,"check_circle_outline"),p())}function fU(n,t){1&n&&(_(0,"span",9),g(1,"circle_outline"),p())}function pU(n,t){if(1&n){const e=Mt();_(0,"div",3)(1,"div",4),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).changeZodiacSign(o))}),W(2,hU,2,0,"span",5),W(3,fU,2,0,"span",5),p(),_(4,"mat-expansion-panel",6)(5,"mat-expansion-panel-header"),g(6),p(),_(7,"b",7),g(8),p(),V(9,"blockquote",8),p()()}if(2&n){const e=t.$implicit,i=H().ngIf;let r,o;y(2),S("ngIf",e.name===(null==(r=i.getZodiacSign())?null:r.name)),y(1),S("ngIf",e.name!==(null==(o=i.getZodiacSign())?null:o.name)),y(3),Q(e.name),y(2),Hn("",e.startDate," - ",e.endDate,""),y(1),S("innerHTML",e.description,vi)}}function gU(n,t){if(1&n&&(_(0,"div",1)(1,"h2"),g(2,"Zodiac Signs:"),p(),V(3,"br"),g(4," There\u2019s 10 Zodiac Signs for the Kusaen Planet, changing every 39 days. During the Week of Darkness, there are no stars visible in the sky above, meaning that those born in this time carry the \u201dFateless\u201d Zodiac sign. Each of these acts as a special, active perk that can be chosen at the beginning of the game. After using this Perk, a character has to wait 24 hours before being able to use it again. "),V(5,"br")(6,"br")(7,"br"),W(8,pU,10,6,"div",2),p()),2&n){const e=H();y(8),S("ngForOf",e.availableZodiacSigns)}}let mU=(()=>{class n extends dn{constructor(){super(...arguments),this.availableZodiacSigns=wE()}changeZodiacSign(e){this.character$.pipe(je(1)).subscribe(i=>{this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,zodiacSignName:e.name},Je.prototype))})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-zodiac-sign"]],features:[G],decls:4,vars:3,consts:[["class","zodiacsign-list padded",4,"ngIf"],[1,"zodiacsign-list","padded"],["class","zodiacsign-row",4,"ngFor","ngForOf"],[1,"zodiacsign-row"],[1,"select-box",3,"click"],["class","material-icons-outlined",4,"ngIf"],[1,"zodiacsign-expandable"],[1,"zodiacsign-description"],[1,"zodiacsign-description",3,"innerHTML"],[1,"material-icons-outlined"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,gU,9,1,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ii,Ut,Vr,ts,ui,Fi,Zt],styles:[".zodiacsign-expandable[_ngcontent-%COMP%]{margin-bottom:5px;flex:1}.zodiacsign-row[_ngcontent-%COMP%]{display:flex;align-content:center}.zodiacsign-row[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{width:40px;margin:12px 0;cursor:pointer}"]}),n})();function _U(n,t){if(1&n&&(_(0,"div",33),g(1),p()),2&n){const e=t.$implicit;y(1),ie(" ",e," ")}}function yU(n,t){if(1&n&&(_(0,"div",34)(1,"span",8),g(2,"Zodiac Sign"),p(),V(3,"span",35),p()),2&n){const e=H().ngIf;let i;y(3),S("innerHTML",null==(i=e.getZodiacSign())?null:i.description,vi)}}function vU(n,t){if(1&n&&(_(0,"div",36)(1,"span",8),g(2,"Background"),p(),V(3,"span",35),p()),2&n){const e=H().ngIf;let i;y(3),S("innerHTML",null==(i=e.getBackground())?null:i.name,vi)}}function bU(n,t){if(1&n&&(_(0,"div",37)(1,"span",8),g(2,"Culture"),p(),V(3,"span",35),p()),2&n){const e=H().ngIf;let i;y(3),S("innerHTML",null==(i=e.getCulture())?null:i.name,vi)}}function CU(n,t){if(1&n&&(_(0,"div")(1,"span",38),g(2),p(),g(3),p()),2&n){const e=t.$implicit;y(2),Hn("",e.perk.name," (",e.level,")"),y(1),ie(" - ",e.perk.description," ")}}function wU(n,t){1&n&&(_(0,"div",39)(1,"span",8),g(2,"Equipment"),p()())}function DU(n,t){if(1&n&&(_(0,"div")(1,"span",41)(2,"b"),g(3),p(),g(4),p()()),2&n){const e=t.$implicit;y(3),Q(e.name),y(1),Hn(" (",e.family," - ",e.alphabet,")")}}function EU(n,t){if(1&n&&(_(0,"div",40)(1,"span",8),g(2,"Languages"),p(),W(3,DU,5,3,"div",30),p()),2&n){const e=H().ngIf;y(3),S("ngForOf",e.languagesInLearnOrder)}}function SU(n,t){if(1&n&&(_(0,"div",1)(1,"div",2)(2,"h1")(3,"span",3),g(4),p(),g(5,", "),_(6,"span",3),g(7),p(),_(8,"span",3),g(9),p()(),_(10,"a",4),g(11,"save"),p()(),_(12,"div",5)(13,"div",6)(14,"div",7)(15,"span",8),g(16,"Stats"),p(),_(17,"span",9),g(18,"Strength (ST)"),p(),_(19,"span",10),g(20),p(),_(21,"span",9),g(22,"Vitality (VI)"),p(),_(23,"span",10),g(24),p(),_(25,"span",9),g(26,"Dexterity (DE)"),p(),_(27,"span",10),g(28),p(),_(29,"span",9),g(30,"Agility (AG)"),p(),_(31,"span",10),g(32),p(),_(33,"span",9),g(34,"Intellect (IN)"),p(),_(35,"span",10),g(36),p(),_(37,"span",9),g(38,"Perception (PE)"),p(),_(39,"span",10),g(40),p(),_(41,"span",9),g(42,"Empathy (EM)"),p(),_(43,"span",10),g(44),p()(),_(45,"div",11)(46,"span",8),g(47,"Levels"),p(),_(48,"div",12)(49,"b",13),g(50,"Combat"),p(),_(51,"span",14),g(52),p(),_(53,"span",15),g(54),p()(),_(55,"div",16)(56,"b",13),g(57,"Adv."),p(),_(58,"span",14),g(59),p(),_(60,"span",15),g(61),p()(),_(62,"div",17)(63,"b",13),g(64,"Social"),p(),_(65,"span",14),g(66),p(),_(67,"span",15),g(68),p()()()(),_(69,"div",18)(70,"div",19)(71,"span",8),g(72,"Combatstats"),p(),_(73,"div",20)(74,"div",21)(75,"div",22),g(76,"Health"),p(),_(77,"div"),g(78),p()(),_(79,"div",21)(80,"div",22),g(81,"Stamina"),p(),_(82,"div"),g(83),p()(),_(84,"div",21)(85,"div",22),g(86,"Mana"),p(),_(87,"div"),g(88),p()()(),_(89,"div",20)(90,"div",21)(91,"div",22),g(92,"Dodge"),p(),_(93,"div"),g(94),p()(),_(95,"div",21)(96,"div",22),g(97,"Notice"),p(),_(98,"div"),g(99),p()(),_(100,"div",21)(101,"div",22),g(102,"Willpower"),p(),_(103,"div"),g(104),p()()()(),_(105,"div",23)(106,"span",8),g(107,"Recovering"),p(),_(108,"div",20)(109,"div",21)(110,"div",22),g(111,"Health recovery"),p(),_(112,"div"),g(113),p()(),_(114,"div",21)(115,"div",22),g(116,"Stamina recovery"),p(),_(117,"div"),g(118),p(),_(119,"div"),g(120),p()(),_(121,"div",21)(122,"div",22),g(123,"Mana recovery"),p(),_(124,"div"),g(125),p()()()(),_(126,"div",24)(127,"span",8),g(128,"Race"),p(),W(129,_U,2,1,"div",25),p(),W(130,yU,4,1,"div",26),W(131,vU,4,1,"div",27),W(132,bU,4,1,"div",28),_(133,"div",29)(134,"span",8),g(135,"Perks"),p(),W(136,CU,4,3,"div",30),p(),W(137,wU,3,0,"div",31),W(138,EU,4,1,"div",32),p()()()),2&n){const e=t.ngIf,i=H();let r,o,s;y(3),S("matTooltipPosition","above")("matTooltip","Name"),y(1),Q(e.name),y(2),S("matTooltipPosition","above")("matTooltip","Race"),y(1),ie(" the ",null!==(r=null==(r=e.getRace())?null:r.name)&&void 0!==r?r:"raceless",""),y(1),S("matTooltipPosition","above")("matTooltip","Background"),y(1),ie(" ",null!==(o=null==(o=e.getBackground())?null:o.name)&&void 0!==o?o:"adventurer without a job",""),y(1),Nl("download",e.name),S("href",i.downloadJsonHref,xs),y(7),S("matTooltip",i._STRENGTH_TEXT),y(3),Q(e.getFinalStats().strength),y(1),S("matTooltip",i._VITALITY_TEXT),y(3),Q(e.getFinalStats().vitality),y(1),S("matTooltip",i._DEXTERITY_TEXT),y(3),Q(e.getFinalStats().dexterity),y(1),S("matTooltip",i._AGILITY_TEXT),y(3),Q(e.getFinalStats().agility),y(1),S("matTooltip",i._INTELLECT_TEXT),y(3),Q(e.getFinalStats().intellect),y(1),S("matTooltip",i._PERCEPTION_TEXT),y(3),Q(e.getFinalStats().perception),y(1),S("matTooltip",i._EMPATHY_TEXT),y(3),Q(e.getFinalStats().empathy),y(5),S("matTooltipPosition","above")("matTooltip",i._COMBATLEVEL_TEXT),y(3),ie("Level ",e.getCombatLevel(),""),y(2),ie("",e.combatXP," XP"),y(2),S("matTooltipPosition","above")("matTooltip",i._ADVENTURING_TEXT),y(3),ie("Level ",e.getAdventuringLevel(),""),y(2),ie("",e.adventuringXP," XP"),y(2),S("matTooltipPosition","above")("matTooltip",i._SOCIALLEVEL_TEXT),y(3),ie("Level ",e.getSocialLevel(),""),y(2),ie("",e.socialXP," XP"),y(7),S("matTooltip",i._HEALTH_TEXT),y(3),Q(e.getFinalCombatStats().maxHealth),y(2),S("matTooltip",i._STAMINA_TEXT),y(3),Q(e.getFinalCombatStats().maxStamina),y(2),S("matTooltip",i._MANA_TEXT),y(3),Q(e.getFinalCombatStats().maxMana),y(3),S("matTooltip",i._DODGE_TEXT),y(3),Q(e.getFinalCombatStats().dodgeModifier.toExactString()),y(2),S("matTooltip",i._NOTICE_TEXT),y(3),Q(e.getFinalCombatStats().noticeModifier.toExactString()),y(2),S("matTooltip",i._WILLPOWER_TEXT),y(3),Q(e.getFinalCombatStats().willpowerModifier.toExactString()),y(6),S("matTooltip",i._HEALTH_RECOVER_TEXT),y(3),ie("",e.getHealthRecovery()," per hour"),y(2),S("matTooltip",i._STAMINA_RECOVER_TEXT),y(3),ie("",e.getStaminaRecovery()," per 2 seconds"),y(2),ie("",e.getStaminaRecovery()," per AP spent resting"),y(2),S("matTooltip",i._MANA_RECOVER_TEXT),y(3),ie("",e.getManaRecovery()," per hour if food consumed"),y(4),S("ngForOf",null==(s=e.getRace())?null:s.traitsAsStrings),y(1),S("ngIf",e.getZodiacSign()),y(1),S("ngIf",e.getBackground()),y(1),S("ngIf",e.getCulture()),y(4),S("ngForOf",e.perks),y(1),S("ngIf",e.equipment),y(1),S("ngIf",e.languagesInLearnOrder)}}let MU=(()=>{class n extends dn{constructor(e,i,r,o){super(e,i,r),this.sanitizer=o,this._COMBATLEVEL_TEXT=C0,this._ADVENTURING_TEXT=w0,this._SOCIALLEVEL_TEXT=D0,this._STRENGTH_TEXT=E0,this._VITALITY_TEXT=S0,this._DEXTERITY_TEXT=M0,this._AGILITY_TEXT=T0,this._INTELLECT_TEXT=A0,this._PERCEPTION_TEXT=I0,this._EMPATHY_TEXT=x0,this._HEALTH_TEXT=k0,this._STAMINA_TEXT=P0,this._MANA_TEXT=R0,this._HEALTH_RECOVER_TEXT="Aside from using special tools or magic for healing, each character has the ability to recover health in a natural way. A character\u2019s natural healing ability allows them to heal 1 points of health, per 1 hour. While resting, this healing effect is doubled. A priest or healer may further improve someone\u2019s natural healing ability",this._STAMINA_RECOVER_TEXT="Stamina can be recovered by taking a break, regaining breath, not moving too much around, sitting down for a minute or two or drinking a bit of water. For every 2 seconds a character rests like that (or every AP in combat they spend just resting), they gain back 1 Stamina.",this._MANA_RECOVER_TEXT="Mana is recovered over time, but the rate at which it recovers can be influenced by the food that the character eats. A meal usually lasts for 8 hours. A usual ration provides a recovery of 1d6 points per hour",this._DODGE_TEXT=O0,this._NOTICE_TEXT=F0,this._WILLPOWER_TEXT=N0}ngOnInit(){super.ngOnInit(),this.character$.pipe(et(this.destroy$)).subscribe(e=>{let i=JSON.stringify(e),r=this.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(i));this.downloadJsonHref=r})}}return n.\u0275fac=function(e){return new(e||n)(b(Np),b(lg),b(_t),b(ia))},n.\u0275cmp=$e({type:n,selectors:[["app-overview"]],features:[G],decls:3,vars:3,consts:[["class","charactersheet padded",4,"ngIf"],[1,"charactersheet","padded"],[1,"title"],[3,"matTooltipPosition","matTooltip"],[1,"material-icons-outlined",3,"href","download"],[1,"main"],[1,"left-column"],[1,"attributes"],[1,"border-overlapping-title"],[1,"attribute-title",3,"matTooltip"],[1,"attribute-value"],[1,"levels"],[1,"levels-block","levels-combat"],[1,"level-title",3,"matTooltipPosition","matTooltip"],[1,"level-level"],[1,"level-xp"],[1,"levels-block","levels-adventuring"],[1,"levels-block","levels-social"],[1,"main-right"],[1,"combatstats"],[1,"row"],[1,"combatstat-block"],[1,"combatstat-title",3,"matTooltip"],[1,"recovering-values"],[1,"race-benefits"],["class","race-row",4,"ngFor","ngForOf"],["class","zodiacsign-benefits",4,"ngIf"],["class","background-benefits",4,"ngIf"],["class","culture-benefits",4,"ngIf"],[1,"perks"],[4,"ngFor","ngForOf"],["class","equipment",4,"ngIf"],["class","languages",4,"ngIf"],[1,"race-row"],[1,"zodiacsign-benefits"],[3,"innerHTML"],[1,"background-benefits"],[1,"culture-benefits"],[1,"overview-perk-line"],[1,"equipment"],[1,"languages"],[1,"overview-language-line"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation"),W(1,SU,139,63,"div",0),Tt(2,"async")),2&e&&(y(1),S("ngIf",At(2,1,i.character$)))},dependencies:[Ii,Ut,es,ui,Zt],styles:[".title[_ngcontent-%COMP%]{margin-bottom:20px}.title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline;margin-right:20px}.main[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.main[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]{display:flex;padding:20px 7px!important}.main[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .levels-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;text-align:center}.main[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]{width:200px;text-align:center;padding:20px!important;margin:0!important}.main[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.main[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]   span.attribute-title[_ngcontent-%COMP%]{font-size:1.2em}.main[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%]   span.attribute-value[_ngcontent-%COMP%]{font-size:1.5em;margin:12px 10px 30px}.main[_ngcontent-%COMP%]   .main-right[_ngcontent-%COMP%]{flex:4;padding:0 20px}.main[_ngcontent-%COMP%]   .main-right[_ngcontent-%COMP%]   .combatstats[_ngcontent-%COMP%]{margin-top:0;display:flex;flex-direction:column}.main[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-top:10px}.main[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .combatstat-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:flex-start}.main[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .combatstat-title[_ngcontent-%COMP%]{font-size:22px;margin-bottom:8px}.main[_ngcontent-%COMP%]   .race-row[_ngcontent-%COMP%]{margin-top:3px}.main[_ngcontent-%COMP%]   .overview-perk-line[_ngcontent-%COMP%]{font-weight:700;margin-top:3px;display:inline-block}.main[_ngcontent-%COMP%]   .race-benefits[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .zodiacsign-benefits[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .perks[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .combatstats[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .equipment[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .languages[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .recovering-values[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .culture-benefits[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .background-benefits[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .attributes[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]{margin-top:20px;padding:20px 20px 20px 50px;border:1px solid #b26d27;position:relative}.main[_ngcontent-%COMP%]   .overview-language-line[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{width:130px;display:inline-block;margin-bottom:2px}.main[_ngcontent-%COMP%]   .border-overlapping-title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background:#e4e1d9;padding:0 5px}"]}),n})();function kg(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function ns(n,t){const e=t?"":"none";kg(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function eM(n,t,e){kg(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function pu(n,t){return t&&"none"!=t?n+" "+t:n}function tM(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Pg(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function Rg(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Og(n,t,e){const{top:i,bottom:r,left:o,right:s}=n;return e>=i&&e<=r&&t>=o&&t<=s}function Ia(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function nM(n,t,e,i){const{top:r,right:o,bottom:s,left:a,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<s+d&&e>a-u&&e<o+u}class iM{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Rg(e)})})}handleScroll(t){const e=Xn(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,s;if(e===this._document){const c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Ia(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function rM(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?aM(n,t):("input"===i||"select"===i||"textarea"===i)&&sM(n,t),oM("canvas",n,t,aM),oM("input, textarea, select",n,t,sM),t}function oM(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let IU=0;function sM(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${IU++}`)}function aM(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const lM=Rr({passive:!0}),gu=Rr({passive:!1}),Fg=new Set(["position"]);class kU{constructor(t,e,i,r,o,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new U,this._pointerMoveSubscription=Ue.EMPTY,this._pointerUpSubscription=Ue.EMPTY,this._scrollSubscription=Ue.EMPTY,this._resizeSubscription=Ue.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new U,this.started=new U,this.released=new U,this.ended=new U,this.entered=new U,this.exited=new U,this.dropped=new U,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),m=this._dropContainer;if(!f)return void this._endDragSequence(a);(!m||!m.isDragging()&&!m.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new iM(i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=qn(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>ns(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>pt(i)),this._handles.forEach(i=>ns(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=pt(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,gu),e.addEventListener("touchstart",this._pointerDown,lM),e.addEventListener("dragstart",this._nativeDragStart,gu)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?pt(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ns(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ns(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){xa(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),eM(i,!1,Fg),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=xa(e),o=!r&&0!==e.button,s=this._rootElement,a=Xn(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?ng(e):tg(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||l||c)return;if(this._handles.length){const h=s.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=Rg(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){eM(this._rootElement,!0,Fg),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,s,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),r=uM(s,this._document),this._previewRef=s,t.matchSize?dM(r,o):r.style.transform=mu(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=rM(this._rootElement),dM(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return kg(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Fg),ns(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function AU(n){const t=getComputedStyle(n),e=Pg(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),o=Pg(t,"transition-duration"),s=Pg(t,"transition-delay");return tM(o[r])+tM(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=s=>{(!s||Xn(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=uM(this._placeholderRef,this._document)):i=rM(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=xa(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:o.left-t.left+(s.pageX-o.left-a.left),y:o.top-t.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=xa(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:s}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+s,d=a.bottom-(c-s);i=cM(i,a.left+o,a.right-(l-o)),r=cM(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ns(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,gu),t.removeEventListener("touchstart",this._pointerDown,lM),t.removeEventListener("dragstart",this._nativeDragStart,gu)}_applyRootElementTransform(t,e){const i=mu(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=pu(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=mu(t,e);this._preview.style.transform=pu(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:xa(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Xn(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Ia(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=$p(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return pt(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function mu(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function cM(n,t,e){return Math.max(t,Math.min(e,n))}function xa(n){return"t"===n.type[0]}function uM(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function dM(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=mu(t.left,t.top)}function hM(n,t,e){const i=ka(t,n.length-1),r=ka(e,n.length-1);if(i===r)return;const o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function ka(n,t){return Math.max(0,Math.min(t,n))}class PU{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,l=o.findIndex(C=>C.drag===t),c=o[s],d=c.clientRect,h=l>s?1:-1,f=this._getItemOffsetPx(o[l].clientRect,d,h),m=this._getSiblingOffsetPx(l,o,h),v=o.slice();return hM(o,l,s),o.forEach((C,E)=>{if(v[E]===C)return;const I=C.drag===t,D=I?f:m,k=I?t.getPlaceholderElement():C.drag.getRootElement();C.offset+=D,a?(k.style.transform=pu(`translate3d(${Math.round(C.offset)}px, 0, 0)`,C.initialTransform),Ia(C.clientRect,0,D)):(k.style.transform=pu(`translate3d(0, ${Math.round(C.offset)}px, 0)`,C.initialTransform),Ia(C.clientRect,D,0))}),this._previousSwap.overlaps=Og(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement();let c=s[o];if(c===t&&(c=s[o+1]),!c&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),s.splice(o,0,t)}else pt(this._element).appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Ia(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Rg(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,s=e[t+-1*i];let a=o[r?"width":"height"]*i;if(s){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(r){const c=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==s&&this._sortPredicate(s,t)?s:-1}}class RU{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new U,this.entered=new U,this.exited=new U,this.dropped=new U,this.sorted=new U,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ue.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new U,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function TU(n=0,t=zc){return n<0&&(n=0),kE(n,n,t)}(0,IE).pipe(et(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-a):2===this._verticalScrollDirection&&s.scrollBy(0,a),1===this._horizontalScrollDirection?s.scrollBy(-a,0):2===this._horizontalScrollDirection&&s.scrollBy(a,0)})},this.element=pt(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new iM(i),this._sortStrategy=new PU(this.element,e),this._sortStrategy.withSortPredicate((s,a)=>this.sortPredicate(s,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=pt(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!nM(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||nM(s.clientRect,.05,t,e)&&([r,o]=function OU(n,t,e,i){const r=gM(t,i),o=mM(t,e);let s=0,a=0;if(r){const l=n.scrollTop;1===r?l>0&&(s=1):n.scrollHeight-l>n.clientHeight&&(s=2)}if(o){const l=n.scrollLeft;1===o?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,t,e),(r||o)&&(i=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=gM(l,e),o=mM(l,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=pt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=pt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=pt(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&Og(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!Og(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=pt(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=$p(pt(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function gM(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function mM(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const _u=Rr({passive:!1,capture:!0});let FU=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new U,this.pointerUp=new U,this.scroll=new U,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,_u)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,_u)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:_u}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:_u}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Oe(r=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),us(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(w(de),w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NU={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ng=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=NU){return new kU(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new RU(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(w(re),w(de),w(Wp),w(FU))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _M=new x("CDK_DRAG_PARENT"),yM=new x("CdkDropListGroup"),vM=new x("CDK_DRAG_CONFIG");let LU=0;const bM=new x("CdkDropList");let VU=(()=>{class n{constructor(e,i,r,o,s,a,l){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new U,this.connectedTo=[],this.id="cdk-drop-list-"+LU++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ce,this.entered=new ce,this.exited=new ce,this.sorted=new ce,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,u)=>this.enterPredicate(c.data,u.data),this._dropListRef.sortPredicate=(c,u,d)=>this.sortPredicate(c,u.data,d.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=qn(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Bo(this._dir.value),et(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=_a(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(s=>s.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=qn(this.sortingDisabled),e.autoScrollDisabled=qn(this.autoScrollDisabled),e.autoScrollStep=ma(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(b(ze),b(Ng),b(Dn),b(Gp),b(Wc,8),b(yM,12),b(vM,8))},n.\u0275dir=N({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(Vt("id",i.id),vt("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[xe([{provide:yM,useValue:void 0},{provide:bM,useExisting:n}])]}),n})();const CM=new x("CdkDragHandle"),BU=new x("CdkDragPlaceholder"),HU=new x("CdkDragPreview");let UU=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d,h){this.element=e,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=s,this._dir=l,this._changeDetectorRef=u,this._selfHandle=d,this._parentDrag=h,this._destroyed=new U,this.started=new ce,this.released=new ce,this.ended=new ce,this.entered=new ce,this.exited=new ce,this.dropped=new ce,this.moved=new Oe(f=>{const m=this._dragRef.moved.pipe(K(v=>({source:this,pointerPosition:v.pointerPosition,event:v.event,delta:v.delta,distance:v.distance}))).subscribe(f);return()=>{m.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=qn(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(je(1),et(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):pt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:ma(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(je(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe(Bo(this._handles),at(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Mn(e=>us(...e.map(i=>i._stateChanges.pipe(Bo(i))))),et(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(b(ze),b(bM,12),b(re),b(de),b(Ht),b(vM,8),b(Wc,8),b(Ng),b(Dn),b(CM,10),b(_M,12))},n.\u0275dir=N({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(Mr(r,HU,5),Mr(r,BU,5),Mr(r,CM,5)),2&e){let o;Un(o=$n())&&(i._previewTemplate=o.first),Un(o=$n())&&(i._placeholderTemplate=o.first),Un(o=$n())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&vt("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[xe([{provide:_M,useExisting:n}]),Xt]}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({providers:[Ng],imports:[qc]}),n})();function zU(n,t){if(1&n&&(_(0,"div",16)(1,"h2"),g(2,"Race Bonis"),p(),_(3,"div",17),g(4),p(),_(5,"div",18),g(6),p(),_(7,"div",19),g(8),p(),_(9,"div",20),g(10),p(),_(11,"div",21),g(12),p(),_(13,"div",22),g(14),p(),_(15,"div",23),g(16),p()()),2&n){const e=t.ngIf;y(4),Q(null==e||null==e.statboni?null:e.statboni.strength),y(2),Q(null==e||null==e.statboni?null:e.statboni.vitality),y(2),Q(null==e||null==e.statboni?null:e.statboni.dexterity),y(2),Q(null==e||null==e.statboni?null:e.statboni.agility),y(2),Q(null==e||null==e.statboni?null:e.statboni.intellect),y(2),Q(null==e||null==e.statboni?null:e.statboni.perception),y(2),Q(null==e||null==e.statboni?null:e.statboni.empathy)}}function GU(n,t){if(1&n){const e=Mt();_(0,"div",1)(1,"div",2)(2,"h2"),g(3,"Description"),p(),_(4,"p",3),g(5," Strengh: "),p(),_(6,"p",3),g(7," Vitaly: "),p(),_(8,"p",3),g(9," Dexterity: "),p(),_(10,"p",3),g(11," Agility: "),p(),_(12,"p",3),g(13," Intellect: "),p(),_(14,"p",3),g(15," Perception: "),p(),_(16,"p",3),g(17," Empathy: "),p()(),_(18,"div",4),le("cdkDropListDropped",function(r){return Te(e),Ae(H().drop(r))}),_(19,"div")(20,"h2"),g(21,"Base Stats "),p(),_(22,"span",5),g(23,"help_outline"),p()(),_(24,"div",6),g(25),p(),_(26,"div",7),g(27),p(),_(28,"div",8),g(29),p(),_(30,"div",9),g(31),p(),_(32,"div",10),g(33),p(),_(34,"div",11),g(35),p(),_(36,"div",12),g(37),p()(),_(38,"div",13)(39,"h2"),g(40,"\xa0"),p(),_(41,"p",14),g(42,"+"),p(),_(43,"p",14),g(44,"+"),p(),_(45,"p",14),g(46,"+"),p(),_(47,"p",14),g(48,"+"),p(),_(49,"p",14),g(50,"+"),p(),_(51,"p",14),g(52,"+"),p(),_(53,"p",14),g(54,"+"),p()(),W(55,zU,17,7,"div",15),_(56,"div",13)(57,"h2"),g(58,"\xa0"),p(),_(59,"p",14),g(60,"="),p(),_(61,"p",14),g(62,"="),p(),_(63,"p",14),g(64,"="),p(),_(65,"p",14),g(66,"="),p(),_(67,"p",14),g(68,"="),p(),_(69,"p",14),g(70,"="),p(),_(71,"p",14),g(72,"="),p()(),_(73,"div",16)(74,"h2"),g(75,"Final Stats"),p(),_(76,"div",17),g(77),p(),_(78,"div",18),g(79),p(),_(80,"div",19),g(81),p(),_(82,"div",20),g(83),p(),_(84,"div",21),g(85),p(),_(86,"div",22),g(87),p(),_(88,"div",23),g(89),p()()()}if(2&n){const e=t.ngIf,i=H();y(4),S("matTooltip",i._STRENGTH_TEXT),y(2),S("matTooltip",i._VITALITY_TEXT),y(2),S("matTooltip",i._DEXTERITY_TEXT),y(2),S("matTooltip",i._AGILITY_TEXT),y(2),S("matTooltip",i._INTELLECT_TEXT),y(2),S("matTooltip",i._PERCEPTION_TEXT),y(2),S("matTooltip",i._EMPATHY_TEXT),y(6),S("matTooltip","Drag the boxes to reorder them"),y(3),Q(i.stats.strength),y(2),Q(i.stats.vitality),y(2),Q(i.stats.dexterity),y(2),Q(i.stats.agility),y(2),Q(i.stats.intellect),y(2),Q(i.stats.perception),y(2),Q(i.stats.empathy),y(18),S("ngIf",e.getRace()),y(22),Q(e.getFinalStats().strength),y(2),Q(e.getFinalStats().vitality),y(2),Q(e.getFinalStats().dexterity),y(2),Q(e.getFinalStats().agility),y(2),Q(e.getFinalStats().intellect),y(2),Q(e.getFinalStats().perception),y(2),Q(e.getFinalStats().empathy)}}let WU=(()=>{class n extends dn{constructor(){super(...arguments),this._STRENGTH_TEXT=E0,this._VITALITY_TEXT=S0,this._DEXTERITY_TEXT=M0,this._AGILITY_TEXT=T0,this._INTELLECT_TEXT=A0,this._PERCEPTION_TEXT=I0,this._EMPATHY_TEXT=x0,this.stats=CE}ngOnInit(){super.ngOnInit(),this.character$.pipe(et(this.destroy$)).subscribe(e=>this.stats=e.stats)}drop(e){this.character$.pipe(je(1)).subscribe(i=>{let r=this.stats.toStatNumberArray();hM(r,e.previousIndex,e.currentIndex),this.stats=We.fromArray(r),this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,stats:this.stats},Je.prototype))})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-attributes"]],features:[G],decls:4,vars:3,consts:[["class","attributes-builder padded",4,"ngIf"],[1,"attributes-builder","padded"],[1,"title-column"],[1,"stat",3,"matTooltip"],["cdkDropList","",1,"statlist",3,"cdkDropListDropped"],[1,"material-icons-outlined",3,"matTooltip"],["cdkDrag","",1,"stat","boxed-stat","stat-strength"],["cdkDrag","",1,"stat","boxed-stat","stat-vitality"],["cdkDrag","",1,"stat","boxed-stat","stat-dexterity"],["cdkDrag","",1,"stat","boxed-stat","stat-agility"],["cdkDrag","",1,"stat","boxed-stat","stat-intellect"],["cdkDrag","",1,"stat","boxed-stat","stat-perception"],["cdkDrag","",1,"stat","boxed-stat","stat-empathy"],[1,"fixed-column"],[1,"stat"],["class","statlist",4,"ngIf"],[1,"statlist"],[1,"stat","boxed-stat","stat-strength"],[1,"stat","boxed-stat","stat-vitality"],[1,"stat","boxed-stat","stat-dexterity"],[1,"stat","boxed-stat","stat-agility"],[1,"stat","boxed-stat","stat-intellect"],[1,"stat","boxed-stat","stat-perception"],[1,"stat","boxed-stat","stat-empathy"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,GU,90,23,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ut,es,VU,UU,ui,Fi,Zt],styles:[".attributes-builder[_ngcontent-%COMP%]{display:flex}.title-column[_ngcontent-%COMP%]{width:20ch;font-weight:700}.statlist[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.statlist[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;margin-bottom:16px;margin-right:2px}.statlist[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;cursor:pointer}.stat[_ngcontent-%COMP%]{display:block;padding-top:20px;height:40px;margin:0}.boxed-stat[_ngcontent-%COMP%]{width:58px;height:38px;text-align:center;border:1px solid black;background:#e3e3e3;-webkit-user-select:none;user-select:none;cursor:not-allowed;font-size:14pt}.boxed-stat[cdkdrag][_ngcontent-%COMP%]{cursor:grab}.fixed-column[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.statlist.cdk-drop-list-dragging[_ngcontent-%COMP%]{cursor:grabbing}.statlist.cdk-drop-list-dragging[_ngcontent-%COMP%]   .boxed-stat[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n})();function qU(n,t){if(1&n){const e=Mt();_(0,"div",8)(1,"div",9),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).deselectLanguage(o))}),_(2,"span",10),g(3,"check_circle_outline"),p()(),_(4,"mat-expansion-panel",11)(5,"mat-expansion-panel-header")(6,"mat-panel-title"),g(7),p(),_(8,"mat-panel-description")(9,"span",12),g(10),p(),g(11),p()(),_(12,"div",13)(13,"div",14)(14,"b"),g(15,"Name"),p(),V(16,"br"),g(17),p(),_(18,"div",14)(19,"b"),g(20,"Alphabet"),p(),V(21,"br"),g(22),p(),_(23,"div",14)(24,"b"),g(25,"Family"),p(),V(26,"br"),g(27),p(),_(28,"div",14)(29,"b"),g(30,"Gold Cost"),p(),V(31,"br"),g(32),p()()()()}if(2&n){const e=t.$implicit,i=H(2);y(7),Hn(" ",e.name," (",e.getCpCost(i.ownedLanguages),"CP) "),y(3),Q(e.family),y(1),ie(" ",e.alphabet," "),y(6),ie(" ",e.name,""),y(5),ie(" ",e.alphabet,""),y(5),ie(" ",e.family,""),y(5),ie(" ",e.gpCost,"")}}function XU(n,t){if(1&n){const e=Mt();_(0,"div",8)(1,"div",9),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).selectLanguage(o))}),_(2,"span",10),g(3,"circle_outline"),p()(),_(4,"mat-expansion-panel",11)(5,"mat-expansion-panel-header")(6,"mat-panel-title"),g(7),p(),_(8,"mat-panel-description")(9,"span",12),g(10),p(),g(11),p()(),_(12,"div",13)(13,"div",14)(14,"b"),g(15,"Name"),p(),V(16,"br"),g(17),p(),_(18,"div",14)(19,"b"),g(20,"Alphabet"),p(),V(21,"br"),g(22),p(),_(23,"div",14)(24,"b"),g(25,"Family"),p(),V(26,"br"),g(27),p(),_(28,"div",14)(29,"b"),g(30,"Gold Cost"),p(),V(31,"br"),g(32),p()()()()}if(2&n){const e=t.$implicit,i=H(2);y(7),Hn(" ",e.name," (",e.getCpCost(i.ownedLanguages),"CP) "),y(3),Q(e.family),y(1),ie(" ",e.alphabet," "),y(6),ie(" ",e.name,""),y(5),ie(" ",e.alphabet,""),y(5),ie(" ",e.family,""),y(5),ie(" ",e.gpCost,"")}}function YU(n,t){if(1&n){const e=Mt();_(0,"div",1)(1,"div"),g(2," You are able to communicate in a specific language. This includes reading, writing, understanding and speaking said language. "),V(3,"br"),g(4," The difficulty of a language is based on the family that this language belongs to."),V(5,"br")(6,"br"),g(7," The CP costs of learning a new language of the same family or alphabet is "),_(8,"b"),g(9,"reduced by 25%"),p(),g(10," if it is the second language in the "),V(11,"br"),g(12," same family or alphabet that a character learns, "),_(13,"b"),g(14,"and by 50%"),p(),g(15," for the third and further languages. "),p(),_(16,"div",2),g(17," Your character has "),_(18,"b"),g(19),p(),g(20," CP still available. "),p(),_(21,"div")(22,"span",3),g(23," Search: "),_(24,"input",4),le("input",function(r){return Te(e),Ae(H().search(r))}),p()(),g(25," Hide unaffordable "),_(26,"input",5),le("ngModelChange",function(r){return Te(e),Ae(H().hideTooExpensive=r)}),p()(),_(27,"h2"),g(28,"Owned Languages"),p(),W(29,qU,33,8,"div",6),_(30,"h2"),g(31,"Available Languages"),p(),_(32,"div",7),W(33,XU,33,8,"div",6),p()()}if(2&n){const e=H();y(19),Hn("",e.openCharacterPoints," / ",e.totalCharacterPoints,""),y(7),S("ngModel",e.hideTooExpensive),y(3),S("ngForOf",e.filtered(e.ownedLanguages,!1))("ngForTrackBy",e.languageByName),y(4),S("ngForOf",e.filtered(e.availableLanguages,e.hideTooExpensive))("ngForTrackBy",e.languageByName)}}let KU=(()=>{class n extends dn{constructor(){super(...arguments),this.searchString="",this.hideTooExpensive=!1}languageByName(e,i){return i.name}ngOnInit(){super.ngOnInit(),this.character$.pipe(et(this.destroy$)).subscribe(e=>{this.totalCharacterPoints=e.getTotalCP(),this.openCharacterPoints=e.getRemainingCP(),this.ownedLanguages=e.languagesInLearnOrder;let i=this.ownedLanguages.map(r=>r.name);this.availableLanguages=function hB(){return fB}().filter(r=>!i.includes(r.name))})}filtered(e,i){let r=e;return i&&(r=r.filter(o=>o.getCpCost(this.ownedLanguages)<this.openCharacterPoints)),this.searchString&&(r=r.filter(o=>-1!==o.name.toLowerCase().indexOf(this.searchString.toLowerCase())||-1!==o.family.toLowerCase().indexOf(this.searchString.toLowerCase())||-1!==o.alphabet.toLowerCase().indexOf(this.searchString.toLowerCase()))),r}selectLanguage(e){this.character$.pipe(je(1)).subscribe(i=>{let r=Array.from(i.languagesInLearnOrder);e.getCpCost(r)>this.openCharacterPoints?this._snackBar.open("Language is too expensive","Warning"):(r.push(e),this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,languagesInLearnOrder:r},Je.prototype)))})}deselectLanguage(e){this.character$.pipe(je(1)).subscribe(i=>{let r=Array.from(i.languagesInLearnOrder),o=r.findIndex(s=>s.name==e.name);if(-1===o)throw new Error("Deselected a language the user doesnt have");r.splice(o,1),this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,languagesInLearnOrder:r},Je.prototype))})}search(e){e.target&&(this.searchString=e.target.value)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-languages"]],features:[G],decls:4,vars:3,consts:[["class","languages-builder padded",4,"ngIf"],[1,"languages-builder","padded"],[1,"language-resources"],[1,"searchbar"],[3,"input"],["type","checkbox",3,"ngModel","ngModelChange"],["class","language-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"available-languages"],[1,"language-row"],[1,"select-box",3,"click"],[1,"material-icons-outlined"],[1,"language-expandable"],[1,"language-description-family"],[1,"language-details"],[1,"language-description"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,YU,34,7,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ii,Ut,tu,ou,Aa,Vr,ts,JS,QS,ui,Fi,Zt],styles:[".language-expandable[_ngcontent-%COMP%]{margin-bottom:5px;flex:1}.language-description[_ngcontent-%COMP%]{width:200px}.language-description-family[_ngcontent-%COMP%]{width:160px;margin-right:20px}.language-details[_ngcontent-%COMP%]{display:flex}.language-row[_ngcontent-%COMP%]{display:flex;align-content:center}.language-row[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{width:40px;margin:12px 0;cursor:pointer}.language-resources[_ngcontent-%COMP%]{margin:40px 0}h2[_ngcontent-%COMP%]{margin-top:40px}"]}),n})();function ZU(n,t){1&n&&(_(0,"span",7),g(1,"check_circle_outline"),p())}function QU(n,t){1&n&&(_(0,"span",7),g(1,"circle_outline"),p())}function JU(n,t){if(1&n){const e=Mt();_(0,"div",3)(1,"div",4),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).changeBackground(o))}),W(2,ZU,2,0,"span",5),W(3,QU,2,0,"span",5),p(),_(4,"mat-expansion-panel",6)(5,"mat-expansion-panel-header"),g(6),p(),g(7," TBA "),p()()}if(2&n){const e=t.$implicit,i=H().ngIf;let r,o;y(2),S("ngIf",e.name===(null==(r=i.getBackground())?null:r.name)),y(1),S("ngIf",e.name!==(null==(o=i.getBackground())?null:o.name)),y(3),Q(e.name)}}function e$(n,t){if(1&n&&(_(0,"div",1)(1,"h2"),g(2,"Backgrounds:"),p(),V(3,"br"),g(4," Every character falls under one of these backgrounds. It represents their upbringing, standing in society, as well their story up until they started to work as an adventurer. While creating a character, you may combine elements of backgrounds, or talk with your GM and create a background yourself. "),V(5,"br")(6,"br")(7,"br"),W(8,JU,8,3,"div",2),p()),2&n){const e=H();y(8),S("ngForOf",e.availableBackgrounds)}}function n$(n,t){1&n&&(_(0,"span",7),g(1,"check_circle_outline"),p())}function i$(n,t){1&n&&(_(0,"span",7),g(1,"circle_outline"),p())}function r$(n,t){if(1&n){const e=Mt();_(0,"div",3)(1,"div",4),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).changeCulture(o))}),W(2,n$,2,0,"span",5),W(3,i$,2,0,"span",5),p(),_(4,"mat-expansion-panel",6)(5,"mat-expansion-panel-header"),g(6),p(),g(7," TBA "),p()()}if(2&n){const e=t.$implicit,i=H().ngIf;let r,o;y(2),S("ngIf",e.name===(null==(r=i.getCulture())?null:r.name)),y(1),S("ngIf",e.name!==(null==(o=i.getCulture())?null:o.name)),y(3),Q(e.name)}}function o$(n,t){if(1&n&&(_(0,"div",1)(1,"h2"),g(2,"Cultures:"),p(),V(3,"br"),W(4,r$,8,3,"div",2),p()),2&n){const e=H();y(4),S("ngForOf",e.availableCultures)}}const s$=[{path:"",component:xg},{path:"character-builder",component:xg},{path:"character-builder/attributes",component:WU},{path:"character-builder/equipment",component:H3},{path:"character-builder/name-selector",component:xg},{path:"character-builder/perks",component:fu},{path:"character-builder/martial-perks",component:fu},{path:"character-builder/magical-perks",component:fu},{path:"character-builder/skill-perks",component:fu},{path:"character-builder/race-selector",component:dU},{path:"character-builder/zodiac-sign",component:mU},{path:"character-builder/background",component:(()=>{class n extends dn{constructor(){super(...arguments),this.availableBackgrounds=EE()}changeBackground(e){this.character$.pipe(je(1)).subscribe(i=>{this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,backgroundName:e.name},Je.prototype))})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-background"]],features:[G],decls:4,vars:3,consts:[["class","background-list padded",4,"ngIf"],[1,"background-list","padded"],["class","background-row",4,"ngFor","ngForOf"],[1,"background-row"],[1,"select-box",3,"click"],["class","material-icons-outlined",4,"ngIf"],[1,"background-expandable"],[1,"material-icons-outlined"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,e$,9,1,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ii,Ut,Vr,ts,ui,Fi,Zt],styles:[".background-expandable[_ngcontent-%COMP%]{margin-bottom:5px;flex:1}.background-row[_ngcontent-%COMP%]{display:flex;align-content:center}.background-row[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{width:40px;margin:12px 0;cursor:pointer}"]}),n})()},{path:"character-builder/culture",component:(()=>{class n extends dn{constructor(){super(...arguments),this.availableCultures=DE()}changeCulture(e){this.character$.pipe(je(1)).subscribe(i=>{this.characterStorageService.saveCharacter(Object.setPrototypeOf({...i,cultureName:e.name},Je.prototype))})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ie(n)))(i||n)}}(),n.\u0275cmp=$e({type:n,selectors:[["app-culture"]],features:[G],decls:4,vars:3,consts:[["class","culture-list padded",4,"ngIf"],[1,"culture-list","padded"],["class","culture-row",4,"ngFor","ngForOf"],[1,"culture-row"],[1,"select-box",3,"click"],["class","material-icons-outlined",4,"ngIf"],[1,"culture-expandable"],[1,"material-icons-outlined"]],template:function(e,i){1&e&&(V(0,"character-builder-navigation")(1,"quick-overview-bar"),W(2,o$,5,1,"div",0),Tt(3,"async")),2&e&&(y(2),S("ngIf",At(3,1,i.character$)))},dependencies:[Ii,Ut,Vr,ts,ui,Fi,Zt],styles:[".culture-expandable[_ngcontent-%COMP%]{margin-bottom:5px;flex:1}.culture-row[_ngcontent-%COMP%]{display:flex;align-content:center}.culture-row[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]{width:40px;margin:12px 0;cursor:pointer}"]}),n})()},{path:"character-builder/languages",component:KU},{path:"character-builder/overview",component:MU}];let a$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[xp.forRoot(s$,{onSameUrlNavigation:"reload"}),xp]}),n})();function l$(n,t){if(1&n){const e=Mt();_(0,"div",12)(1,"span",13),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).loadChar(o.id))}),g(2),p(),_(3,"span",7),le("click",function(){const o=Te(e).$implicit;return Ae(H(2).deleteCharacter(o))}),g(4,"delete"),p()()}if(2&n){const e=t.$implicit,i=H().ngIf;y(1),vt("current",e.id==i.id),y(1),ie(" ",e.name,""),y(1),S("matTooltip","Delete "+e.name)}}function c$(n,t){1&n&&(_(0,"div",14)(1,"div",15),V(2,"router-outlet"),p()())}function u$(n,t){if(1&n){const e=Mt();_(0,"div",1)(1,"header")(2,"h1"),g(3,"RLP Online"),p(),_(4,"h3"),g(5,"Release 37"),p(),_(6,"div",2)(7,"div",3)(8,"span",4),le("click",function(){return Te(e),Ae(H().createNewChar())}),g(9,"person_add"),p()(),_(10,"div",3)(11,"input",5,6),le("change",function(r){return Te(e),Ae(H().uploadFile(r))}),p(),_(13,"span",7),le("click",function(){return Te(e),Ae(js(12).click())}),g(14,"upload_file"),p()(),_(15,"div",3)(16,"a",8),g(17,"save"),p()()(),_(18,"div",9),W(19,l$,5,4,"div",10),Tt(20,"async"),p()(),W(21,c$,3,0,"div",11),Tt(22,"async"),p()}if(2&n){const e=t.ngIf,i=H();y(8),S("matTooltip","Create new character"),y(5),S("matTooltip","Upload saved character"),y(3),Nl("download",e.name),S("href",i.downloadJsonHref,xs)("matTooltip","Save current character as file"),y(3),S("ngForOf",At(20,7,i.availableCharacters)),y(2),S("ngIf",At(22,9,i.character$))}}let d$=(()=>{class n extends dn{constructor(e,i,r,o){super(e,i,r),this.sanitizer=o}ngOnInit(){super.ngOnInit(),this.availableCharacters=this.characterStorageService.getCharacters(),this.character$.pipe(et(this.destroy$)).subscribe(e=>{let i=JSON.stringify(e),r=this.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(i));this.downloadJsonHref=r}),Object.defineProperty(zS.prototype,"message",{set(e){const i=document.querySelectorAll(".mat-tooltip");i&&(i[i.length-1].innerHTML=e)}})}loadChar(e){this.characterStorageService.loadCharacter(e),this.router.navigate(["character-builder"])}createNewChar(){this.characterStorageService.generateAndLoadNewCharacter(),this.router.navigate(["character-builder"])}deleteCharacter(e){confirm("You really want to delete this character?")&&this.characterStorageService.delete(e.id)}uploadFile(e){e.target.files.item(0)?.text().then(i=>this.characterStorageService.importAndLoad(i))}}return n.\u0275fac=function(e){return new(e||n)(b(Np),b(lg),b(_t),b(ia))},n.\u0275cmp=$e({type:n,selectors:[["app-root"]],features:[G],decls:2,vars:3,consts:[["id","content",4,"ngIf"],["id","content"],[1,"nav-circles"],[1,"circled-outline"],[1,"material-icons-outlined","new-character",3,"matTooltip","click"],["id","fileInput","type","file",2,"display","none",3,"change"],["fileInput",""],[1,"material-icons-outlined",3,"matTooltip","click"],[1,"material-icons-outlined",3,"href","matTooltip","download"],[1,"character-selection"],["class","char",4,"ngFor","ngForOf"],["id","main",4,"ngIf"],[1,"char"],[1,"char-link",3,"click"],["id","main"],["id","main-content"]],template:function(e,i){1&e&&(W(0,u$,23,11,"div",0),Tt(1,"async")),2&e&&S("ngIf",At(1,1,i.character$))},dependencies:[Ii,Ut,_p,es,Zt],styles:["[_nghost-%COMP%]{height:100%;display:block}.nav-circles[_ngcontent-%COMP%]{display:flex;margin:30px 0}.circled-outline[_ngcontent-%COMP%]{border:2px solid #d4d7e0;border-radius:50%;height:35px;width:35px;display:flex;align-items:center;justify-content:center;cursor:pointer;margin-right:15px}.circled-outline[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:20px}#content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow-y:scroll}#content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100px;background:#16123f;color:#d4d7e0}#content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d4d7e0}#content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], #content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 40px;white-space:nowrap}#content[_ngcontent-%COMP%]   #main[_ngcontent-%COMP%]{display:flex;flex:1;background:url(seamless_paper_texture.e9aa4245d72ebfc0.webp) repeat;background-size:200px}#content[_ngcontent-%COMP%]   #main[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{padding:20px;background:grey;min-width:100px;flex:1;font-size:1.2em}#content[_ngcontent-%COMP%]   #main[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{cursor:pointer}#content[_ngcontent-%COMP%]   #main[_ngcontent-%COMP%]   #main-content[_ngcontent-%COMP%]{min-width:600px;flex:6}.character-selection[_ngcontent-%COMP%]{overflow-x:scroll;display:flex;width:100%;margin-left:20px;height:85px;margin-top:15px;align-items:center;text-align:center}.character-selection[_ngcontent-%COMP%]   .char[_ngcontent-%COMP%]{margin:4px 20px;display:flex;width:150px;min-width:150px}.character-selection[_ngcontent-%COMP%]   .char[_ngcontent-%COMP%]   .char-link[_ngcontent-%COMP%]{margin-right:20px;word-wrap:anywhere}.character-selection[_ngcontent-%COMP%]   .char[_ngcontent-%COMP%]   .char-link.current[_ngcontent-%COMP%]{text-decoration:underline}"]}),n})();function wM(n){return new M(3e3,!1)}function W$(){return typeof window<"u"&&typeof window.document<"u"}function Lg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ir(n){switch(n.length){case 0:return new Da;case 1:return n[0];default:return new _0(n)}}function DM(n,t,e,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((m,v)=>{let C=v,E=m;if("offset"!==v)switch(C=t.normalizePropertyName(C,s),E){case"!":E=r.get(v);break;case Oi:E=o.get(v);break;default:E=t.normalizeStyleValue(v,C,E,s)}f.set(C,E)}),h||a.push(f),c=f,l=d}),s.length)throw function O$(n){return new M(3502,!1)}();return a}function Vg(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Bg(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Bg(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Bg(e,"destroy",n)))}}function Bg(n,t,e){const o=Hg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Hg(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function hn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function EM(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let jg=(n,t)=>!1,SM=(n,t,e)=>[],MM=null;function Ug(n){const t=n.parentNode||n.host;return t===MM?null:t}(Lg()||typeof Element<"u")&&(W$()?(MM=(()=>document.documentElement)(),jg=(n,t)=>{for(;t;){if(t===n)return!0;t=Ug(t)}return!1}):jg=(n,t)=>n.contains(t),SM=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Br=null,TM=!1;const AM=jg,IM=SM;let xM=(()=>{class n{validateStyleProperty(e){return function X$(n){Br||(Br=function Y$(){return typeof document<"u"?document.body:null}()||{},TM=!!Br.style&&"WebkitAppearance"in Br.style);let t=!0;return Br.style&&!function q$(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Br.style,!t&&TM&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Br.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return AM(e,i)}getParentElement(e){return Ug(e)}query(e,i,r){return IM(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Da(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),$g=(()=>{class n{}return n.NOOP=new xM,n})();const zg="ng-enter",yu="ng-leave",vu="ng-trigger",bu=".ng-trigger",PM="ng-animating",Gg=".ng-animating";function rr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Wg(parseFloat(t[1]),t[2])}function Wg(n,t){return"s"===t?1e3*n:n}function Cu(n,t,e){return n.hasOwnProperty("duration")?n:function Q$(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(wM()),{duration:0,delay:0,easing:""};r=Wg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Wg(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function h$(){return new M(3100,!1)}()),a=!0),o<0&&(t.push(function f$(){return new M(3101,!1)}()),a=!0),a&&t.splice(l,0,wM())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Pa(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function RM(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function or(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function FM(n,t,e){return e?t+":"+e+";":""}function NM(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=FM(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=FM(0,nz(e),n.style[e]));n.setAttribute("style",t)}function di(n,t,e){n.style&&(t.forEach((i,r)=>{const o=Xg(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),Lg()&&NM(n))}function Hr(n,t){n.style&&(t.forEach((e,i)=>{const r=Xg(i);n.style[r]=""}),Lg()&&NM(n))}function Ra(n){return Array.isArray(n)?1==n.length?n[0]:g0(n):n}const qg=new RegExp("{{\\s*(.+?)\\s*}}","g");function LM(n){let t=[];if("string"==typeof n){let e;for(;e=qg.exec(n);)t.push(e[1]);qg.lastIndex=0}return t}function wu(n,t,e){const i=n.toString(),r=i.replace(qg,(o,s)=>{let a=t[s];return null==a&&(e.push(function g$(n){return new M(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Du(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tz=/-+([a-z0-9])/g;function Xg(n){return n.replace(tz,(...t)=>t[1].toUpperCase())}function nz(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function m$(n){return new M(3004,!1)}()}}function VM(n,t){return window.getComputedStyle(n)[t]}function lz(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cz(n,t,e){if(":"==n[0]){const l=function uz(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function x$(n){return new M(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function I$(n){return new M(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(BM(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(BM(s,r))}(i,e,t)):e.push(n),e}const Tu=new Set(["true","1"]),Au=new Set(["false","0"]);function BM(n,t){const e=Tu.has(n)||Au.has(n),i=Tu.has(t)||Au.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Tu.has(n):Au.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Tu.has(t):Au.has(t)),s&&a}}const dz=new RegExp("s*:selfs*,?","g");function Yg(n,t,e,i){return new hz(n).build(t,e,i)}class hz{constructor(t){this._driver=t}build(t,e,i){const r=new gz(e);return this._resetContextStyleTimingState(r),fn(this,Ra(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function y$(){return new M(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function v$(){return new M(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{LM(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Du(o.values()),e.errors.push(function b$(n,t){return new M(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=fn(this,Ra(t.animation),e);return{type:1,matchers:lz(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:jr(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>fn(this,i,e)),options:jr(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=fn(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:jr(t.options)}}visitAnimate(t,e){const i=function _z(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Kg(Cu(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Kg(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Cu(e,t);return Kg(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:$t({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=$t(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Oi?i.push(a):e.errors.push(new M(3002,!1)):i.push(RM(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function w$(n,t,e,i,r){return new M(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),e.options&&function ez(n,t,e){const i=t.params||{},r=LM(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function p$(n){return new M(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function D$(){return new M(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(E=>{const I=this._makeStyleAst(E,e);let D=null!=I.offset?I.offset:function mz(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(I.styles),k=0;return null!=D&&(o++,k=I.offset=D),l=l||k<0||k>1,a=a||k<c,c=k,s.push(k),I});l&&e.errors.push(function E$(){return new M(3012,!1)}()),a&&e.errors.push(function S$(){return new M(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function M$(){return new M(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,m=e.currentTime,v=e.currentAnimateTimings,C=v.duration;return u.forEach((E,I)=>{const D=h>0?I==f?1:h*I:s[I],k=D*C;e.currentTime=m+v.delay+k,v.duration=k,this._validateStyleAst(E,e),E.offset=D,i.styles.push(E)}),i}visitReference(t,e){return{type:8,animation:fn(this,Ra(t.animation),e),options:jr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jr(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jr(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function fz(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(dz,"")),n=n.replace(/@\*/g,bu).replace(/@\w+/g,e=>bu+"-"+e.slice(1)).replace(/:animating/g,Gg),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,hn(e.collectedStyles,e.currentQuerySelector,new Map);const a=fn(this,Ra(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:jr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function T$(){return new M(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cu(t.timings,e.errors,!0);return{type:12,animation:fn(this,Ra(t.animation),e),timings:i,options:null}}}class gz{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jr(n){return n?(n=Pa(n)).params&&(n.params=function pz(n){return n?Pa(n):null}(n.params)):n={},n}function Kg(n,t,e){return{duration:n,delay:t,easing:e}}function Zg(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Iu{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bz=new RegExp(":enter","g"),wz=new RegExp(":leave","g");function Qg(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new Dz).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class Dz{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Iu;const d=new Jg(t,e,c,r,o,u,[]);d.options=l;const h=l.delay?rr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),fn(this,i,d);const f=d.timelines.filter(m=>m.containsAnimation());if(f.length&&a.size){let m;for(let v=f.length-1;v>=0;v--){const C=f[v];if(C.element===e){m=C;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,l)}return f.length?f.map(m=>m.buildKeyframes()):[Zg(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?rr(i.duration):null,a=null!=i.delay?rr(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),fn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xu);const s=rr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>fn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?rr(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),fn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Cu(e.params?wu(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?rr(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xu);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),fn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;fn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const xu={};class Jg{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new ku(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=rr(i.duration)),null!=i.delay&&(r.delay=rr(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=wu(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Jg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=xu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Ez(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(bz,"."+this._enterClassName)).replace(wz,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function A$(n){return new M(3014,!1)}()),a}}class ku{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ku(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Oi),this._currentKeyframe.set(e,Oi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Sz(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Oi)}else or(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=wu(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=or(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Oi&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?Du(t.values()):[],s=e.size?Du(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Zg(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Ez extends ku{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=or(t[0]);l.set("offset",0),o.push(l);const c=or(t[0]);c.set("offset",UM(a)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=or(t[d]);const f=h.get("offset");h.set("offset",UM((e+f*i)/s)),o.push(h)}i=s,e=0,r="",t=o}return Zg(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function UM(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class em{}const Mz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tz extends em{normalizePropertyName(t,e){return Xg(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(Mz.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function _$(n,t){return new M(3005,!1)}())}return s+o}}function $M(n,t,e,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const tm={};class zM{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Az(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||tm,m=this.buildStyles(i,a&&a.params||tm,d),v=l&&l.params||tm,C=this.buildStyles(r,v,d),E=new Set,I=new Map,D=new Map,k="void"===r,J={params:Iz(v,h),delay:this.ast.options?.delay},pe=u?[]:Qg(t,e,this.ast.animation,o,s,m,C,J,c,d);let qe=0;if(pe.forEach(gn=>{qe=Math.max(gn.duration+gn.delay,qe)}),d.length)return $M(e,this._triggerName,i,r,k,m,C,[],[],I,D,qe,d);pe.forEach(gn=>{const mn=gn.element,rs=hn(I,mn,new Set);gn.preStyleProps.forEach(Kn=>rs.add(Kn));const Ni=hn(D,mn,new Set);gn.postStyleProps.forEach(Kn=>Ni.add(Kn)),mn!==e&&E.add(mn)});const pn=Du(E.values());return $M(e,this._triggerName,i,r,k,m,C,pe,pn,I,D,qe)}}function Iz(n,t){const e=Pa(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class xz{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Pa(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=wu(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(l,s)})}),i}}class Pz{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new xz(r.style,r.options&&r.options.params||{},i))}),GM(this.states,"true","1"),GM(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new zM(t,r,this.states))}),this.fallbackTransition=function Rz(n,t,e){return new zM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function GM(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Oz=new Iu;class Fz{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=Yg(this._driver,e,i,[]);if(i.length)throw function F$(n){return new M(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=DM(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=Qg(this._driver,e,o,zg,yu,new Map,new Map,i,Oz,r),s.forEach(u=>{const d=hn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function N$(){return new M(3300,!1)}()),s=[]),r.length)throw function L$(n){return new M(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Oi))})});const c=ir(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function V$(n){return new M(3301,!1)}();return e}listen(t,e,i,r){const o=Hg(e,"","","");return Vg(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const WM="ng-animate-queued",nm="ng-animate-disabled",Hz=[],qM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},An="__ng_removed";class im{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Gz(n){return n??null}(i?t.value:t),i){const o=Pa(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Oa="void",rm=new im(Oa);class Uz{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,In(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function B$(n,t){return new M(3302,!1)}();if(null==i||0==i.length)throw function H$(n){return new M(3303,!1)}();if(!function Wz(n){return"start"==n||"done"==n}(i))throw function j$(n,t){return new M(3400,!1)}();const o=hn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=hn(this._engine.statesByElement,t,new Map);return a.has(e)||(In(t,vu),In(t,vu+"-"+e),a.set(e,rm)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function U$(n){return new M(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new om(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(In(t,vu),In(t,vu+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new im(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=rm),c.value!==Oa&&l.value===c.value){if(!function Yz(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const v=[],C=o.matchStyles(l.value,l.params,v),E=o.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Hr(t,C),di(t,E)})}return}const h=hn(this._engine.playersByElement,t,[]);h.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),m=!1;if(!f){if(!r)return;f=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:m}),m||(In(t,WM),s.onStart(()=>{is(t,WM)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);const C=this._engine.playersByElement.get(t);if(C){let E=C.indexOf(s);E>=0&&C.splice(E,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,bu,!0);i.forEach(r=>{if(r[An])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Oa,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&ir(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||rm,u=new im(Oa),d=new om(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[An];(!o||o===qM)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){In(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Hg(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Vg(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class $z{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Uz(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Pu(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Pu(e))return;const o=e[An];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),In(t,nm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),is(t,nm))}removeNode(t,e,i,r){if(Pu(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[An]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Pu(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,bu,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Gg,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ir(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[An];if(e&&e.setForRemoval){if(t[An]=qM,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(nm)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)In(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ir(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function $$(n){return new M(3402,!1)}()}_flushAnimations(t,e){const i=new Iu,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);const j=this.driver.query(F,".ng-animate-queued",!0);for(let X=0;X<j.length;X++)u.add(j[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=KM(h,this.collectedEnterElements),m=new Map;let v=0;f.forEach((F,j)=>{const X=zg+v++;m.set(j,X),F.forEach(ye=>In(ye,X))});const C=[],E=new Set,I=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){const j=this.collectedLeaveElements[F],X=j[An];X&&X.setForRemoval&&(C.push(j),E.add(j),X.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(ye=>E.add(ye)):I.add(j))}const D=new Map,k=KM(h,Array.from(E));k.forEach((F,j)=>{const X=yu+v++;D.set(j,X),F.forEach(ye=>In(ye,X))}),t.push(()=>{f.forEach((F,j)=>{const X=m.get(j);F.forEach(ye=>is(ye,X))}),k.forEach((F,j)=>{const X=D.get(j);F.forEach(ye=>is(ye,X))}),C.forEach(F=>{this.processLeaveNode(F)})});const J=[],pe=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(e).forEach(X=>{const ye=X.player,yt=X.element;if(J.push(ye),this.collectedEnterElements.length){const Pt=yt[An];if(Pt&&Pt.setForMove){if(Pt.previousTriggersValues&&Pt.previousTriggersValues.has(X.triggerName)){const $r=Pt.previousTriggersValues.get(X.triggerName),xn=this.statesByElement.get(X.element);if(xn&&xn.has(X.triggerName)){const Vu=xn.get(X.triggerName);Vu.value=$r,xn.set(X.triggerName,Vu)}}return void ye.destroy()}}const hi=!d||!this.driver.containsElement(d,yt),_n=D.get(yt),lr=m.get(yt),Xe=this._buildInstruction(X,i,lr,_n,hi);if(Xe.errors&&Xe.errors.length)return void pe.push(Xe);if(hi)return ye.onStart(()=>Hr(yt,Xe.fromStyles)),ye.onDestroy(()=>di(yt,Xe.toStyles)),void r.push(ye);if(X.isFallbackTransition)return ye.onStart(()=>Hr(yt,Xe.fromStyles)),ye.onDestroy(()=>di(yt,Xe.toStyles)),void r.push(ye);const gT=[];Xe.timelines.forEach(Pt=>{Pt.stretchStartingKeyframe=!0,this.disabledNodes.has(Pt.element)||gT.push(Pt)}),Xe.timelines=gT,i.append(yt,Xe.timelines),s.push({instruction:Xe,player:ye,element:yt}),Xe.queriedElements.forEach(Pt=>hn(a,Pt,[]).push(ye)),Xe.preStyleProps.forEach((Pt,$r)=>{if(Pt.size){let xn=l.get($r);xn||l.set($r,xn=new Set),Pt.forEach((Vu,dm)=>xn.add(dm))}}),Xe.postStyleProps.forEach((Pt,$r)=>{let xn=c.get($r);xn||c.set($r,xn=new Set),Pt.forEach((Vu,dm)=>xn.add(dm))})});if(pe.length){const F=[];pe.forEach(j=>{F.push(function z$(n,t){return new M(3505,!1)}())}),J.forEach(j=>j.destroy()),this.reportError(F)}const qe=new Map,pn=new Map;s.forEach(F=>{const j=F.element;i.has(j)&&(pn.set(j,j),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,qe))}),r.forEach(F=>{const j=F.element;this._getPreviousPlayers(j,!1,F.namespaceId,F.triggerName,null).forEach(ye=>{hn(qe,j,[]).push(ye),ye.destroy()})});const gn=C.filter(F=>QM(F,l,c)),mn=new Map;YM(mn,this.driver,I,c,Oi).forEach(F=>{QM(F,l,c)&&gn.push(F)});const Ni=new Map;f.forEach((F,j)=>{YM(Ni,this.driver,new Set(F),l,"!")}),gn.forEach(F=>{const j=mn.get(F),X=Ni.get(F);mn.set(F,new Map([...Array.from(j?.entries()??[]),...Array.from(X?.entries()??[])]))});const Kn=[],os=[],ss={};s.forEach(F=>{const{element:j,player:X,instruction:ye}=F;if(i.has(j)){if(u.has(j))return X.onDestroy(()=>di(j,ye.toStyles)),X.disabled=!0,X.overrideTotalTime(ye.totalTime),void r.push(X);let yt=ss;if(pn.size>1){let _n=j;const lr=[];for(;_n=_n.parentNode;){const Xe=pn.get(_n);if(Xe){yt=Xe;break}lr.push(_n)}lr.forEach(Xe=>pn.set(Xe,yt))}const hi=this._buildAnimation(X.namespaceId,ye,qe,o,Ni,mn);if(X.setRealPlayer(hi),yt===ss)Kn.push(X);else{const _n=this.playersByElement.get(yt);_n&&_n.length&&(X.parentPlayer=ir(_n)),r.push(X)}}else Hr(j,ye.fromStyles),X.onDestroy(()=>di(j,ye.toStyles)),os.push(X),u.has(j)&&r.push(X)}),os.forEach(F=>{const j=o.get(F.element);if(j&&j.length){const X=ir(j);F.setRealPlayer(X)}}),r.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<C.length;F++){const j=C[F],X=j[An];if(is(j,yu),X&&X.hasAnimation)continue;let ye=[];if(a.size){let hi=a.get(j);hi&&hi.length&&ye.push(...hi);let _n=this.driver.query(j,Gg,!0);for(let lr=0;lr<_n.length;lr++){let Xe=a.get(_n[lr]);Xe&&Xe.length&&ye.push(...Xe)}}const yt=ye.filter(hi=>!hi.destroyed);yt.length?qz(this,j,yt):this.processLeaveNode(j)}return C.length=0,Kn.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();const j=this.players.indexOf(F);this.players.splice(j,1)}),F.play()}),Kn}elementContainsData(t,e){let i=!1;const r=e[An];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Oa;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=hn(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}Hr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(m=>{const v=m.element;u.add(v);const C=v[An];if(C&&C.removedBeforeQueried)return new Da(m.duration,m.delay);const E=v!==l,I=function Xz(n){const t=[];return ZM(n,t),t}((i.get(v)||Hz).map(qe=>qe.getRealPlayer())).filter(qe=>!!qe.element&&qe.element===v),D=o.get(v),k=s.get(v),J=DM(0,this._normalizer,0,m.keyframes,D,k),pe=this._buildPlayer(m,J,I);if(m.subTimeline&&r&&d.add(v),E){const qe=new om(t,a,v);qe.setRealPlayer(pe),c.push(qe)}return pe});c.forEach(m=>{hn(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function zz(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>In(m,PM));const f=ir(h);return f.onDestroy(()=>{u.forEach(m=>is(m,PM)),di(l,e.toStyles)}),d.forEach(m=>{hn(r,m,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Da(t.duration,t.delay)}}class om{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Da,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Vg(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){hn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Pu(n){return n&&1===n.nodeType}function XM(n,t){const e=n.style.display;return n.style.display=t??"none",e}function YM(n,t,e,i,r){const o=[];e.forEach(l=>o.push(XM(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[An]=jz,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>XM(l,o[a++])),s}function KM(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function In(n,t){n.classList?.add(t)}function is(n,t){n.classList?.remove(t)}function qz(n,t,e){ir(e).onDone(()=>n.processLeaveNode(t))}function ZM(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof _0?ZM(i.players,t):t.push(i)}}function QM(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Ru{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new $z(t,e,i),this._timelineEngine=new Fz(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=Yg(this._driver,o,l,[]);if(l.length)throw function R$(n,t){return new M(3404,!1)}();a=function kz(n,t,e){return new Pz(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=EM(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=EM(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Zz=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(di(this._element,this._initialStyles),this._endStyles&&(di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hr(this._element,this._endStyles),this._endStyles=null),di(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function sm(n){let t=null;return n.forEach((e,i)=>{(function Qz(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class JM{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:VM(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Jz{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return AM(t,e)}getParentElement(t){return Ug(t)}query(t,e,i){return IM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof JM);(function iz(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((m,v)=>c.set(v,m))});let d=function J$(n){return n.length?n[0]instanceof Map?n:n.map(t=>RM(t)):[]}(e).map(f=>or(f));d=function rz(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,VM(n,a)))}}return t}(t,d,c);const h=function Kz(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=sm(t[0]),t.length>1&&(i=sm(t[t.length-1]))):t instanceof Map&&(e=sm(t)),e||i?new Zz(n,e,i):null}(t,d);return new JM(t,d,l,h)}}let e4=(()=>{class n extends p0{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Pn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?g0(e):e;return eT(this._renderer,null,i,"register",[r]),new t4(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(w(Ps),w(re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class t4 extends class cj{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new n4(this._id,t,e||{},this._renderer)}}class n4{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eT(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const tT="@.disabled";let i4=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new nT("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new r4(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(w(Ps),w(Ru),w(de))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class nT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tT?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class r4 extends nT{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tT?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function o4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function s4(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}const iT=[{provide:p0,useClass:e4},{provide:em,useFactory:function l4(){return new Tz}},{provide:Ru,useClass:(()=>{class n extends Ru{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(w(re),w($g),w(em),w(Lo))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})()},{provide:Ps,useFactory:function c4(n,t,e){return new i4(n,t,e)},deps:[_c,Ru,de]}],am=[{provide:$g,useFactory:()=>new Jz},{provide:Ei,useValue:"BrowserAnimations"},...iT],rT=[{provide:$g,useClass:xM},{provide:Ei,useValue:"NoopAnimations"},...iT];let u4=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rT:am}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({providers:am,imports:[tD]}),n})(),M4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n}),n.\u0275inj=Se({imports:[Yn,Yn]}),n})(),T4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Re({type:n,bootstrap:[d$]}),n.\u0275inj=Se({imports:[tD,a$,xp,w3,u4,R3,tU,M4,$U,v0]}),n})();(function lF(){sw=!1})(),DL().bootstrapModule(T4).catch(n=>console.error(n))}},_e=>{_e(_e.s=173)}]);